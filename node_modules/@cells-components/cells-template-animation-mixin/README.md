![cells-template-animation-mixin screenshot](cells-template-animation-mixin.png)

# cells-template-animation-mixin

![LitElement component](https://img.shields.io/badge/litElement-component-blue.svg)

![Certificated](https://img.shields.io/badge/certificated-yes-brightgreen.svg)

[Demo of component in Cells Catalog](https://catalogs.platform.bbva.com/cells)

`CellsTemplateAnimationMixin` is a mixin to manage template animations (transitions between pages).

#### Import

1) Import the mixin and mixin styles in your component:

```js
import { CellsTemplateAnimationMixin, CellsTemplateAnimationMixinStyles } from '@cells-components/cells-template-animation-mixin/cells-template-animation-mixin.js'
```

2) Add CellsTemplateAnimationMixin to the mixin list in the JS file or script of your component:

```js
    class XCellsTemplateAnimationMixin extends CellsTemplateAnimationMixin(LitElement) {
      static get is() {
        return 'x-cells-amount-mixin-test';
      }

      static get properties() {
        return {};
      }
    }

    customElements.define(XCellsTemplateAnimationMixin.is, XCellsTemplateAnimationMixin);
```

3) Add `CellsTemplateAnimationMixinStyles` cssText in the styles of your component::

```js
  static get styles() {
    return [
      styles,
      CellsTemplateAnimationMixinStyles
    ];
  }
```

## Available animation types
The animation type is established setting different values for the `animation-type` attribute for the outgoing and incoming pages.

### `horizontal` (default)
Both pages have an horizontal transition in both directions (forwards and backwards).

### `verticalDownForwards`
The outgoing page has a vertical transition (to bottom) in the forwards direction and an horizontal transition (to the right) in the backwards direction.

**animation-type**
- outgoing page: `verticalDownForwards`
- incoming page: `horizontal`

### `verticalDownBackwards`
The outgoing page has an horizontal transition (to the left) in the forwards direction and a vertical transition (to bottom) in the backwards direction.

**animation-type**
- outgoing page: `horizontal`
- incoming page: `verticalDownBackwards`

### `verticalUp` (modal behavior)
The outgoing page remains static while the new page appears over it with a vertical transition (from bottom to top) in the forwards direction. The outgoing page disappears with a vertical transition (to bottom) revealing the previous page below it.

**animation-type**
- outgoing page: `static`
- incoming page: `verticalUp`

### `staticEver` (no animation)
There is no visible animation between pages.

**animation-type**
- outgoing page: `staticEver`
- incoming page: `staticEver`

## Reset scroll in cached template

To reset the scroll in a template after navigating to another page, set the property `resetScroll` to `true` in the template you want to reset. By default, the scroll is reset in a node with ID `app__main`. If your template does not have that node, you should specify the node in which the scroll will be reset using the property `scrollerNode`. This attribute expects a CSS selector like `#app__main`.

Example (json or js in app config):

```js
template: {
  tag: 'cells-template-paper-drawer-panel',
  properties: {
    animationType: 'verticalUp',
    resetScroll: true
  }
}
```


 ## Styling

The following custom properties are available for styling:

### Custom properties

| Selector                                  | CSS Property              | CSS Variable                               | Theme Variable | Foundations/Fallback         |
| ----------------------------------------- | ------------------------- | ------------------------------------------ | -------------- | ---------------------------- |
| :host(.template-animation-moveFromRight)  | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveToLeft)     | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveFromLeft)   | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveToRight)    | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveFromBottom) | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveToTop)      | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveFromTop)    | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveToBottom)   | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-fade-in)        | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-fade-out)       | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-static)         | animation-duration        | --cells-template-animation-duration        |                | 195ms                        |
| :host(.template-animation-moveFromRight)  | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-moveToLeft)     | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-moveFromLeft)   | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-moveToRight)    | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-moveFromBottom) | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-moveToTop)      | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-moveFromTop)    | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-moveToBottom)   | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-fade-in)        | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-fade-out)       | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
| :host(.template-animation-static)         | animation-timing-function | --cells-template-animation-timing-function |                | cubic-bezier(0.4, 0, 0.2, 1) |
> Styling documentation generated by Cells CLI
