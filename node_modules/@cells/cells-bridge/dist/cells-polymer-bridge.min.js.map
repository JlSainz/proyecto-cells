{"version":3,"sources":["webpack://cellsPolymer/webpack/universalModuleDefinition","webpack://cellsPolymer/cells-polymer-bridge.min.js","webpack://cellsPolymer/webpack/bootstrap","webpack://cellsPolymer/./node_modules/es5-dot-prop/index.js","webpack://cellsPolymer/./node_modules/node-libs-browser/node_modules/events/events.js","webpack://cellsPolymer/./node_modules/cells-semaas-adapter/dist/cells-semaas-adapter.js","webpack://cellsPolymer/./src/polyfills.js","webpack://cellsPolymer/(webpack)/buildin/module.js","webpack://cellsPolymer/./node_modules/is-obj/index.js","webpack://cellsPolymer/./node_modules/tslib/tslib.es6.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isObject.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/Subscription.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/canReportError.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/noop.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/pipe.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/Observable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/map.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/fromEvent.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/filter.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/empty.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isScheduler.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/fromArray.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/of.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/throwError.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isIterable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/from.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/mergeMap.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/identity.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/mergeAll.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/merge.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/concatAll.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/observable/concat.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/startWith.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/take.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/first.js","webpack://cellsPolymer/./src/core/featureflag/feature-flag-component.js","webpack://cellsPolymer/./src/polymer/resolution-checker.js","webpack://cellsPolymer/./src/core/manager/events.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/Notification.js","webpack://cellsPolymer/./src/core/constants.js","webpack://cellsPolymer/./src/core/manager/dom.js","webpack://cellsPolymer/./src/core/manager/storage.js","webpack://cellsPolymer/./src/core/connector.js","webpack://cellsPolymer/./src/core/utils.js","webpack://cellsPolymer/./src/core/sanitizer.js","webpack://cellsPolymer/./src/core/manager/page.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/config.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/Observer.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isArray.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/Subscriber.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/Subject.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduler/Action.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/Scheduler.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/scheduler/queue.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/operators/observeOn.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/ReplaySubject.js","webpack://cellsPolymer/./src/core/state/channel.js","webpack://cellsPolymer/./src/core/state/subscriptor.js","webpack://cellsPolymer/./src/core/featureflag/feature-flag-collection.js","webpack://cellsPolymer/./src/core/component-connector.js","webpack://cellsPolymer/./src/core/route.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/InnerSubscriber.js","webpack://cellsPolymer/./src/core/router.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/OuterSubscriber.js","webpack://cellsPolymer/./src/core/navigation-stack.js","webpack://cellsPolymer/./src/core/manager/import.js","webpack://cellsPolymer/./src/core/component.js","webpack://cellsPolymer/./src/core/template.js","webpack://cellsPolymer/./src/core/manager/template.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/EmptyError.js","webpack://cellsPolymer/./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js","webpack://cellsPolymer/./src/core/manager/bridge-channels.js","webpack://cellsPolymer/./src/core/manager/action-channels.js","webpack://cellsPolymer/./src/core/composer/composer-engine-proxy.js","webpack://cellsPolymer/./src/core/monitoring.js","webpack://cellsPolymer/./src/core/manager/post-message.js","webpack://cellsPolymer/./src/core/bridge.js","webpack://cellsPolymer/./src/polymer/component-connector.js","webpack://cellsPolymer/./src/polymer/template.js","webpack://cellsPolymer/./src/polymer/manager/template.js","webpack://cellsPolymer/./src/polymer/component.js","webpack://cellsPolymer/./src/polymer/bridge.js","webpack://cellsPolymer/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getPathSegments","path","pathArr","split","parts","length","undefined","slice","push","isObj","require","obj","propertyIsEnumerable","set","delete","has","ProcessEmitWarning","warning","console","warn","EventEmitter","init","this","checkListener","listener","TypeError","_getMaxListeners","that","_maxListeners","defaultMaxListeners","_addListener","target","type","prepend","events","existing","_events","_eventsCount","newListener","emit","unshift","warned","w","Error","String","emitter","count","onceWrapper","fired","removeListener","wrapFn","arguments","apply","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","arr","copy","Array","spliceOne","list","index","pop","ret","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","on","prependListener","once","prependOnceListener","position","originalListener","shift","off","removeAllListeners","keys","rawListeners","eventNames","global","request","method","_this","_ref","asyncToGenerator","regeneratorRuntime","mark","_callee","options","url","body","headers","configuration","response","result","wrap","_context","prev","next","JSON","stringify","content-type","forEach","header","headerValue","fetch","sent","ok","abrupt","json","t0","stop","_x","outerDecorator","duration","descriptor","configurable","debounce","debounceWrapper","_len","_key","clear","timeoutId","setTimeout","DEFAULT_DEBOUNCE_DURATION","clearTimeout","_applyDecoratedDescriptor","decorators","desc","initializer","writable","reverse","reduce","decorator","_typeof","iterator","constructor","fn","gen","Promise","resolve","reject","step","info","done","then","classCallCheck","instance","Constructor","createClass","defineProperties","props","protoProps","staticProps","_extends","assign","source","toConsumableArray","isArray","arr2","from","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","AsyncIterator","invoke","record","hasOwn","__await","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","GenStateSuspendedYield","return","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","values","iterable","iteratorMethod","iteratorSymbol","Op","$Symbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","displayName","isGeneratorFunction","genFun","ctor","setPrototypeOf","__proto__","awrap","async","iter","toString","skipTempReset","charAt","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","_dec","_class","SEMAAS_REQUIRED_FIELDS","SEMAAS","DEFAULT_ADAPTER_IDENTIFIER","DEFAULT_ADAPTER_VERSION","REQUIRED_FIELDS","ALLOWED_FIELDS","buildServiceUri","codename","region","dnsTld","version","filter","Boolean","join","RHO","HOST","OMEGA","DEFAULT_LOG_LEVEL","MAXIMUM_BULK_SIZE","Constants","dotify","SEPARATOR_KEY","res","recurse","current","newKey","sanitizeObj","allowedFields","prop","includes","properties","hasProperty","field","hasProperties","expectedFields","every","groupBy","items","itemsContainingKey","find","createUUID","hexDigits","substr","Math","floor","random","uuid","Utils","OMEGA$1","sanitizeObj$1","Omega","mrId","sanitizedData","DEFAULT_LOG","creationDate","Date","now","level","RHO$1","ALLOWED_FIELDS$1","sanitizeObj$2","_createUUID","Span","config","spanId","initialize","start","startDate","finishDate","Rho","rawData","childSpanPrefix","DEFAULT_MR_ID","_rawData$mrId","parentSpan","normalizedParentSpan","getParentSpan","data","span","iterableData","map","item","Adapters","METHODS","GET","POST","Connector","get$$1","_x2","_x3","_ref2","_callee2","_context2","post","_x4","_x5","_x6","_ref3","_callee3","_context3","decorate","Decorators","groupBy$1","Queue","identifier","endpoint","operation","any","queueGroupedByEndpoint","firstQueueGroup","bulk","newQueue","log","Omega$1","Rho$1","_Constants$SEMAAS","ALLOWED_FIELDS$2","OMEGA_HOST","RHO_HOST","hasProperties$1","outerDecorator$1","SEMaaS","nameSpace","consumerId","policy","tsec2JWTEndpoint","apiKey","omega","rho","queue","setup","validateConfig","createLog","omegaEndpoint","spans","buildSpans","rhoEndpoint","createSpan","prefixForChildSpan","UUID","send","add","flush","validApiKey","_this2","ensureValidApiKey","dump","buildApiHeaders","hasApiKey","hasCredentials","getApiKey","toLowerCase","_ref5","_callee4","host","accessToken","_context4","x-consumer-id","x-tsec-token","sessionStorage","getItem","x-validation-policy","tsec","getEndpoint","getOwnPropertyDescriptor","entries","ownProps","resArray","endsWith","searchString","subjectString","isFinite","lastIndex","indexOf","webpackPolyfill","deprecate","paths","children","x","__webpack_exports__","_classCallCheck","_defineProperties","_createClass","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_getPrototypeOf","_inherits","subClass","superClass","_setPrototypeOf","dom_typeof","dom_classCallCheck","dom_defineProperties","dom_createClass","storage_extends","storage_classCallCheck","storage_defineProperties","storage_createClass","connector_classCallCheck","connector_defineProperties","connector_createClass","sanitizer_extends","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","sanitizer_classCallCheck","sanitizer_defineProperties","sanitizer_createClass","page_extends","page_classCallCheck","page_defineProperties","page_createClass","__extends","b","__","extendStatics","isFunction","hostReportError","isObject","flattenUnsubscriptionErrors","errors","errs","UnsubscriptionError","canReportError","observer","_a","closed_1","closed","destination","isStopped","Subscriber_Subscriber","toSubscriber","nextOrObserver","rxSubscriber","empty","noop","pipeFromArray","fns","input","getPromiseCtor","promiseCtor","config_config","project","thisArg","lift","MapOperator","fromEvent","eventName","resultSelector","pipe","Observable_Observable","subscriber","e","setupSubscription","sourceObj","unsubscribe","isEventTarget","source_1","addEventListener","removeEventListener","isJQueryStyleEventEmitter","source_2","isNodeStyleEventEmitter","source_3","predicate","FilterOperator","empty_empty","scheduler","emptyScheduled","EMPTY","schedule","isScheduler","scheduleArray","sub","Subscription_Subscription","fromArray","subscribeToArray","of","_i","throwError","dispatch","subscriptor_classCallCheck","subscriptor_defineProperties","subscriptor_createClass","_defineProperty","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_s","feature_flag_collection_extends","feature_flag_collection_classCallCheck","feature_flag_collection_defineProperties","feature_flag_collection_createClass","component_connector_extends","component_connector_classCallCheck","component_connector_defineProperties","component_connector_createClass","route_classCallCheck","route_defineProperties","route_createClass","getSymbolIterator","isPromise","subscribe","subscribeToResult","outerSubscriber","outerValue","outerIndex","innerSubscriber","InnerSubscriber_InnerSubscriber","subscribeTo","scheduleObservable","observable","observable_observable","schedulePromise","scheduleIterable","iterator_iterator","isInteropObservable","isIterable","scheduled","isArrayLike","mergeMap","concurrent","POSITIVE_INFINITY","a","ii","MergeMapOperator","identity","mergeAll","merge","observables","last","concatAll","startWith","array","distinctUntilChanged","compare","keySelector","DistinctUntilChangedOperator","navigation_stack_classCallCheck","navigation_stack_defineProperties","navigation_stack_createClass","router_slicedToArray","router_arrayWithHoles","router_iterableToArrayLimit","router_nonIterableRest","router_typeof","router_classCallCheck","router_defineProperties","router_createClass","router_possibleConstructorReturn","router_assertThisInitialized","_get","base","_superPropBase","router_getPrototypeOf","router_inherits","router_setPrototypeOf","import_classCallCheck","import_defineProperties","import_createClass","component_typeof","component_classCallCheck","component_defineProperties","component_createClass","component_possibleConstructorReturn","component_assertThisInitialized","component_getPrototypeOf","component_inherits","component_setPrototypeOf","template_typeof","template_classCallCheck","template_defineProperties","template_createClass","template_possibleConstructorReturn","template_assertThisInitialized","template_getPrototypeOf","template_inherits","template_setPrototypeOf","manager_template_classCallCheck","manager_template_defineProperties","manager_template_createClass","take","take_TakeOperator","defaultIfEmpty","defaultValue","DefaultIfEmptyOperator","throwIfEmpty","errorFactory","defaultErrorFactory","ThrowIfEmptyOperator","EmptyError","first","hasDefaultValue","v","bridge_channels_classCallCheck","bridge_channels_defineProperties","bridge_channels_createClass","action_channels_classCallCheck","action_channels_defineProperties","action_channels_createClass","composer_engine_proxy_classCallCheck","composer_engine_proxy_defineProperties","composer_engine_proxy_createClass","monitoring_extends","monitoring_classCallCheck","monitoring_defineProperties","monitoring_createClass","feature_flag_component_defineProperty","feature_flag_component_extends","defaultChangedCallback","_defaultCallbackElement","extend","cellsComponent","bridge","extraConnections","_defaultConnections","spec","nodeFFCallback","node","BRIDGE_BIND_KEY","_nodeFFCallbackWrap","connections","lastValue","in","BRIDGE_CHANNEL_KEY","_nodeFFCalback_toggleVisibility","fFValue","style","visibility","fFCallback","featureFlagCollection","ComponentConnector","_ffValue","featureFlag","_ffValueResult","_connections","_updateInConnections","subscriptors","inConnections","k","post_message_classCallCheck","post_message_defineProperties","post_message_createClass","asyncGeneratorStep","_next","_throw","_asyncToGenerator","bridge_extends","bridge_typeof","bridge_classCallCheck","bridge_defineProperties","bridge_createClass","polymer_component_connector_classCallCheck","polymer_component_connector_defineProperties","polymer_component_connector_createClass","component_connector_possibleConstructorReturn","component_connector_typeof","component_connector_assertThisInitialized","component_connector_get","component_connector_superPropBase","component_connector_getPrototypeOf","component_connector_inherits","component_connector_setPrototypeOf","isPolymerElementUnresolved","isCustomElement","tagName","isPolymer1","__isPolymerInstance__","isPolymer2","Polymer","Element","ElementMixin","LegacyElementMixin","is","ready","notifyPath","isLitElement","updateComplete","render","polymer_template_typeof","polymer_template_classCallCheck","polymer_template_defineProperties","polymer_template_createClass","polymer_template_possibleConstructorReturn","polymer_template_assertThisInitialized","polymer_template_getPrototypeOf","polymer_template_inherits","polymer_template_setPrototypeOf","manager_template_typeof","polymer_manager_template_classCallCheck","polymer_manager_template_defineProperties","polymer_manager_template_createClass","manager_template_possibleConstructorReturn","manager_template_assertThisInitialized","manager_template_getPrototypeOf","manager_template_inherits","manager_template_setPrototypeOf","polymer_component_typeof","polymer_component_classCallCheck","polymer_component_defineProperties","polymer_component_createClass","polymer_component_possibleConstructorReturn","polymer_component_assertThisInitialized","polymer_component_getPrototypeOf","polymer_component_inherits","polymer_component_setPrototypeOf","polymer_bridge_typeof","polymer_bridge_extends","polymer_bridge_classCallCheck","polymer_bridge_defineProperties","polymer_bridge_createClass","bridge_possibleConstructorReturn","bridge_assertThisInitialized","bridge_get","bridge_superPropBase","bridge_getPrototypeOf","bridge_inherits","bridge_setPrototypeOf","events_default","maxNumListeners","CustomEventEmitter","_EventEmitter","callback","eventManager","NotificationKind","bindingCodes","ALWAYS","DELAYED","UI","CURRENTVIEW","binding","DEFAULT","VALUES","externalEventsCodes","PAGE_READY","PARSE_ROUTE","AFTER_PUBLISH","NAV_REQUEST","BEFORE_SET_ATTR_TO_NODE","AFTER_SET_ATTR_TO_NODE","BEFORE_CREATE_NODE","AFTER_CREATE_NODE","BEFORE_IMPORT","AFTER_IMPORT","PAGE_REQUEST","PAGE_RESPONSE","DATA_LOAD","TEMPLATE_TRANSITION_END","TRACK_EVENT","TEMPLATE_REGISTERED","ROUTER_BACKSTEP","LOG_EVENT","externalEvents","componentsPath","composerEndpoint","deployEndpoint","initialTemplate","monitoring","pagesPath","prplCodes","NONE","DEFER","PROGRESSIVE","HERO","prpl","preRenderState","WORKING","REQUESTED","renderEngines","litElement","constants","CellsManagerDom","elements","element","createElement","__zone","zone","attrs","document","setAttrs","InMemmoryStorage","dictionary","CellsStorage","prefix","persistent","internalStorage","parse","storage","setItem","pattern","RegExp","test","removeItem","store","localStorage","CellsBridgeConnector","format","xhr","XMLHttpRequest","toUpperCase","status","responseText","statusText","open","setRequestHeader","dasherize","str","trim","replace","camelize","mathc","sep","utils","getPathFromComponent","componentDefinition","familyPath","tag","_tag","firstPath","CellsBridgeComposerSanitizer","component","componentType","fixed","priority","configType","_parseConnections","components","LTRIM_SLASH","_parseComponentsFromJson","jsonTemplate","template","_buildConfig","pages","jsonPages","page","currentPage","rawComponentDefinition","_normalizeComponentDefinition","cellsConnections","componentDefinitionWithConnections","params","_parseConnectionsParams","out","DEFAULT_PROPERTIES","paramDef","outBind","_createConnection","CC","DM","CellsManagerPage","_initCellsPageManager","_bridge$htmlPagesPath","htmlPagesPath","htmlPages","templatesPath","remoteTemplates","appId","getPlatform","cache","storagePrefix","composerEngine","TemplateManager","connector","CellsConnector","sanitizer","CellsSanitizer","replaced","hasTemplatePath","hasRemoteTemplates","oldWayOnlyCompopserEndpointDefined","_isLocalComposer","_localTemplate","_remoteTemplate","_renderComposerEndpoint","useComposerEngineForThisPage","removeTemplate","_getFromComposerEngine","_getFromConnector","getPage","_onResponse","generateRequestUrl","getJSON","_onResponseFail","getHTML","_onResponseHTML","html","onPageDefinitionNotFound","_enable_super_gross_mode_that_will_cause_bad_things","useDeprecatedSynchronousErrorHandling","stack","UnsubscriptionErrorImpl","Subscription","_parentOrParents","_subscriptions","_unsubscribe","remove","parent_1","teardown","subscription","tmp","subscriptions","subscriptionIndex","splice","_super","Subscriber","destinationOrNext","syncErrorValue","syncErrorThrown","syncErrorThrowable","Subscriber_SafeSubscriber","_error","_complete","_unsubscribeAndRecycle","SafeSubscriber","_parentSubscriber","observerOrNext","__tryOrSetError","__tryOrUnsub","wrappedComplete","parent","Observable","_isScalar","_subscribe","operator","sink","_trySubscribe","operations","toPromise","map_MapSubscriber","MapSubscriber","filter_FilterSubscriber","FilterSubscriber","ObjectUnsubscribedErrorImpl","ObjectUnsubscribedError","SubjectSubscription_SubjectSubscription","SubjectSubscription","subject","observers","subscriberIndex","Subject_SubjectSubscriber","SubjectSubscriber","Subject_Subject","Subject","hasError","thrownError","Subject_AnonymousSubject","asObservable","AnonymousSubject","Action_Action","Action","work","delay","AsyncAction_AsyncAction","AsyncAction","pending","id","recycleAsyncId","requestAsyncId","setInterval","clearInterval","execute","_execute","errored","errorValue","actions","QueueAction_QueueAction","QueueAction","Scheduler","SchedulerAction","AsyncScheduler_AsyncScheduler","AsyncScheduler","active","action","QueueScheduler_QueueScheduler","QueueScheduler","Notification_Notification","Notification","kind","hasValue","observe","do","accept","toObservable","createNext","undefinedValueNotification","createError","createComplete","completeNotification","observeOn_ObserveOnSubscriber","ObserveOnOperator","ObserveOnSubscriber","notification","scheduleMessage","ObserveOnMessage","ReplaySubject_ReplaySubject","ReplaySubject","bufferSize","windowTime","_infiniteTimeWindow","_bufferSize","_windowTime","nextInfiniteTimeWindow","nextTimeWindow","ReplayEvent","_getNow","_trimBufferThenGetEvents","eventsCount","spliceCount","time","max","createChannel","channel","_nextFromSuperClass","generateUUID","getTime","hasObservers","onError","unsubscribeAll","clean","dispose","Subscriptor","publications","event","intervals","ids","getTimeFromNode","setTimeForNode","getTimeFromChannel","getIdFromNode","setIdForNode","getIdFromChannel","fnReplayOff","lastInterval","nodeInterval","lastId","nodeId","previousState","hasSubscription","makeCallbackWithNoReplay","pos","_firstInstanceOfObserver","subscriptionDetail","cleanPrivateChannels","match","Map","FeatureFlagCollection","_featureCollection","_conector","featureCollection","_publish","singleFeatureCollection","featureResponse","features","manager","getSubscriptor","CustomEvent","collection","ChannelManager","channels","getUnsafe","unregisterAllSubscriptors","cleanAllChannels","channelName","removeAllChannels","bridgeChannelsPrefix","subscriptor","_registerOutConnections","_registerInConnections","bindName","addSubscription","_wrapCallbackWithNode","updateSubscription","isActiveBridgeChannel","hasSubscriptions","cb","wrapCallback","hasPublisher","publication","outConnections","addPublication","outConnectionDefinition","isBridgeChannel","_hasPublisher","publish","wrapEvent","customEventName","detail","normalizedChannels","byChannelName","targetSubscriptions","findIndex","wrappedCb","AT_TARGET","Event","eventPhase","connection","FeatureFlagCollection_lastValue","wrappedListener","_isEventAtTarget","link","linkObject","backStep","analytics","wrapEventHandler","evt","Route","regexp","redirectPage","isAccessible","PARAM","TRAILING_SLASHES","exec","queryParams","param","encodeURIComponent","matchPath","_parseParam","query","queryParam","_404_PAGE_NAME","parseInt","parseFloat","_isNumber","_disposables","_currentRoute","_404Route","InnerSubscriber","notifyNext","notifyError","notifyComplete","subscribeToPromise","promise","subscribeToIterable","subscribeToObservable","obs","msg","OuterSubscriber_OuterSubscriber","OuterSubscriber","innerValue","innerIndex","innerSub","mergeMap_MergeMapSubscriber","MergeMapSubscriber","hasCompleted","buffer","_tryNext","_innerSub","ish","innerSubscription","distinctUntilChanged_DistinctUntilChangedSubscriber","DistinctUntilChangedSubscriber","hasKey","y","NavigationStack","navStack","skipNav","nav","skipHistory","to","navCount","createNavigation","routeFrom","routeTo","route","top","newNav","lastNav","lastNavigation","isBackwardNavigation","isSkipNavigation","_reverseNavigation","targetPage","currentRoute","_useHistory","_routes","SerialSubscription","_Subscription","_currentSubscription","Router","navigationStack","_createNavigationStack","isNavigationInProgress","routes","__routes","routeName","addRoute","skipNavs","addSkipNavigation","location","hash","HASH_PREFIX","_getHashPath","pathname","PATH_PREFIX","_getURLPath","fullPath","_fullPath$split","_fullPath$split2","_parseQuery","is404","parsePath","parseQuery","querystr","queries","_queries$i$split","_queries$i$split2","decodeURIComponent","route404","routeWithSamePattern","getRouteWithPattern","patternToMath","_this3","_setup404","useHistory","_observeStateChange","_observeHashChange","matchRoute","hashIsDirty","currentRouteName","currentRouteParams","createRoute","newRouteName","update","go","disposable","goReplacing","newNavigation","reverseNav","reverseNavigation","sanitizedName","getPath","updatePathInBrowser","navigation","fromRoute","auxFromRoute","backRoute","getLastRoute","historyReplaceState","historyPushState","locationReplace","locationHash","history","replaceState","pushState","_clearStack","clearUntil","SUPPORTS_HISTORY_API","_after","times","func","CellsManagerImport","endPoint","componentPath","rel","href","onload","onerror","setAttribute","head","appendChild","_importElement","baseUri","pageName","finishComponentLoading","iCb","_this4","priorityLists","_createPriorityLists","_chainElementLoading","sort","priorityA","priorityB","elem","sortedList","_createSortedArratByPriorityAndUniqueElements","currentPriority","pivote","elementPriorityLists","_this5","currentPromises","j","_importElementPromise","all","CellsBridgeComponent","_CellsBridgeManagerDo","ignoreAttr","HTMLElement","CellsBridgeManagerDom","CellsBridgeTemplate","_CellsComponent","_getPrototypeOf2","_temp","fixedChildren","zoneId","curTemplate","$","querySelector","_setAttribute","_getTemplate","_nextNavigation","isPage","_getCellsTemplateFromShadowRootChildNodes","shadowRoot","childNodes","el","newContentComponents","newFixedChildren","zoneCache","getZone","cellsTemplateConfig","_cellsTemplateConfig$","templateId","templateName","setProps","CellsComponent","CellsManagerTemplate","templates","selected","locations","size","fixedTemplates","persistentPages","viewLimit","maxSize","isPrerendering","_createFromJSON","_storeTemplate","componentName","_createCellsTemplate","_createFromHTMLElement","templateIsNotInFixedTemplates","cacheRanOutOfSpaceForNotFixedTemplates","olderTemplateToDeallocate","_getOlderRemovableTemplate","olderRemovableTemplate","found","isNotPersistantPage","CellsTemplate","oldPageName","bridgeChannelManager","tplName","deactivate","activate","updateAppContext","initPrivateChannel","parentNode","removeChild","crossContainerId","EmptyErrorImpl","ArgumentOutOfRangeErrorImpl","ArgumentOutOfRangeError","TakeOperator","total","take_TakeSubscriber","TakeSubscriber","defaultIfEmpty_DefaultIfEmptySubscriber","DefaultIfEmptySubscriber","isEmpty","throwIfEmpty_ThrowIfEmptySubscriber","ThrowIfEmptySubscriber","BridgeChannelManager","componentConnector","privateChannels","Set","getBridgeChannelPrefix","iddleChannel$","getAppContextChannelName","getCancelledBackNavigationChannelName","newName","getPrivateChannelPrefix","getPostMessageChannelPrefix","getAppContextChannel","getCancelledBackNavigationChannel","newPageName","publishPrivatePageStatus","getPrivate","createEvent","oldPage","newPage","fromPage","mainNode","bridgeChannels","chnlName","chnl","unregister","getEventChannelPrefix","ActionChannelManager","PageManager","getBridgeChannel","_configSubscriptor","_localesSubscriptor","_logoutSubscriptor","_isAllowedProperty","app","removeTemplates","I18nMsg","lang","logout","subscribeAll","ComposerEngineProxy","segments","customGroups","normalizedCustomGroups","initialParams","addParams","getComposerEngineChannelName","handleFeatureFlags","addSegments","addCustomGroups","segmentList","segmentId","customGroupList","aCustomGroup","existingGroup","isConstant","normalizeCustomGroups","group","customGroup","getPageForAll","cells_semaas_adapter","cells_semaas_adapter_default","es5_dot_prop","es5_dot_prop_default","dotProp","_Constants$monitoring","Monitoring","application","_bridge$semaas","semaas","logs","monitorArchitecture","applicationSemaasConfiguration","getApplicationConfiguration","initilizeSEMaaSAdapter","bridgeSemaasConfiguration","getBridgeConfiguration","semaasConfiguration","ingest","eventDetail","unflattenData","LOGGABLE_EVENTS","valuePath","feature_flag_component","PostMessageManager","postMessageTargetOrigin","enabled","getPostMessageChannel","_sendPostMessage","postMessage","DEFAULT_INITIAL_TEMPLATE","DEFAULT_PAGES_PATH","coreInstances","globalChannel","CellsBridge","DomManager","ImportManager","Sanitizer","prplLevel","debug","preCache","preRender","__mainNodeElement","useComposerEngine","appJson","navRequestListener","_normalizePrplLevel","preRenderingPages","dependencies","_initDependencies","_initComposerEngine","_plugExternalEvents","FeatureFlagComponent","defaultFeatures","src","_initCrossComponents","assert","$core","printDebugInfo","subscribeToEvent","registerInConnection","registerOutConnection","navigate","trackEvent","navigateToNative","cells","initAppContextChannel","_executePendingBridgeQueue","_logBridgeReady","routeHandler","addRoutes","_initSkipNavigations","navigationDetail","cleanUntil","paramPage","clearStackUntil","handleBack","setupPostMessages","back","goBack","cellsBridgeQueue","queuedItem","command","parameters","queuedCommand","logBridge","skipNavigations","addSkipNavigations","prplLevelCode","normalizedCode","prplList","payload","getMainNode","dispatchEvent","_loop","_dispatchEvent","monitor","_initEventChannels","isApplicationLogEvent","isLoggable","isBridgeLoggableEvent","buildLog","hasApplicationLoggingEnabled","logApplication","hasBridgeLoggingEnabled","initEventChannels","_addInitialSubscribersToEvents","eventSubscriptions","_subscribeToEvents","crossContainerTemplateId","parseTemplateId","crossContainer","crossContainerElement","getElementById","register","ManagerDom","ManagerPage","dependence","cmp","Component","container","_createCellsComponent","__parentTemplate","progressiveRegister","bindingType","itemsToInject","_createLocalComponent","isPreRendering","createComponentsByType","unresolvedComponents","templateParents","parentName","append","isUnresolved","loadComponent","selectTemplate","loadComponentByPriority","getNode","createFromComponent","loadPolymerWebComponent","isLocal","_isLocalTemplate","onlyLitElements","_createTemplateFromSpec","loadBundleForTemplate","_preRender","_this6","pageAlreadyLoaded","loadTemplate","templateResponse","doPreRender","_idleCallback","createTemplate","_this7","_createComponents","getColor","option","color","hexColor","_handleRouteLoading","eventData","fill","_this8","isRoutableComponent","createPageFromWebComponent","selectPage","currentTemplate","previousTemplate","unregisterChildren","registerChildren","_updateChannels","oldName","htmlElement","_this9","oldTemplateName","onRender","_waitRenderComplete","_handleParams","select","shouldBindParams","_this10","shouldRender","onTemplateAnimationFinishes","registerCurrentTemplate","animationCompleteEvent","listenToOnce","animateTemplate","getIdleCallbackChannel","resetBridgeChannels","_resetBridgeChannels","removeTemplateChildrens","_dashToCamelCase","group1","_getProperyChangedName","propertyName","EVENT_CHANGED","_parseActionInEvent","targetPath","CellsPolymerComponentConnector","_CellsComponentConnec","requestIdleCallback","checkDispatchActionType","mutations","observerObject","isPolymerElement","_isPolymerElement","_isLitElement","_dispatchActionFunction","_dispatchActionProperty","disconnect","MutationObserver","attributes","childList","characterData","_whichPolymerVersion","normalizedTagName","_window","customElements","atTarget","Settings","hasShadow","useShadow","normalizedEvent","dom","localTarget","currentTarget","rootTarget","parsePayload","_properties","_finalize","isProperty","_handleAttribute","getPropertyInfo","_getTargetProperties","defined","readOnly","computed","removeAttribute","__isCellsConnected","_action","attrName","polymerVersion","__data","_hasReadOnlyEffect","_hasComputedEffect","oldValue","__data__","CellsComponentConnector","PolymerTemplate","_CellsBridgeTemplate","PolymerTemplateManager","_CellsManagerTemplate","cellsTemplate","_createCellsTemplateConfig","parseTemplateName","PolymerComponent","_CellsBridgeComponent","CellsPolymerBridge","_CellsBridge","avoidPolymerEventCache","origGetEvent","Base","_getEvent","bubbles","cancelable","PolymerComponentConnector","TARGET_NAMESPACE","TARGETS","windowExport","Bridge"],"mappings":"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","file":"cells-polymer-bridge.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cellsPolymer\"] = factory();\n\telse\n\t\troot[\"cellsPolymer\"] = factory();\n})(window, function() {\nreturn ","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cellsPolymer\"] = factory();\n\telse\n\t\troot[\"cellsPolymer\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isObj = __webpack_require__(7);\n\nfunction getPathSegments(path) {\n  var pathArr = path.split('.');\n  var parts = [];\n\n  for (var i = 0; i < pathArr.length; i++) {\n    var p = pathArr[i];\n\n    while (p[p.length - 1] === '\\\\' && pathArr[i + 1] !== undefined) {\n      p = p.slice(0, -1) + '.';\n      p += pathArr[++i];\n    }\n\n    parts.push(p);\n  }\n\n  return parts;\n}\n\nmodule.exports = {\n  get: function (obj, path, value) {\n    if (!isObj(obj) || typeof path !== 'string') {\n      return value === undefined ? obj : value;\n    }\n\n    var pathArr = getPathSegments(path);\n\n    for (var i = 0; i < pathArr.length; i++) {\n      if (!Object.prototype.propertyIsEnumerable.call(obj, pathArr[i])) {\n        return value;\n      }\n\n      obj = obj[pathArr[i]];\n\n      if (obj === undefined || obj === null) {\n        // `obj` is either `undefined` or `null` so we want to stop the loop, and\n        // if this is not the last bit of the path, and\n        // if it did't return `undefined`\n        // it would return `null` if `obj` is `null`\n        // but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n        if (i !== pathArr.length - 1) {\n          return value;\n        }\n\n        break;\n      }\n    }\n\n    return obj;\n  },\n  set: function (obj, path, value) {\n    if (!isObj(obj) || typeof path !== 'string') {\n      return;\n    }\n\n    var pathArr = getPathSegments(path);\n\n    for (var i = 0; i < pathArr.length; i++) {\n      var p = pathArr[i];\n\n      if (!isObj(obj[p])) {\n        obj[p] = {};\n      }\n\n      if (i === pathArr.length - 1) {\n        obj[p] = value;\n      }\n\n      obj = obj[p];\n    }\n  },\n  delete: function (obj, path) {\n    if (!isObj(obj) || typeof path !== 'string') {\n      return;\n    }\n\n    var pathArr = getPathSegments(path);\n\n    for (var i = 0; i < pathArr.length; i++) {\n      var p = pathArr[i];\n\n      if (i === pathArr.length - 1) {\n        delete obj[p];\n        return;\n      }\n\n      obj = obj[p];\n\n      if (!isObj(obj)) {\n        return;\n      }\n    }\n  },\n  has: function (obj, path) {\n    if (!isObj(obj) || typeof path !== 'string') {\n      return false;\n    }\n\n    var pathArr = getPathSegments(path);\n\n    for (var i = 0; i < pathArr.length; i++) {\n      if (isObj(obj)) {\n        if (!(pathArr[i] in obj)) {\n          return false;\n        }\n\n        obj = obj[pathArr[i]];\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  }\n};\n\n/***/ }),\n/* 2 */,\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {(function (global, factory) {\n   true ? module.exports = factory() :\n  undefined;\n}(this, (function () { 'use strict';\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var asyncToGenerator = function (fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  };\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var defineProperty = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var toConsumableArray = function (arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  };\n\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  !function (global) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined; // More compressible than void 0.\n    var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n    var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n    var inModule = ( false ? undefined : _typeof(module)) === \"object\";\n    var runtime = global.regeneratorRuntime;\n    if (runtime) {\n      if (inModule) {\n        // If regeneratorRuntime is defined globally and we're in a module,\n        // make the exports object identical to regeneratorRuntime.\n        module.exports = runtime;\n      }\n      // Don't bother evaluating the rest of this file if the runtime was\n      // already defined globally.\n      return;\n    }\n\n    // Define the runtime globally (as expected by generated code) as either\n    // module.exports (if we're in a module) or a new, empty object.\n    runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []);\n\n      // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n      return generator;\n    }\n    runtime.wrap = wrap;\n\n    // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there's no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don't have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n    function tryCatch(fn, obj, arg) {\n      try {\n        return { type: \"normal\", arg: fn.call(obj, arg) };\n      } catch (err) {\n        return { type: \"throw\", arg: err };\n      }\n    }\n\n    var GenStateSuspendedStart = \"suspendedStart\";\n    var GenStateSuspendedYield = \"suspendedYield\";\n    var GenStateExecuting = \"executing\";\n    var GenStateCompleted = \"completed\";\n\n    // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n    var ContinueSentinel = {};\n\n    // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n    function Generator() {}\n    function GeneratorFunction() {}\n    function GeneratorFunctionPrototype() {}\n\n    // This is a polyfill for %IteratorPrototype% for environments that\n    // don't natively support it.\n    var IteratorPrototype = {};\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n    // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n    function defineIteratorMethods(prototype) {\n      [\"next\", \"throw\", \"return\"].forEach(function (method) {\n        prototype[method] = function (arg) {\n          return this._invoke(method, arg);\n        };\n      });\n    }\n\n    runtime.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === \"function\" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction ||\n      // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n    };\n\n    runtime.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        if (!(toStringTagSymbol in genFun)) {\n          genFun[toStringTagSymbol] = \"GeneratorFunction\";\n        }\n      }\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    };\n\n    // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n    // meant to be awaited.\n    runtime.awrap = function (arg) {\n      return { __await: arg };\n    };\n\n    function AsyncIterator(generator) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n        if (record.type === \"throw\") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n          if (value && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && hasOwn.call(value, \"__await\")) {\n            return Promise.resolve(value.__await).then(function (value) {\n              invoke(\"next\", value, resolve, reject);\n            }, function (err) {\n              invoke(\"throw\", err, resolve, reject);\n            });\n          }\n\n          return Promise.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            resolve(result);\n          }, reject);\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new Promise(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n\n      // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n    runtime.AsyncIterator = AsyncIterator;\n\n    // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n    runtime.async = function (innerFn, outerFn, self, tryLocsList) {\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n\n      return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error(\"Generator is already running\");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === \"throw\") {\n            throw arg;\n          }\n\n          // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === \"next\") {\n            // Setting context._sent for legacy support of Babel's\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === \"throw\") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === \"return\") {\n            context.abrupt(\"return\", context.arg);\n          }\n\n          state = GenStateExecuting;\n\n          var record = tryCatch(innerFn, self, context);\n          if (record.type === \"normal\") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === \"throw\") {\n            state = GenStateCompleted;\n            // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n            context.method = \"throw\";\n            context.arg = record.arg;\n          }\n        }\n      };\n    }\n\n    // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n      if (method === undefined) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === \"throw\") {\n          if (delegate.iterator.return) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = \"return\";\n            context.arg = undefined;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === \"throw\") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // \"return\" to \"throw\", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = \"throw\";\n          context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === \"throw\") {\n        context.method = \"throw\";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = \"throw\";\n        context.arg = new TypeError(\"iterator result is not an object\");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value;\n\n        // Resume execution at the desired location (see delegateYield).\n        context.next = delegate.nextLoc;\n\n        // If context.method was \"throw\" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was \"next\", forget context.arg since it has been\n        // \"consumed\" by the delegate iterator. If context.method was\n        // \"return\", allow the original .return call to continue in the\n        // outer generator.\n        if (context.method !== \"return\") {\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      }\n\n      // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n    defineIteratorMethods(Gp);\n\n    Gp[toStringTagSymbol] = \"Generator\";\n\n    // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn't happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return \"[object Generator]\";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = { tryLoc: locs[0] };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = \"normal\";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{ tryLoc: \"root\" }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    runtime.keys = function (object) {\n      var keys = [];\n      for (var key in object) {\n        keys.push(key);\n      }\n      keys.reverse();\n\n      // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        }\n\n        // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === \"function\") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined;\n            next.done = true;\n\n            return next;\n          };\n\n          return next.next = next;\n        }\n      }\n\n      // Return an iterator with no values.\n      return { next: doneResult };\n    }\n    runtime.values = values;\n\n    function doneResult() {\n      return { value: undefined, done: true };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0;\n        // Resetting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        this.sent = this._sent = undefined;\n        this.done = false;\n        this.delegate = null;\n\n        this.method = \"next\";\n        this.arg = undefined;\n\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined;\n            }\n          }\n        }\n      },\n\n      stop: function stop() {\n        this.done = true;\n\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n        if (rootRecord.type === \"throw\") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n        function handle(loc, caught) {\n          record.type = \"throw\";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = \"next\";\n            context.arg = undefined;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === \"root\") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle(\"end\");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, \"catchLoc\");\n            var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error(\"try statement without catch or finally\");\n            }\n          }\n        }\n      },\n\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = \"next\";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n\n      complete: function complete(record, afterLoc) {\n        if (record.type === \"throw\") {\n          throw record.arg;\n        }\n\n        if (record.type === \"break\" || record.type === \"continue\") {\n          this.next = record.arg;\n        } else if (record.type === \"return\") {\n          this.rval = this.arg = record.arg;\n          this.method = \"return\";\n          this.next = \"end\";\n        } else if (record.type === \"normal\" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n\n      \"catch\": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n            if (record.type === \"throw\") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n            return thrown;\n          }\n        }\n\n        // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n        throw new Error(\"illegal catch attempt\");\n      },\n\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === \"next\") {\n          // Deliberately forget the last sent value so that we don't\n          // accidentally pass it on to the delegate.\n          this.arg = undefined;\n        }\n\n        return ContinueSentinel;\n      }\n    };\n  }(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  function () {\n    return this;\n  }() || Function(\"return this\")());\n\n  var SEMAAS_REQUIRED_FIELDS = ['consumerId', 'policy', 'mrId', 'nameSpace', 'region', 'dnsTld', 'tsec2JWTEndpoint'];\n\n  var SEMAAS = {\n    DEFAULT_ADAPTER_IDENTIFIER: 'application',\n    DEFAULT_ADAPTER_VERSION: 'v1',\n    REQUIRED_FIELDS: SEMAAS_REQUIRED_FIELDS,\n    ALLOWED_FIELDS: [].concat(SEMAAS_REQUIRED_FIELDS, ['identifier', 'version'])\n  };\n\n  var buildServiceUri = function buildServiceUri(codename) {\n    return function (region, dnsTld, version) {\n      return 'https://' + codename + '.' + [region, dnsTld].filter(Boolean).join('.') + '/' + version;\n    };\n  };\n\n  var RHO = {\n    HOST: buildServiceUri('rho'),\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'startDate', 'finishDate', 'name', 'parentSpan', 'traceId', 'properties', 'duration', 'recordDate'],\n    REQUIRED_FIELDS: []\n  };\n\n  var OMEGA = {\n    HOST: buildServiceUri('omega'),\n    DEFAULT_LOG_LEVEL: 'DEBUG',\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'traceId', 'creationDate', 'level', 'message', 'properties'],\n    MAXIMUM_BULK_SIZE: 1000,\n    REQUIRED_FIELDS: []\n  };\n\n  // const TSEC2JWT = {\n  //   HOST: environment => `https://tsec2jwt.smlb.${environment}.meigas.cloud/v1/Token`,\n  // };\n\n  var Constants = {\n    SEMAAS: SEMAAS,\n    RHO: RHO,\n    OMEGA: OMEGA\n    // TSEC2JWT,\n  };\n\n  // credits to GeenenTijd/dotify\n  // https://github.com/GeenenTijd/dotify/blob/master/dotify.js\n  var dotify = function dotify(obj) {\n    var SEPARATOR_KEY = '_';\n    var res = {};\n    var recurse = function recurse(obj, current) {\n      Object.keys(obj).forEach(function (key) {\n        var value = obj[key];\n        var newKey = current ? current + SEPARATOR_KEY + key : key; // joined key with dot\n        if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n          recurse(value, newKey); // it's a nested object, so do it again\n        } else {\n          res[newKey] = value; // it's not an object, so set the property\n        }\n      });\n    };\n\n    recurse(obj);\n    return res;\n  };\n  var sanitizeObj = function sanitizeObj(obj, allowedFields) {\n    var result = _extends({}, obj);\n\n    Object.keys(result).forEach(function (prop) {\n      if (!allowedFields.includes(prop)) {\n        delete result[prop];\n      }\n    });\n\n    if (result.properties) {\n      result.properties = dotify(result.properties);\n    }\n\n    return result;\n  };\n  var hasProperty = function hasProperty(obj) {\n    return function (field) {\n      return Object.prototype.hasOwnProperty.call(obj, field) && !!obj[field];\n    };\n  };\n  var hasProperties = function hasProperties(obj, expectedFields) {\n    return expectedFields.every(hasProperty(obj));\n  };\n  var groupBy = function groupBy(items, value) {\n    return items.reduce(function (prev, current) {\n      var key = value instanceof Function ? value(current) : current[value];\n      var itemsContainingKey = prev.find(function (r) {\n        return r && r.key === key;\n      });\n\n      if (itemsContainingKey) {\n        itemsContainingKey.values.push(current);\n      } else {\n        prev.push({ key: key, values: [current] });\n      }\n\n      return prev;\n    }, []);\n  };\n  var createUUID = function createUUID() {\n    var s = [];\n    var hexDigits = '0123456789abcdef';\n    for (var i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n    }\n    s[14] = '4'; // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr(s[19] & 0x3 | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = '-';\n\n    var uuid = s.join('');\n    return uuid;\n  };\n\n  var Utils = {\n    dotify: dotify,\n    sanitizeObj: sanitizeObj,\n    hasProperty: hasProperty,\n    hasProperties: hasProperties,\n    groupBy: groupBy,\n    createUUID: createUUID\n  };\n\n  var OMEGA$1 = Constants.OMEGA;\n  var DEFAULT_LOG_LEVEL = OMEGA$1.DEFAULT_LOG_LEVEL,\n      ALLOWED_FIELDS = OMEGA$1.ALLOWED_FIELDS;\n  var sanitizeObj$1 = Utils.sanitizeObj;\n\n  var Omega = function () {\n    function Omega(mrId) {\n      classCallCheck(this, Omega);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    // @TODO renombrar a normalizeLog? buildLog?\n    /*static*/\n\n    createClass(Omega, [{\n      key: 'createLog',\n      value: function createLog(obj) {\n        var mrId = this.mrId;\n\n        var sanitizedData = sanitizeObj$1(obj, ALLOWED_FIELDS);\n        var DEFAULT_LOG = {\n          mrId: mrId,\n          creationDate: Date.now() * 1000000,\n          level: DEFAULT_LOG_LEVEL\n        };\n\n        return _extends({}, DEFAULT_LOG, sanitizedData);\n      }\n    }]);\n    return Omega;\n  }();\n\n  var RHO$1 = Constants.RHO;\n  var ALLOWED_FIELDS$1 = RHO$1.ALLOWED_FIELDS;\n  var sanitizeObj$2 = Utils.sanitizeObj,\n      _createUUID = Utils.createUUID;\n\n  var Span = function () {\n    function Span(config) {\n      classCallCheck(this, Span);\n      this.spanId = null;\n\n      this.initialize(config);\n    }\n\n    createClass(Span, [{\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$1.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        this.spanId = _createUUID();\n        this.start();\n      }\n    }, {\n      key: 'start',\n      value: function start() {\n        this.startDate = Date.now() * 1000000;\n      }\n    }, {\n      key: 'finish',\n      value: function finish() {\n        this.finishDate = Date.now() * 1000000;\n      }\n    }]);\n    return Span;\n  }();\n\n  var Rho = function () {\n    function Rho(mrId) {\n      classCallCheck(this, Rho);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    createClass(Rho, [{\n      key: 'createUUID',\n      value: function createUUID() {\n        return _createUUID();\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(rawData, childSpanPrefix) {\n        var DEFAULT_MR_ID = this.mrId;\n        var _rawData$mrId = rawData.mrId,\n            mrId = _rawData$mrId === undefined ? DEFAULT_MR_ID : _rawData$mrId,\n            parentSpan = rawData.parentSpan;\n\n        var normalizedParentSpan = this.getParentSpan(parentSpan, mrId, childSpanPrefix);\n        var data = _extends({}, rawData, {\n          mrId: mrId,\n          parentSpan: normalizedParentSpan\n        });\n        var span = new Span(data);\n\n        return span;\n      }\n    }, {\n      key: 'buildSpans',\n      value: function buildSpans(data) {\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        return iterableData.map(function (item) {\n          return sanitizeObj$2(item, ALLOWED_FIELDS$1);\n        });\n      }\n    }, {\n      key: 'getParentSpan',\n      value: function getParentSpan(parentSpan, mrId, childSpanPrefix) {\n        if (!parentSpan) {\n          return null;\n        }\n\n        return [childSpanPrefix, mrId, 'spans', parentSpan].join('/');\n      }\n    }]);\n    return Rho;\n  }();\n\n  var Adapters = {\n    Omega: Omega,\n    Rho: Rho\n  };\n\n  function request(method) {\n    var _this = this;\n\n    return function () {\n      var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(options) {\n        var url, body, headers, configuration, response, result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = options.url, body = options.body, headers = options.headers;\n                configuration = {\n                  method: method,\n                  body: JSON.stringify(body),\n                  headers: {\n                    'content-type': 'application/json'\n                  }\n                };\n\n\n                if (headers) {\n                  Object.keys(headers).forEach(function (header) {\n                    var headerValue = headers[header];\n\n                    configuration.headers[header] = headerValue;\n                  });\n                }\n\n                // OJO!!!\n                // Interceptar aqu errores\n                _context.next = 5;\n                return fetch(url, configuration);\n\n              case 5:\n                response = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt('return', null);\n\n              case 8:\n                result = {};\n                _context.prev = 9;\n                _context.next = 12;\n                return response.json();\n\n              case 12:\n                result = _context.sent;\n                _context.next = 17;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context['catch'](9);\n\n              case 17:\n                return _context.abrupt('return', result);\n\n              case 18:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this, [[9, 15]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  var METHODS = {\n    GET: request('get'),\n    POST: request('post')\n  };\n\n  var Connector = function () {\n    function Connector() {\n      classCallCheck(this, Connector);\n    }\n\n    createClass(Connector, null, [{\n      key: 'get',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(url, headers) {\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  return _context2.abrupt('return', METHODS.GET({ url: url, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function get$$1(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return get$$1;\n      }()\n    }, {\n      key: 'post',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(url, body, headers) {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  return _context3.abrupt('return', METHODS.POST({ url: url, body: body, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function post(_x4, _x5, _x6) {\n          return _ref3.apply(this, arguments);\n        }\n\n        return post;\n      }()\n    }]);\n    return Connector;\n  }();\n\n  /** Default debounce duration (in ms) */\n  var DEFAULT_DEBOUNCE_DURATION = 500;\n\n  /** Decorates a class method so that it is debounced by the specified duration */\n  function outerDecorator(duration) {\n    return function innerDecorator(target, key, descriptor) {\n      return {\n        configurable: true,\n        enumerable: descriptor.enumerable,\n        get: function getter() {\n          // Attach this function to the instance (not the class)\n          Object.defineProperty(this, key, {\n            configurable: true,\n            enumerable: descriptor.enumerable,\n            value: debounce(descriptor.value, duration)\n          });\n\n          return this[key];\n        }\n      };\n    };\n  }\n\n  /** Debounces the specified function and returns a wrapper function */\n  function debounce(method) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_DEBOUNCE_DURATION;\n\n    var timeoutId = void 0;\n\n    function debounceWrapper() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      debounceWrapper.clear();\n\n      timeoutId = setTimeout(function () {\n        timeoutId = null;\n        method.apply(_this, args);\n      }, duration);\n    }\n\n    debounceWrapper.clear = function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n    };\n\n    return debounceWrapper;\n  }\n\n  var decorate = function decorate(decorators) {\n    return function (obj, prop, descriptor) {\n      var fn = descriptor.value;\n\n      decorators.slice().reverse().forEach(function (decorator) {\n        return fn = decorator(fn);\n      });\n\n      return _extends({}, descriptor, {\n        value: fn\n      });\n    };\n  };\n\n  var Decorators = {\n    outerDecorator: outerDecorator,\n    decorate: decorate\n  };\n\n  var groupBy$1 = Utils.groupBy;\n\n\n  var MAXIMUM_BULK_SIZE = 1000;\n\n  var Queue = function () {\n\n    // maximumBulkSize = null;\n\n    function Queue(identifier) {\n      classCallCheck(this, Queue);\n      this.items = [];\n      this.identifier = null;\n\n      this.identifier = identifier;\n    }\n\n    createClass(Queue, [{\n      key: 'add',\n      value: function add(endpoint, data) {\n        var _this = this;\n\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        iterableData.forEach(function (item) {\n          var operation = {\n            data: item,\n            endpoint: endpoint\n          };\n\n          _this.items.push(operation);\n        });\n      }\n    }, {\n      key: 'dump',\n      value: function dump() /*maximumBulkSize*/{\n        if (!this.any()) {\n          return null;\n        }\n\n        var queueGroupedByEndpoint = groupBy$1(this.items, 'endpoint');\n        var firstQueueGroup = queueGroupedByEndpoint[0].values;\n\n        var bulk = firstQueueGroup.slice(0, MAXIMUM_BULK_SIZE);\n        var newQueue = this.items.filter(function (item) {\n          return !bulk.includes(item);\n        });\n\n        console.log('Dumping ' + bulk.length + ' items from ' + this.identifier + ' queue (' + this.items.length + ')...');\n\n        this.items = newQueue;\n\n        return bulk;\n      }\n    }, {\n      key: 'any',\n      value: function any() {\n        return this.items !== null && this.items.length > 0;\n      }\n    }]);\n    return Queue;\n  }();\n\n  var _dec, _class;\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var Omega$1 = Adapters.Omega,\n      Rho$1 = Adapters.Rho;\n  var _Constants$SEMAAS = Constants.SEMAAS,\n      REQUIRED_FIELDS = _Constants$SEMAAS.REQUIRED_FIELDS,\n      ALLOWED_FIELDS$2 = _Constants$SEMAAS.ALLOWED_FIELDS,\n      DEFAULT_ADAPTER_IDENTIFIER = _Constants$SEMAAS.DEFAULT_ADAPTER_IDENTIFIER,\n      DEFAULT_ADAPTER_VERSION = _Constants$SEMAAS.DEFAULT_ADAPTER_VERSION,\n      OMEGA_HOST = Constants.OMEGA.HOST,\n      RHO_HOST = Constants.RHO.HOST;\n  var hasProperties$1 = Utils.hasProperties;\n  var outerDecorator$1 = Decorators.outerDecorator;\n  var SEMaaS = (_dec = outerDecorator$1(5000), (_class = function () {\n\n    // properties that belong to semaas life cycle and rely on configurable properties\n    function SEMaaS(config) {\n      classCallCheck(this, SEMaaS);\n      this.nameSpace = null;\n      this.identifier = DEFAULT_ADAPTER_IDENTIFIER;\n      this.mrId = null;\n      this.consumerId = null;\n      this.policy = null;\n      this.region = null;\n      this.dnsTld = null;\n      this.version = DEFAULT_ADAPTER_VERSION;\n      this.tsec2JWTEndpoint = null;\n      this.apiKey = null;\n      this.omega = null;\n      this.rho = null;\n      this.queue = null;\n\n      this.setup(config);\n    }\n\n    // composition entitys\n\n    // configurable properties by constructor\n\n\n    createClass(SEMaaS, [{\n      key: 'setup',\n      value: function setup(config) {\n        if (!config || !this.validateConfig(config, REQUIRED_FIELDS)) {\n          throw new Error('Invalid setup for SEMaaS adapter (' + this.identifier + '). Required fields: ' + REQUIRED_FIELDS.join(', ') + '.');\n        }\n\n        this.initialize(config);\n      }\n    }, {\n      key: 'validateConfig',\n      value: function validateConfig(config, expectedFields) {\n        return hasProperties$1(config, expectedFields);\n      }\n    }, {\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$2.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        var nameSpace = this.nameSpace,\n            identifier = this.identifier,\n            mrId = this.mrId,\n            tsec2JWTEndpoint = this.tsec2JWTEndpoint,\n            region = this.region,\n            dnsTld = this.dnsTld,\n            version = this.version;\n\n\n        this.omega = new Omega$1(mrId);\n        this.rho = new Rho$1(mrId);\n        this.queue = new Queue(identifier);\n\n        console.info('SEMaaS adapter for ' + region + ' (TSEC: ' + tsec2JWTEndpoint + ') [' + dnsTld + ' - ' + version + '] (' + identifier + ' - ns: ' + nameSpace + ', mrId: ' + mrId + ') successfully initialized.');\n      }\n    }, {\n      key: 'log',\n      value: function log(obj) {\n        var data = this.omega.createLog(obj);\n\n        this.enqueue(this.omegaEndpoint, data);\n      }\n    }, {\n      key: 'ingest',\n      value: function ingest(spans) {\n        var data = this.rho.buildSpans(spans);\n\n        this.enqueue(this.rhoEndpoint, data);\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(data) {\n        var span = this.rho.createSpan(data, this.prefixForChildSpan);\n\n        return span;\n      }\n    }, {\n      key: 'createUUID',\n      value: function createUUID() {\n        var UUID = this.rho.createUUID();\n\n        return UUID;\n      }\n    }, {\n      key: 'send',\n      value: function () {\n        var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url, body, headers) {\n          var result;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  result = void 0;\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return Connector.post(url, body, headers);\n\n                case 4:\n                  result = _context.sent;\n                  _context.next = 9;\n                  break;\n\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context['catch'](1);\n\n                case 9:\n\n                  if (!result) {\n                    console.log('There was a problem while sending data to SEMaaS - operation will be queued.');\n\n                    this.enqueue(url, body);\n                  }\n\n                  return _context.abrupt('return', result);\n\n                case 11:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[1, 7]]);\n        }));\n\n        function send(_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        }\n\n        return send;\n      }()\n    }, {\n      key: 'enqueue',\n      value: function enqueue(url, body) {\n        this.queue.add(url, body);\n        this.flush();\n      }\n\n      // @decorate([tsec2jwt, outerDecorator(5000)])\n\n    }, {\n      key: 'flush',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n          var _this2 = this;\n\n          var validApiKey, bulk, endpoint, apiKey, body, headers;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return this.ensureValidApiKey();\n\n                case 2:\n                  validApiKey = _context2.sent;\n\n                  if (validApiKey) {\n                    _context2.next = 6;\n                    break;\n                  }\n\n                  console.log('No valid API Key for SEMaaS adapter (' + this.identifier + ') - aborting operation');\n                  return _context2.abrupt('return');\n\n                case 6:\n                  bulk = this.queue.dump();\n\n                  if (bulk) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  console.log('Empty queue for SEMaaS adapter (' + this.identifier + ')');\n                  return _context2.abrupt('return');\n\n                case 10:\n                  endpoint = bulk[0].endpoint;\n                  apiKey = this.apiKey;\n\n\n                  console.log('Sending queued batch ' + endpoint + ' - ' + apiKey);\n\n                  body = bulk.map(function (operation) {\n                    return operation.data;\n                  });\n                  headers = this.buildApiHeaders();\n\n                  // if bulk send is OK, and there are more items, we try to flush the buffer\n\n                  this.send(endpoint, body, headers).then(function () {\n                    return _this2.queue.any() && _this2.flush();\n                  });\n\n                case 16:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function flush() {\n          return _ref2.apply(this, arguments);\n        }\n\n        return flush;\n      }()\n    }, {\n      key: 'ensureValidApiKey',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!this.hasApiKey) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  console.log('ApiKey OK -> next()');\n                  return _context3.abrupt('return', true);\n\n                case 5:\n                  if (!this.hasCredentials) {\n                    _context3.next = 8;\n                    break;\n                  }\n\n                  console.log('ApiKey KO, Credentials OK -> getApiKey()');\n                  return _context3.abrupt('return', this.getApiKey());\n\n                case 8:\n\n                  console.log('No ApiKey && No Credentials -> KO');\n                  return _context3.abrupt('return', false);\n\n                case 10:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function ensureValidApiKey() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return ensureValidApiKey;\n      }()\n    }, {\n      key: 'buildApiHeaders',\n      value: function buildApiHeaders() {\n        var key = void 0;\n        var value = void 0;\n\n        switch (this.version.toLowerCase()) {\n          case 'v1':\n            key = 'Authorization';\n            value = 'Bearer ' + this.apiKey;\n            break;\n          default:\n            key = 'Api-Key';\n            value = 'jwt ' + this.apiKey;\n            break;\n        }\n\n        return defineProperty({}, key, value);\n      }\n    }, {\n      key: 'getApiKey',\n      value: function () {\n        var _ref5 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n          var consumerId, policy, tsec2JWTEndpoint, headers, host, result, accessToken;\n          return regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  consumerId = this.consumerId, policy = this.policy, tsec2JWTEndpoint = this.tsec2JWTEndpoint;\n                  headers = {\n                    'x-consumer-id': consumerId,\n                    'x-tsec-token': window.sessionStorage.getItem('tsec'),\n                    'x-validation-policy': policy\n                  };\n                  host = tsec2JWTEndpoint;\n                  _context4.next = 5;\n                  return Connector.get(host, headers);\n\n                case 5:\n                  result = _context4.sent;\n\n                  if (result) {\n                    _context4.next = 8;\n                    break;\n                  }\n\n                  return _context4.abrupt('return', null);\n\n                case 8:\n                  accessToken = result.accessToken;\n\n\n                  this.apiKey = accessToken;\n                  return _context4.abrupt('return', accessToken);\n\n                case 11:\n                case 'end':\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function getApiKey() {\n          return _ref5.apply(this, arguments);\n        }\n\n        return getApiKey;\n      }()\n    }, {\n      key: 'getEndpoint',\n      value: function getEndpoint(host) {\n        var region = this.region,\n            dnsTld = this.dnsTld,\n            version = this.version;\n\n\n        return host(region, dnsTld, version);\n      }\n    }, {\n      key: 'hasApiKey',\n      get: function get$$1() {\n        // @TODO aadir lgica recuperacin + persistencia sessionStorage jwt\n        return !!this.apiKey;\n      }\n    }, {\n      key: 'hasCredentials',\n      get: function get$$1() {\n        return !!this.consumerId && !!this.policy && !!this.tsec;\n      }\n    }, {\n      key: 'initialized',\n      get: function get$$1() {\n        return !!this.omega && !!this.rho;\n      }\n    }, {\n      key: 'omegaEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEndpoint(OMEGA_HOST);\n\n        return host + '/ns/' + nameSpace + '/logs';\n      }\n    }, {\n      key: 'rhoEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEndpoint(RHO_HOST);\n\n        return host + '/ns/' + nameSpace + '/spans';\n      }\n    }, {\n      key: 'prefixForChildSpan',\n      get: function get$$1() {\n        return 'ns/' + this.nameSpace + '/mrs';\n      }\n    }, {\n      key: 'tsec',\n      get: function get$$1() {\n        return window.sessionStorage.getItem('tsec');\n      }\n    }]);\n    return SEMaaS;\n  }(), (_applyDecoratedDescriptor(_class.prototype, 'flush', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'flush'), _class.prototype)), _class));\n\n  return SEMaaS;\n\n})));\n//# sourceMappingURL=cells-semaas-adapter.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(6)(module)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nif (!Object.values) {\n  Object.values = function values(obj) {\n    return Object.keys(obj).map(function (key) {\n      return obj[key];\n    });\n  };\n}\n\nif (!Object.entries) {\n  Object.entries = function (obj) {\n    var ownProps = Object.keys(obj),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n\n    while (i--) {\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    }\n\n    return resArray;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/polyfills.js\nvar polyfills = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/node-libs-browser/node_modules/events/events.js\nvar events = __webpack_require__(3);\nvar events_default = /*#__PURE__*/__webpack_require__.n(events);\n\n// CONCATENATED MODULE: ./src/core/manager/events.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\nvar maxNumListeners = 20;\n\nvar CustomEventEmitter = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(CustomEventEmitter, _EventEmitter);\n\n  function CustomEventEmitter() {\n    _classCallCheck(this, CustomEventEmitter);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CustomEventEmitter).apply(this, arguments));\n  }\n\n  _createClass(CustomEventEmitter, [{\n    key: \"listenToOnce\",\n    value: function listenToOnce(node, name, callback) {\n      var fn = function () {\n        callback();\n        node.removeEventListener(name, fn);\n      }.bind(this);\n\n      node.addEventListener(name, fn);\n    }\n  }]);\n\n  return CustomEventEmitter;\n}(events_default.a);\n\nvar eventManager = new CustomEventEmitter();\neventManager.setMaxListeners(maxNumListeners);\n/* harmony default export */ var manager_events = (eventManager);\n// CONCATENATED MODULE: ./src/core/constants.js\n// binding\nvar bindingCodes = {\n  ALWAYS: \"always\",\n  DELAYED: \"delayed\",\n  UI: \"ui\",\n  CURRENTVIEW: \"currentview\"\n};\nvar constants_binding = {\n  DEFAULT: bindingCodes.ALWAYS,\n  VALUES: Object.values(bindingCodes)\n}; // external events\n\nvar externalEventsCodes = {\n  PAGE_READY: \"page-ready\",\n  PARSE_ROUTE: \"parse-route\",\n  AFTER_PUBLISH: \"after-publish\",\n  NAV_REQUEST: \"nav-request\",\n  BEFORE_SET_ATTR_TO_NODE: \"before-set-attr-to-node\",\n  AFTER_SET_ATTR_TO_NODE: \"after-set-attr-to-node\",\n  BEFORE_CREATE_NODE: \"before-create-node\",\n  AFTER_CREATE_NODE: \"after-create-node\",\n  BEFORE_IMPORT: \"before-import\",\n  AFTER_IMPORT: \"after-import\",\n  PAGE_REQUEST: \"page-request\",\n  PAGE_RESPONSE: \"page-response\",\n  DATA_LOAD: \"data-load\",\n  TEMPLATE_TRANSITION_END: \"template-transition-end\",\n  TRACK_EVENT: \"track-event\",\n  TEMPLATE_REGISTERED: \"template-registered\",\n  ROUTER_BACKSTEP: \"router-backstep\",\n  LOG_EVENT: \"log-event\"\n};\nvar constants_externalEvents = Object.values(externalEventsCodes); // componentsPath\n\nvar componentsPath = \"./bower_components/\"; // composerEndpoint\n\nvar constants_composerEndpoint = \"./composerMocks/\"; // deployEndpoint\n\nvar deployEndpoint = \"\"; // initialTemplate\n\nvar initialTemplate = \"login\"; // monitoring config\n// const mrId = 'web';\n\nvar mrId = 'core'; // const nameSpace = 'com.bbva.es.channels';\n\nvar nameSpace = 'ether.cells';\nvar monitoring = {\n  SEMAAS: {\n    policy: 'ei_bbva_es',\n    mrId: mrId,\n    nameSpace: nameSpace,\n    identifier: 'bridge',\n    // consumerId: `${mrId}@${nameSpace}`,\n    consumerId: 'core@ether.cells'\n  }\n}; // pagesPath\n\nvar pagesPath = \"./pages/\"; // prpl\n\nvar prplCodes = {\n  NONE: \"none\",\n  DEFER: \"defer\",\n  PROGRESSIVE: \"progressive\",\n  HERO: \"hero\"\n};\nvar prpl = {\n  DEFAULT: prplCodes.DEFER,\n  VALUES: Object.values(prplCodes)\n};\nvar preRenderState = {\n  WORKING: 'working',\n  REQUESTED: 'requested'\n}; // render engines\n\nvar renderEngines = {\n  litElement: 'litElement'\n}; // default\n\n/* harmony default export */ var constants = ({\n  bindingCodes: bindingCodes,\n  binding: constants_binding,\n  componentsPath: componentsPath,\n  composerEndpoint: constants_composerEndpoint,\n  deployEndpoint: deployEndpoint,\n  externalEvents: constants_externalEvents,\n  externalEventsCodes: externalEventsCodes,\n  initialTemplate: initialTemplate,\n  monitoring: monitoring,\n  pagesPath: pagesPath,\n  prplCodes: prplCodes,\n  prpl: prpl,\n  preRenderState: preRenderState,\n  renderEngines: renderEngines\n});\n// CONCATENATED MODULE: ./src/core/manager/dom.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction dom_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { dom_typeof = function _typeof(obj) { return typeof obj; }; } else { dom_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return dom_typeof(obj); }\n\nfunction dom_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction dom_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction dom_createClass(Constructor, protoProps, staticProps) { if (protoProps) dom_defineProperties(Constructor.prototype, protoProps); if (staticProps) dom_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar dom_externalEventsCodes = constants.externalEventsCodes;\n\nvar dom_CellsManagerDom = /*#__PURE__*/function () {\n  function CellsManagerDom() {\n    dom_classCallCheck(this, CellsManagerDom);\n  }\n\n  dom_createClass(CellsManagerDom, [{\n    key: \"createComponents\",\n    value: function createComponents(spec) {\n      /* istanbul ignore if */\n      if (!spec) {\n        return;\n      }\n\n      var elements = [];\n      var i = 0;\n\n      for (var index = 0; index < spec.length; index++) {\n        var element = spec[index];\n        elements[i] = this.createElement(element.tagName);\n        elements[i].__zone = element.zone;\n        i++;\n      }\n\n      return elements;\n    }\n  }, {\n    key: \"setAttrs\",\n    value: function setAttrs(node, attrs) {\n      var BEFORE_SET_ATTR_TO_NODE = dom_externalEventsCodes.BEFORE_SET_ATTR_TO_NODE,\n          AFTER_SET_ATTR_TO_NODE = dom_externalEventsCodes.AFTER_SET_ATTR_TO_NODE;\n\n      if (attrs && dom_typeof(attrs) === 'object') {\n        manager_events.emit(BEFORE_SET_ATTR_TO_NODE, node.tagName);\n\n        _extends(node, attrs);\n\n        manager_events.emit(AFTER_SET_ATTR_TO_NODE, node);\n      }\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(tagName, properties) {\n      var BEFORE_CREATE_NODE = dom_externalEventsCodes.BEFORE_CREATE_NODE,\n          AFTER_CREATE_NODE = dom_externalEventsCodes.AFTER_CREATE_NODE;\n      manager_events.emit(BEFORE_CREATE_NODE, tagName);\n      var node = document.createElement(tagName);\n      manager_events.emit(AFTER_CREATE_NODE, node);\n      /* istanbul ignore else */\n\n      if (properties) {\n        this.setAttrs(node, properties);\n      }\n\n      return node;\n    }\n  }]);\n\n  return CellsManagerDom;\n}();\n\n/* harmony default export */ var dom = (dom_CellsManagerDom);\n// CONCATENATED MODULE: ./src/core/manager/storage.js\nfunction storage_extends() { storage_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return storage_extends.apply(this, arguments); }\n\nfunction storage_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction storage_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction storage_createClass(Constructor, protoProps, staticProps) { if (protoProps) storage_defineProperties(Constructor.prototype, protoProps); if (staticProps) storage_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar InMemmoryStorage = /*#__PURE__*/function () {\n  function InMemmoryStorage() {\n    storage_classCallCheck(this, InMemmoryStorage);\n\n    this.dictionary = {};\n  }\n\n  storage_createClass(InMemmoryStorage, [{\n    key: \"getItem\",\n    value: function getItem(key) {\n      return this.dictionary[key] || null;\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      this.dictionary[key] = value;\n    }\n  }]);\n\n  return InMemmoryStorage;\n}();\n\nvar CellsStorage = /*#__PURE__*/function () {\n  function CellsStorage(options) {\n    storage_classCallCheck(this, CellsStorage);\n\n    this.prefix = '';\n    this.persistent = false;\n    this.internalStorage = new InMemmoryStorage();\n\n    storage_extends(this, options);\n\n    if (this.persistent) {\n      this.clear();\n    }\n  }\n\n  storage_createClass(CellsStorage, [{\n    key: \"getItem\",\n    value: function getItem(key) {\n      return JSON.parse(this.storage.getItem(this.prefix + key));\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      this.storage.setItem(this.prefix + key, JSON.stringify(value, '', true));\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var pattern = new RegExp('^(' + this.prefix + ')');\n\n      for (var key in this.storage) {\n        if (this.storage.hasOwnProperty(key)) {\n          if (pattern.test(key)) {\n            this.storage.removeItem(key);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"storage\",\n    get: function get() {\n      var store;\n\n      if (this.persistent) {\n        store = window.localStorage;\n      } else {\n        store = window.sessionStorage;\n      }\n\n      try {\n        store.setItem('_$_', {});\n      } catch (error) {\n        store = this.internalStorage;\n      }\n\n      return store;\n    }\n  }]);\n\n  return CellsStorage;\n}();\n\n\n// CONCATENATED MODULE: ./src/core/connector.js\nfunction connector_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction connector_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction connector_createClass(Constructor, protoProps, staticProps) { if (protoProps) connector_defineProperties(Constructor.prototype, protoProps); if (staticProps) connector_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar CellsBridgeConnector = /*#__PURE__*/function () {\n  function CellsBridgeConnector() {\n    connector_classCallCheck(this, CellsBridgeConnector);\n  }\n\n  connector_createClass(CellsBridgeConnector, [{\n    key: \"_get\",\n    value: function _get(options, format) {\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n\n        if (!options || !options.url) {\n          reject(new Error('URL not defined'));\n          return;\n        }\n\n        var method = (options.method || '').toUpperCase() || 'GET';\n        xhr.addEventListener('load', function (e) {\n          var xhr = e.target;\n          var status = xhr.status;\n\n          if (status >= 200 && status < 300 || status == 0 && xhr.responseText.length > 0) {\n            if (format === 'json') {\n              resolve(JSON.parse(xhr.response));\n            } else {\n              resolve(xhr.responseText);\n            }\n          } else {\n            reject(new Error(xhr.statusText));\n          }\n        });\n        xhr.addEventListener('error', function () {\n          reject(new Error('Network Error'));\n        });\n        xhr.open(method, options.url); //\n\n        var headers = options.headers;\n\n        for (var header in headers) {\n          if (headers.hasOwnProperty(header)) {\n            xhr.setRequestHeader(header, headers[header]);\n          }\n        }\n\n        xhr.send(options.body);\n      });\n    }\n  }, {\n    key: \"getJSON\",\n    value: function getJSON(options) {\n      return this._get(options, 'json');\n    }\n  }, {\n    key: \"getHTML\",\n    value: function getHTML(options) {\n      return this._get(options, 'html');\n    }\n  }]);\n\n  return CellsBridgeConnector;\n}();\n\n\n// CONCATENATED MODULE: ./src/core/utils.js\n// Taken from string.js npm package\n// https://github.com/jprichardson/string.js\nvar dasherize = function dasherize(str) {\n  return str.trim().replace(/[_\\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase();\n};\nvar camelize = function camelize(str) {\n  return str.trim().replace(/(-|_|\\s)+(.)?/g, function (mathc, sep, c) {\n    return c ? c.toUpperCase() : '';\n  });\n};\n/* harmony default export */ var utils = ({\n  dasherize: dasherize,\n  camelize: camelize\n});\n// CONCATENATED MODULE: ./src/core/sanitizer.js\nfunction sanitizer_extends() { sanitizer_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return sanitizer_extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction sanitizer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction sanitizer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction sanitizer_createClass(Constructor, protoProps, staticProps) { if (protoProps) sanitizer_defineProperties(Constructor.prototype, protoProps); if (staticProps) sanitizer_defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar sanitizer_dasherize = utils.dasherize;\n/**\n * Get path for component retrieval based on component definition properties.\n *\n * @param  {Object} componentDefinition Raw component definition.\n * @return {String}                     Path for component retrieval.\n */\n\nvar getPathFromComponent = function getPathFromComponent(componentDefinition) {\n  var familyPath = componentDefinition.familyPath,\n      tag = componentDefinition.tag,\n      tagName = componentDefinition.tagName;\n\n  var _tag = tag || tagName;\n\n  var firstPath = familyPath || _tag;\n  return \"\".concat(firstPath, \"/\").concat(_tag, \".html\");\n};\n\nvar CellsBridgeComposerSanitizer = /*#__PURE__*/function () {\n  function CellsBridgeComposerSanitizer() {\n    sanitizer_classCallCheck(this, CellsBridgeComposerSanitizer);\n  }\n\n  sanitizer_createClass(CellsBridgeComposerSanitizer, [{\n    key: \"_buildConfig\",\n    value: function _buildConfig(component) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'UI';\n      var componentType = component.type,\n          tag = component.tag,\n          tagName = component.tagName,\n          zone = component.zone,\n          fixed = component.fixed,\n          priority = component.priority,\n          properties = component.properties,\n          render = component.render,\n          featureFlag = component.featureFlag;\n      var path = getPathFromComponent(component);\n      var configType = componentType ? componentType.toUpperCase() : type;\n      var config = {\n        type: configType,\n        tagName: tag || tagName,\n        zone: zone,\n        fixed: fixed,\n        priority: priority,\n        properties: properties,\n        path: path,\n        render: render,\n        featureFlag: featureFlag\n      };\n      return this._parseConnections(config);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(json) {\n      var components = [];\n      var LTRIM_SLASH = /^\\/(\\b)/;\n      components.push.apply(components, _toConsumableArray(this._parseComponentsFromJson(json, 'components', 'UI')));\n      var jsonTemplate = json.template;\n\n      if (jsonTemplate) {\n        jsonTemplate = this._buildConfig(jsonTemplate, 'TEMPLATE');\n      }\n\n      var pages = {};\n      var jsonPages = json.pages;\n      /* istanbul ignore if */\n\n      if (jsonPages) {\n        for (var index = 0; index < Object.keys(jsonPages).length; index++) {\n          var page = Object.keys(jsonPages)[index];\n          pages[page] = '/' + jsonPages[page].url.replace(LTRIM_SLASH, '');\n        }\n      }\n\n      return {\n        page: json.page,\n        currentPage: json.currentPage || {},\n        template: jsonTemplate,\n        components: components,\n        pages: pages\n      };\n    }\n  }, {\n    key: \"_parseComponentsFromJson\",\n    value: function _parseComponentsFromJson(json, key, type) {\n      var list = [];\n      var components = json[key];\n      /* istanbul ignore if */\n\n      if (Array.isArray(components)) {\n        for (var index = 0; index < components.length; index++) {\n          var component = components[index];\n          list.push(this._buildConfig(component, type));\n        }\n      }\n\n      return list;\n    }\n    /**\n     * Extend given component definition object with parsed component connections.\n     *\n     * @private\n     * @method _parseConnections\n     * @param  {Object} rawComponentDefinition  Raw component definition.\n     * @return {Object}                         Component definition including connections.\n     */\n\n  }, {\n    key: \"_parseConnections\",\n    value: function _parseConnections(rawComponentDefinition) {\n      var componentDefinition = this._normalizeComponentDefinition(rawComponentDefinition);\n\n      var cellsConnections = componentDefinition.properties.cellsConnections;\n\n      if (!cellsConnections || !Object.keys(cellsConnections).length > 0) {\n        return componentDefinition;\n      }\n\n      var componentDefinitionWithConnections = sanitizer_extends({}, componentDefinition);\n\n      if (cellsConnections.params) {\n        var params = this._parseConnectionsParams(cellsConnections.params);\n        /* istanbul ignore if */\n\n\n        if (!cellsConnections[\"in\"]) {\n          cellsConnections[\"in\"] = {};\n        }\n        /* istanbul ignore if */\n\n\n        if (!cellsConnections.out) {\n          cellsConnections.out = {};\n        }\n\n        sanitizer_extends(cellsConnections[\"in\"], params[\"in\"]);\n\n        sanitizer_extends(cellsConnections.out, params.out);\n      }\n\n      componentDefinitionWithConnections.connections = cellsConnections;\n      return componentDefinitionWithConnections;\n    }\n    /**\n     * Normalizes given raw component definition. Safe-guard method.\n     *\n     * @private\n     * @method _normalizeComponentDefinition\n     * @param  {Object} rawComponentDefinition Raw component definition object.\n     * @return {Object}                        Normalized component definition object.\n     */\n\n  }, {\n    key: \"_normalizeComponentDefinition\",\n    value: function _normalizeComponentDefinition(rawComponentDefinition) {\n      var DEFAULT_PROPERTIES = {\n        cellsConnections: {\n          \"in\": {},\n          out: {}\n        }\n      };\n\n      var componentDefinition = sanitizer_extends({}, rawComponentDefinition);\n\n      componentDefinition.properties = componentDefinition.properties || DEFAULT_PROPERTIES;\n      return componentDefinition;\n    }\n    /**\n     * Parse params to appropiate connections.\n     *\n     * @private\n     * @method _parseConnectionsParams\n     * @param  {Object} params Params to be parsed.\n     * @return {Object}        Parsed connections.\n     */\n\n  }, {\n    key: \"_parseConnectionsParams\",\n    value: function _parseConnectionsParams(params) {\n      var connections = {\n        \"in\": {},\n        out: {}\n      };\n\n      for (var prop in params) {\n        if (params.hasOwnProperty(prop)) {\n          var paramDef = params[prop];\n          var outBind = sanitizer_dasherize(prop) + '-changed';\n          connections[\"in\"][paramDef] = this._createConnection(prop);\n          connections.out[paramDef] = this._createConnection(outBind);\n        }\n      }\n\n      return connections;\n    }\n    /**\n     * Create connection object based on given parameters.\n     *\n     * @private\n     * @method _createConnection\n     * @param  {String}  bind          Property to bind to.\n     * @param  {Boolean} [global=true] Global flag.\n     * @return {Object}                Connection object.\n     */\n\n  }, {\n    key: \"_createConnection\",\n    value: function _createConnection(bind) {\n      var global = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      return {\n        bind: bind,\n        global: global\n      };\n    }\n  }, {\n    key: \"split\",\n    value: function split(data) {\n      var response;\n      /* istanbul ignore if */\n\n      if (data) {\n        response = {\n          CC: [],\n          UI: [],\n          DM: []\n        };\n\n        for (var index = 0; index < data.length; index++) {\n          var item = data[index];\n          response[item.type].push(item);\n        }\n      }\n\n      return response;\n    }\n  }]);\n\n  return CellsBridgeComposerSanitizer;\n}();\n\n\n// CONCATENATED MODULE: ./src/core/manager/page.js\nfunction page_extends() { page_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return page_extends.apply(this, arguments); }\n\nfunction page_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction page_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction page_createClass(Constructor, protoProps, staticProps) { if (protoProps) page_defineProperties(Constructor.prototype, protoProps); if (staticProps) page_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar page_externalEventsCodes = constants.externalEventsCodes;\n/**\n * Class that retrieves pages either from the cache or by fetching them using http requests.\n * This class can handle:\n *  - dynamic pages: the one that are defined in json files.\n *  Also, dynamic pages can be localy located o remotely located.\n *  - static pages: the one that are defined in html files\n *\n * @param {CellsBridge} bridge\n *\n * The constructor receives a CellsBridge that has all the needed configuration:\n *\n * The property 'templatesPath' indicates the path where the local pages are located.\n * It must be defined only if there are local pages.\n *\n * The property 'composerEndpoint' indicates the url where the local pages are located.\n * This url must have the literals '{id}' and '{platform}'. It must be defined only if there are remote pages.\n *\n * The property 'remoteTemplates' is an array that contains the name of the remote templates\n * (just the name, not the extension).\n * It must be defined only if there are remote pages.\n *\n  * The property 'htmlPagesPath' is the path to the folder that contains the html pages.\n *\n * The property 'htmlPages' is an array that contains the name of the static html pages\n * (just the name, not the extension).\n *\n * The property 'appId' is the application's id.\n *\n * The property 'getPlatform' is a function, usually defined in the app.js file, that returns\n * a string indicating the platform that runs the application (for instance: destkop, ios or android).\n */\n\nvar page_CellsManagerPage = /*#__PURE__*/function () {\n  function CellsManagerPage(bridge) {\n    page_classCallCheck(this, CellsManagerPage);\n\n    this._initCellsPageManager(bridge);\n  }\n\n  page_createClass(CellsManagerPage, [{\n    key: \"_initCellsPageManager\",\n    value: function _initCellsPageManager(bridge) {\n      var _bridge$htmlPagesPath = bridge.htmlPagesPath,\n          htmlPagesPath = _bridge$htmlPagesPath === void 0 ? './pages/' : _bridge$htmlPagesPath,\n          htmlPages = bridge.htmlPages,\n          templatesPath = bridge.templatesPath,\n          composerEndpoint = bridge.composerEndpoint,\n          remoteTemplates = bridge.remoteTemplates,\n          appId = bridge.appId,\n          getPlatform = bridge.getPlatform,\n          cache = bridge.cache,\n          prefix = bridge.storagePrefix,\n          composerEngine = bridge.composerEngine,\n          TemplateManager = bridge.TemplateManager;\n      var storage = new CellsStorage({\n        prefix: prefix,\n        persistent: cache\n      });\n      var connector = new CellsBridgeConnector();\n      var sanitizer = new CellsBridgeComposerSanitizer();\n\n      page_extends(this, {\n        storage: storage,\n        htmlPagesPath: htmlPagesPath,\n        htmlPages: htmlPages,\n        templatesPath: templatesPath,\n        composerEndpoint: composerEndpoint,\n        remoteTemplates: remoteTemplates,\n        appId: appId,\n        getPlatform: getPlatform,\n        cache: cache,\n        connector: connector,\n        sanitizer: sanitizer,\n        composerEngine: composerEngine,\n        TemplateManager: TemplateManager\n      });\n    }\n  }, {\n    key: \"_remoteTemplate\",\n    value: function _remoteTemplate(page) {\n      var replaced = this.composerEndpoint.replace(/{appId}/, this.appId);\n\n      if (this.getPlatform) {\n        replaced = replaced.replace(/{platform}/, this.getPlatform());\n      }\n\n      replaced = replaced.replace(/{page}/, page);\n      return replaced;\n    }\n  }, {\n    key: \"_localTemplate\",\n    value: function _localTemplate(page) {\n      var endpoint = !this.templatesPath ? this.composerEndpoint : this.templatesPath;\n      return \"\".concat(endpoint).concat(page, \".json\");\n    }\n  }, {\n    key: \"_isLocalComposer\",\n    value: function _isLocalComposer(page) {\n      var result = true;\n      var hasTemplatePath = this.templatesPath && this.templatesPath.length > 0;\n      var hasRemoteTemplates = this.remoteTemplates && this.remoteTemplates.length > 0; // legacy case when there was just composerEndpoint and\n      // it could be a directory or an url\n\n      var oldWayOnlyCompopserEndpointDefined = this.composerEndpoint && !hasTemplatePath && !hasRemoteTemplates;\n\n      if (oldWayOnlyCompopserEndpointDefined) {\n        result = this.composerEndpoint.indexOf('http') !== 0;\n      } else {\n        if (this.composerEndpoint && this.remoteTemplates) {\n          result = this.remoteTemplates.indexOf(page) < 0;\n        } else {\n          result = true;\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_renderComposerEndpoint\",\n    value: function _renderComposerEndpoint(page) {\n      if (this._isLocalComposer(page)) {\n        return this._localTemplate(page);\n      } else {\n        return this._remoteTemplate(page);\n      }\n    }\n    /**\n     * Returns the url needed to retrieve a page. It handles theese cases:\n     *  - page is dynamic (json file) and remote\n     *  - page is dynamic (json file) and local\n     *  - page is static (html file)\n     *\n     * @param {String} page is the name of the page to retrieve\n     */\n\n  }, {\n    key: \"generateRequestUrl\",\n    value: function generateRequestUrl(page) {\n      if (this.htmlPages && this.htmlPages.indexOf(page) >= 0) {\n        return this.htmlPagesPath + page + '.html';\n      } else {\n        return this._renderComposerEndpoint(page);\n      }\n    }\n    /**\n     * @param {Object} page\n     */\n    // eslint-disable-next-line no-unused-vars\n\n  }, {\n    key: \"onPageDefinitionNotFound\",\n    value: function onPageDefinitionNotFound(page) {// Overwrite to make something when page definition is not found.\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.storage.clear();\n    }\n    /**\n     * Returns a promise that retrieves a dynamic page (json file).\n     * The page may come from the cache or from a http request.\n     *\n     * @param {String} page name\n     * @param {Object} options for http request\n     * @param {Object} configuration\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(page, options, config) {\n      var useComposerEngineForThisPage = this.composerEngine && !this._isLocalComposer(page);\n      var spec;\n\n      if (useComposerEngineForThisPage) {\n        this.TemplateManager.removeTemplate(page);\n        return this._getFromComposerEngine(page, options);\n      } else {\n        spec = this.storage.getItem(page);\n\n        if (this.cache && spec) {\n          return Promise.resolve(spec);\n        } else {\n          return this._getFromConnector(page, options, config);\n        }\n      }\n    }\n  }, {\n    key: \"_getFromComposerEngine\",\n    value: function _getFromComposerEngine(page, options) {\n      var response = JSON.parse(this.composerEngine.getPage(page));\n      return Promise.resolve(this._onResponse(page, options, response));\n    }\n  }, {\n    key: \"_getFromConnector\",\n    value: function _getFromConnector(page, options, config) {\n      var _this = this;\n\n      var PAGE_REQUEST = page_externalEventsCodes.PAGE_REQUEST;\n      options = options || {};\n      options.url = this.generateRequestUrl(page, options, config);\n      manager_events.emit(PAGE_REQUEST, options);\n      return this.connector.getJSON(options).then(function (response) {\n        return _this._onResponse(page, options, response);\n      })[\"catch\"](function (error) {\n        _this._onResponseFail(page);\n\n        console.error(error);\n        return error.message;\n      });\n    }\n    /**\n     * Returns a promise that retrieves a static page (html file).\n     * The page comes from a http request.\n     *\n     * @param {String} page name\n     * @param {Object} options for http request\n     */\n\n  }, {\n    key: \"getPage\",\n    value: function getPage(page, options) {\n      var _this2 = this;\n\n      var PAGE_REQUEST = page_externalEventsCodes.PAGE_REQUEST;\n      options = options || {};\n      options.url = this.generateRequestUrl(page);\n      manager_events.emit(PAGE_REQUEST, options);\n      return this.connector.getHTML(options).then(function (response) {\n        return _this2._onResponseHTML(page, options, response);\n      })[\"catch\"](function (error) {\n        _this2._onResponseFail(page);\n\n        console.error(error);\n        return error.message;\n      });\n    } //getComponentPage(...)\n\n  }, {\n    key: \"_onResponse\",\n    value: function _onResponse(page, options, response) {\n      var PAGE_RESPONSE = page_externalEventsCodes.PAGE_RESPONSE,\n          DATA_LOAD = page_externalEventsCodes.DATA_LOAD;\n      response.page = page;\n      manager_events.emit(PAGE_RESPONSE, response);\n      var sanitizedData = this.sanitizer.parse(response); // sanitizedData = this.bridge.parse('data', sanitizedData);\n\n      this.storage.setItem(page, sanitizedData);\n      manager_events.emit(DATA_LOAD, sanitizedData);\n      return sanitizedData;\n    }\n  }, {\n    key: \"_onResponseHTML\",\n    value: function _onResponseHTML(page, options, responseText) {\n      var PAGE_RESPONSE = page_externalEventsCodes.PAGE_RESPONSE,\n          DATA_LOAD = page_externalEventsCodes.DATA_LOAD;\n      var response = {\n        page: page,\n        html: responseText\n      };\n      manager_events.emit(PAGE_RESPONSE, response);\n      var sanitizedData = {\n        page: page,\n        currentPage: {},\n        template: {},\n        components: [],\n        pages: [],\n        html: responseText\n      };\n      this.storage.setItem(page, sanitizedData);\n      manager_events.emit(DATA_LOAD, sanitizedData);\n      return sanitizedData;\n    }\n  }, {\n    key: \"_onResponseFail\",\n    value: function _onResponseFail(page) {\n      if (this.onPageDefinitionNotFound) {\n        this.onPageDefinitionNotFound(page);\n      }\n\n      return Promise.reject(new Error(\"Definition file for page '\".concat(page, \"' not found.\")));\n    }\n  }]);\n\n  return CellsManagerPage;\n}();\n\n/* harmony default export */ var manager_page = (page_CellsManagerPage);\n// CONCATENATED MODULE: ./node_modules/tslib/tslib.es6.js\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isFunction.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/config.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nvar config_config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/hostReportError.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/Observer.js\n/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\n\n\nvar empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isArray.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isObject.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nvar UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/Subscription.js\n/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\n\n\n\n\nvar Subscription_Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\n\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nvar $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/Subscriber.js\n/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\n\n\n\n\n\n\n\nvar Subscriber_Subscriber = /*@__PURE__*/ (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new Subscriber_SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new Subscriber_SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_Subscription));\n\nvar Subscriber_SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber_Subscriber));\n\n//# sourceMappingURL=Subscriber.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/canReportError.js\n/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\n\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/toSubscriber.js\n/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\n\n\n\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber]) {\n            return nextOrObserver[rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_Subscriber(empty);\n    }\n    return new Subscriber_Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/symbol/observable.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar observable_observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/noop.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction noop() { }\n//# sourceMappingURL=noop.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/pipe.js\n/** PURE_IMPORTS_START _noop PURE_IMPORTS_END */\n\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/Observable.js\n/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\n\n\n\n\n\nvar Observable_Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\n\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/map.js\n/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n\n\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new map_MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\n\nvar map_MapSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_Subscriber));\n//# sourceMappingURL=map.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/fromEvent.js\n/** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */\n\n\n\n\nvar fromEvent_toString = /*@__PURE__*/ (function () { return Object.prototype.toString; })();\nfunction fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(map(function (args) { return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));\n    }\n    return new Observable_Observable(function (subscriber) {\n        function handler(e) {\n            if (arguments.length > 1) {\n                subscriber.next(Array.prototype.slice.call(arguments));\n            }\n            else {\n                subscriber.next(e);\n            }\n        }\n        setupSubscription(target, eventName, handler, subscriber, options);\n    });\n}\nfunction setupSubscription(sourceObj, eventName, handler, subscriber, options) {\n    var unsubscribe;\n    if (isEventTarget(sourceObj)) {\n        var source_1 = sourceObj;\n        sourceObj.addEventListener(eventName, handler, options);\n        unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };\n    }\n    else if (isJQueryStyleEventEmitter(sourceObj)) {\n        var source_2 = sourceObj;\n        sourceObj.on(eventName, handler);\n        unsubscribe = function () { return source_2.off(eventName, handler); };\n    }\n    else if (isNodeStyleEventEmitter(sourceObj)) {\n        var source_3 = sourceObj;\n        sourceObj.addListener(eventName, handler);\n        unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n    }\n    else if (sourceObj && sourceObj.length) {\n        for (var i = 0, len = sourceObj.length; i < len; i++) {\n            setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n        }\n    }\n    else {\n        throw new TypeError('Invalid event target');\n    }\n    subscriber.add(unsubscribe);\n}\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isEventTarget(sourceObj) {\n    return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n//# sourceMappingURL=fromEvent.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/filter.js\n/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n\n\nfunction filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nvar FilterOperator = /*@__PURE__*/ (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new filter_FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar filter_FilterSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_Subscriber));\n//# sourceMappingURL=filter.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nvar ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/SubjectSubscription.js\n/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n\n\nvar SubjectSubscription_SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_Subscription));\n\n//# sourceMappingURL=SubjectSubscription.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/Subject.js\n/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\n\n\n\n\n\n\n\nvar Subject_SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber_Subscriber));\n\nvar Subject_Subject = /*@__PURE__*/ (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriber] = function () {\n        return new Subject_SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new Subject_AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new Subject_AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_Observable));\n\nvar Subject_AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject_Subject));\n\n//# sourceMappingURL=Subject.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduler/Action.js\n/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n\n\nvar Action_Action = /*@__PURE__*/ (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return this;\n    };\n    return Action;\n}(Subscription_Subscription));\n\n//# sourceMappingURL=Action.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js\n/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\n\n\nvar AsyncAction_AsyncAction = /*@__PURE__*/ (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_Action));\n\n//# sourceMappingURL=AsyncAction.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js\n/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\n\n\nvar QueueAction_QueueAction = /*@__PURE__*/ (function (_super) {\n    __extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction_AsyncAction));\n\n//# sourceMappingURL=QueueAction.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/Scheduler.js\nvar Scheduler = /*@__PURE__*/ (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = function () { return Date.now(); };\n    return Scheduler;\n}());\n\n//# sourceMappingURL=Scheduler.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js\n/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\n\n\nvar AsyncScheduler_AsyncScheduler = /*@__PURE__*/ (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        var _this = _super.call(this, SchedulerAction, function () {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        }) || this;\n        _this.actions = [];\n        _this.active = false;\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return _super.prototype.schedule.call(this, work, delay, state);\n        }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\n\n//# sourceMappingURL=AsyncScheduler.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js\n/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\n\n\nvar QueueScheduler_QueueScheduler = /*@__PURE__*/ (function (_super) {\n    __extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler_AsyncScheduler));\n\n//# sourceMappingURL=QueueScheduler.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduler/queue.js\n/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */\n\n\nvar queue = /*@__PURE__*/ new QueueScheduler_QueueScheduler(QueueAction_QueueAction);\n//# sourceMappingURL=queue.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/empty.js\n/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\n\nvar EMPTY = /*@__PURE__*/ new Observable_Observable(function (subscriber) { return subscriber.complete(); });\nfunction empty_empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable_Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isScheduler.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\n//# sourceMappingURL=isScheduler.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js\n/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\n\n\nfunction scheduleArray(input, scheduler) {\n    return new Observable_Observable(function (subscriber) {\n        var sub = new Subscription_Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/fromArray.js\n/** PURE_IMPORTS_START _Observable,_util_subscribeToArray,_scheduled_scheduleArray PURE_IMPORTS_END */\n\n\n\nfunction fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable_Observable(subscribeToArray(input));\n    }\n    else {\n        return scheduleArray(input, scheduler);\n    }\n}\n//# sourceMappingURL=fromArray.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/of.js\n/** PURE_IMPORTS_START _util_isScheduler,_fromArray,_scheduled_scheduleArray PURE_IMPORTS_END */\n\n\n\nfunction of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler(scheduler)) {\n        args.pop();\n        return scheduleArray(args, scheduler);\n    }\n    else {\n        return fromArray(args);\n    }\n}\n//# sourceMappingURL=of.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/throwError.js\n/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\n\nfunction throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable_Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable_Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/Notification.js\n/** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */\n\n\n\nvar NotificationKind;\n/*@__PURE__*/ (function (NotificationKind) {\n    NotificationKind[\"NEXT\"] = \"N\";\n    NotificationKind[\"ERROR\"] = \"E\";\n    NotificationKind[\"COMPLETE\"] = \"C\";\n})(NotificationKind || (NotificationKind = {}));\nvar Notification_Notification = /*@__PURE__*/ (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of(this.value);\n            case 'E':\n                return throwError(this.error);\n            case 'C':\n                return empty_empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\n\n//# sourceMappingURL=Notification.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/observeOn.js\n/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */\n\n\n\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nvar ObserveOnOperator = /*@__PURE__*/ (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new observeOn_ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\n\nvar observeOn_ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        var destination = this.destination;\n        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_Notification.createError(err));\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_Notification.createComplete());\n        this.unsubscribe();\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_Subscriber));\n\nvar ObserveOnMessage = /*@__PURE__*/ (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\n\n//# sourceMappingURL=observeOn.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/ReplaySubject.js\n/** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */\n\n\n\n\n\n\n\nvar ReplaySubject_ReplaySubject = /*@__PURE__*/ (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) {\n            bufferSize = Number.POSITIVE_INFINITY;\n        }\n        if (windowTime === void 0) {\n            windowTime = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._infiniteTimeWindow = false;\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        if (windowTime === Number.POSITIVE_INFINITY) {\n            _this._infiniteTimeWindow = true;\n            _this.next = _this.nextInfiniteTimeWindow;\n        }\n        else {\n            _this.next = _this.nextTimeWindow;\n        }\n        return _this;\n    }\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n        var _events = this._events;\n        _events.push(value);\n        if (_events.length > this._bufferSize) {\n            _events.shift();\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n        this._events.push(new ReplayEvent(this._getNow(), value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _infiniteTimeWindow = this._infiniteTimeWindow;\n        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var len = _events.length;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.isStopped || this.hasError) {\n            subscription = Subscription_Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_ObserveOnSubscriber(subscriber, scheduler));\n        }\n        if (_infiniteTimeWindow) {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i].value);\n            }\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_Subject));\n\nvar ReplayEvent = /*@__PURE__*/ (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n\n// CONCATENATED MODULE: ./src/core/state/channel.js\n\n\nvar channel_createChannel = function createChannel() {\n  var channel = new ReplaySubject_ReplaySubject(1);\n\n  var _nextFromSuperClass = channel.next.bind(channel);\n\n  channel.next = function (value) {\n    var generateUUID = function generateUUID() {\n      var d = new Date().getTime();\n      var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        return (c == 'x' ? r : r & 0x3 | 0x8).toString(16);\n      });\n      return uuid;\n    };\n\n    if (!value.uuid) {\n      value.uuid = generateUUID();\n    }\n\n    if (!value.time) {\n      value.time = new Date().getTime();\n    }\n\n    _nextFromSuperClass(value);\n  };\n\n  channel.hasObservers = function () {\n    if (this.closed) {\n      throw new Error();\n    }\n\n    return this.observers.length > 0;\n  };\n\n  channel.complete = function () {};\n\n  channel.error = function (error) {\n    this.observers.forEach(function (o) {\n      o.isStopped = false;\n      o.onError(error);\n    });\n  };\n\n  channel.unsubscribe = function (index) {\n    this.observers.splice(index, 1);\n  };\n\n  channel.unsubscribeAll = function () {\n    this.observers.splice(0, this.observers.length);\n  };\n\n  channel.clean = function () {\n    this._events = [];\n    this.observers = [];\n  };\n\n  channel.dispose = function () {\n    this.unsubscribe();\n  };\n\n  return channel;\n};\n\n/* harmony default export */ var state_channel = (channel_createChannel);\n// CONCATENATED MODULE: ./src/core/state/subscriptor.js\nfunction subscriptor_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction subscriptor_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction subscriptor_createClass(Constructor, protoProps, staticProps) { if (protoProps) subscriptor_defineProperties(Constructor.prototype, protoProps); if (staticProps) subscriptor_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar subscriptor_Subscriptor = /*#__PURE__*/function () {\n  function Subscriptor(node) {\n    subscriptor_classCallCheck(this, Subscriptor);\n\n    this.node = node;\n    this.subscriptions = [];\n    this.publications = new Subscription_Subscription();\n  }\n\n  subscriptor_createClass(Subscriptor, [{\n    key: \"hasSubscription\",\n    value: function hasSubscription(channel) {\n      return this.subscriptions.filter(function (d) {\n        return d.channel === channel;\n      }).length > 0;\n    }\n    /**\n     * Publish an event.sss\n     *\n     * @param  {Event} event\n     */\n\n  }, {\n    key: \"publish\",\n    value: function publish(event) {\n      this.publications.add(event);\n    }\n  }, {\n    key: \"makeCallbackWithNoReplay\",\n    value: function makeCallbackWithNoReplay(channel, fn) {\n      if (!fn.node.intervals) {\n        fn.node.intervals = [];\n      }\n\n      if (!fn.node.ids) {\n        fn.node.ids = [];\n      }\n\n      var getTimeFromNode = function getTimeFromNode(node) {\n        return node.intervals[channel.name];\n      };\n\n      var setTimeForNode = function setTimeForNode(node, time) {\n        node.intervals[channel.name] = time;\n      };\n\n      var getTimeFromChannel = function getTimeFromChannel(channel) {\n        return channel._events.length > 0 ? channel._events[0].time : 1;\n      };\n\n      var getIdFromNode = function getIdFromNode(node) {\n        return node.ids[channel.name];\n      };\n\n      var setIdForNode = function setIdForNode(node, id) {\n        node.ids[channel.name] = id;\n      };\n\n      var getIdFromChannel = function getIdFromChannel(channel) {\n        return channel._events.length > 0 ? channel._events[0].uuid : null;\n      };\n\n      var fnReplayOff = function () {\n        var lastInterval = getTimeFromChannel(channel);\n        var nodeInterval = getTimeFromNode(fn.node);\n        var lastId = getIdFromChannel(channel);\n        var nodeId = getIdFromNode(fn.node);\n\n        if (!nodeInterval || nodeInterval < lastInterval || nodeInterval === lastInterval && nodeId != lastId) {\n          setTimeForNode(fn.node, lastInterval);\n          setIdForNode(fn.node, lastId);\n          return fn.apply(this, arguments);\n        }\n\n        setTimeForNode(fn.node, lastInterval);\n      }.bind(this);\n\n      fnReplayOff.node = fn.node;\n      return fnReplayOff;\n    }\n    /**\n     * Subscribe to a channel.\n     *\n     * @param  {Channel}   channel  Channel to subscribe\n     * @param  {Function}  fn       Callback function to run when a value from a channel changed\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(channel, fn, previousState) {\n      if (!this.hasSubscription(channel)) {\n        var callback = fn;\n        var subscription;\n\n        if (previousState === false) {\n          callback = this.makeCallbackWithNoReplay(channel, fn);\n        }\n\n        var pos = this._firstInstanceOfObserver(callback.node, channel);\n\n        if (pos === -1) {\n          subscription = channel.subscribe(callback);\n          pos = channel.observers.length - 1;\n        } else {\n          subscription = channel.observers[pos];\n        }\n\n        subscription.node = callback.node;\n        var subscriptionDetail = {\n          channel: channel,\n          observer: subscription,\n          subscription: subscription\n        };\n        this.subscriptions.push(subscriptionDetail);\n      }\n    }\n    /**\n     * Remove all active subscriptions.\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(cleanPrivateChannels) {\n      for (var i = this.subscriptions.length - 1; i >= 0; i--) {\n        var subscription = this.subscriptions[i];\n        var channel = subscription.channel;\n        var observer = subscription.observer;\n        var index = channel.observers.indexOf(observer); //if(index >= 0 && !channel.name.match(/\\b__bridge_/)) {\n\n        if (index >= 0) {\n          if (cleanPrivateChannels === true || !channel.name.match(/\\b__bridge_/)) {\n            channel.unsubscribe(index);\n          }\n        } // if(!channel.hasObservers()) {\n        //   channel.clean();\n        // }\n\n      }\n\n      this.publications.unsubscribe();\n    }\n    /**\n     * Returns the position of the first occurrence of the observer's node in the channel.\n     * If the node has none observer registered to the channel, it returns -1.\n     *\n     * @param {node}\n     * @param {channel}\n     */\n\n  }, {\n    key: \"_firstInstanceOfObserver\",\n    value: function _firstInstanceOfObserver(node, channel) {\n      var pos = -1;\n\n      for (var index = 0; index < channel.observers.length; index++) {\n        if (channel.observers[index].node === node) {\n          pos = index;\n          break;\n        }\n      }\n\n      return pos;\n    }\n  }]);\n\n  return Subscriptor;\n}();\n\n\n// CONCATENATED MODULE: ./src/core/state/index.js\n\n\n// CONCATENATED MODULE: ./src/core/featureflag/feature-flag-collection.js\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction feature_flag_collection_extends() { feature_flag_collection_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return feature_flag_collection_extends.apply(this, arguments); }\n\nfunction feature_flag_collection_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction feature_flag_collection_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction feature_flag_collection_createClass(Constructor, protoProps, staticProps) { if (protoProps) feature_flag_collection_defineProperties(Constructor.prototype, protoProps); if (staticProps) feature_flag_collection_defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Feature Identifier\n * @typedef {String} CellsFeatureKey\n */\n\n/**\n  * Feature black list\n  * @typedef {Array<CellsFeatureKey>} CellsFeatureBlackList\n  */\n\n/**\n * Feature object\n * @typedef {Object} CellsFeature\n * @property {*} defaultValue  Default value of feature\n * @property {*} value         Current value of feature\n * @property {CellsFeatureKey} key      Feature identifier\n * \n */\n\n/**\n * Feature Collection\n * @typedef {Object.<CellsFeatureKey, CellsFeature>} CellsFeatureCollection\n */\n\n/**\n * Cells Feature Response\n * @typedef {Object} CellsFeatureResponse\n * @property {CellsFeatureCollection} features\n */\n\n/**\n * Channel name of FeatureFlagCollection. Emit data in this channel when collection of FeatureFlag is updated\n * @constant\n * @type {string}\n */\nvar BRIDGE_CHANNEL_KEY = '__bridge_ch_featureflag';\n/**\n * Name of CustomElement method use to evaluate value of FeatureFlag\n * @constant\n * @type {string}\n */\n\nvar BRIDGE_BIND_KEY = 'featureFlagChangedCallback';\n/**\n * FeatureFlag last value collection by node\n */\n\nvar lastValue = new Map();\n\nvar FeatureFlagCollection = /*#__PURE__*/function () {\n  function FeatureFlagCollection(bridge) {\n    feature_flag_collection_classCallCheck(this, FeatureFlagCollection);\n\n    this._featureCollection = {};\n    this._conector = bridge.ComponentConnector;\n  }\n  /**\n   * Deep copy of collection of features flags\n   * @property\n   */\n\n\n  feature_flag_collection_createClass(FeatureFlagCollection, [{\n    key: \"value\",\n\n    /**\n     * Get value of feature if is enabled or null is disabled\n     * @method\n     * @param {CellsFeature} feature   Feature with identifier\n     * @returns {*}               Feature value or null if the feature is disabled\n     */\n    value: function value(_ref) {\n      var key = _ref.key,\n          defaultValue = _ref.defaultValue,\n          _value = _ref.value;\n      var _featureCollection = this._featureCollection;\n\n      if (_featureCollection.hasOwnProperty(key) && _featureCollection[key].hasOwnProperty('value')) {\n        return _featureCollection[key].value;\n      } else if (_featureCollection.hasOwnProperty(key) && _featureCollection[key].hasOwnProperty('defaultValue')) {\n        return _featureCollection[key].defaultValue;\n      } else if (_value !== undefined) {\n        return _value;\n      } else {\n        return defaultValue;\n      }\n    }\n    /**\n     * Extend collection; if feature is registered, overwrite values\n     * @method\n     * @param {CellsFeatureCollection} featureCollection \n     * @returns {FeatureFlagCollection} this\n     */\n\n  }, {\n    key: \"extend\",\n    value: function extend(featureCollection) {\n      feature_flag_collection_extends(this._featureCollection, featureCollection);\n\n      return this._publish();\n    }\n    /**\n     * Register collection of features and add default value of each feature\n     * @method\n     * @param {CellsFeatureCollection} featureCollection \n     * @returns {FeatureFlagCollection} this\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(featureCollection) {\n      var _this = this;\n\n      Object.entries(featureCollection).map(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            defaultValue = _ref3[1].defaultValue;\n\n        return _defineProperty({}, key, defaultValue);\n      }).forEach(function (singleFeatureCollection) {\n        return feature_flag_collection_extends(_this._featureCollection, singleFeatureCollection);\n      });\n      return this._publish();\n    }\n    /**\n     * @method\n     * @param {CellsFeatureResponse} featureResponse Response of feature service\n     * @returns {FeatureFlagCollection} this\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(featureResponse) {\n      return this.extend(featureResponse.features);\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(callback) {\n      var _this2 = this;\n\n      if (typeof callback === 'function') {\n        var channel = this._conector.manager.get(BRIDGE_CHANNEL_KEY);\n\n        this._conector.getSubscriptor(this).subscribe(channel, function () {\n          return callback(_this2);\n        });\n      }\n\n      return this;\n    }\n    /**\n     * @private\n     * @returns {FeatureFlagCollection} this\n     */\n\n  }, {\n    key: \"_publish\",\n    value: function _publish() {\n      var channel = this._conector.manager.get(BRIDGE_CHANNEL_KEY);\n\n      channel.next(new CustomEvent(BRIDGE_CHANNEL_KEY, {\n        data: this.collection\n      }));\n      return this;\n    }\n  }, {\n    key: \"collection\",\n    get: function get() {\n      return JSON.parse(JSON.stringify(this._featureCollection));\n    }\n  }]);\n\n  return FeatureFlagCollection;\n}();\n\n\n// CONCATENATED MODULE: ./src/core/component-connector.js\nfunction component_connector_extends() { component_connector_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return component_connector_extends.apply(this, arguments); }\n\nfunction component_connector_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction component_connector_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction component_connector_createClass(Constructor, protoProps, staticProps) { if (protoProps) component_connector_defineProperties(Constructor.prototype, protoProps); if (staticProps) component_connector_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar component_connector_externalEventsCodes = constants.externalEventsCodes;\n/**\n * Collection of channels.\n */\n\nvar ChannelManager = function ChannelManager() {\n  this.channels = {}; //*1prototype mixin clone problem\n};\n\nChannelManager.prototype = {\n  channels: null,\n  //{} //*1prototype mixin clone problem\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  get: function get(name) {\n    var channel = this.channels[name];\n\n    if (channel == null) {\n      channel = this.create(name);\n    }\n\n    return channel;\n  },\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  getUnsafe: function getUnsafe(name) {\n    return this.channels[name];\n  },\n\n  /**\n   * Creates a channel.\n   *\n   * @param  {String} name Channel name\n   *\n   * @return {Channel}\n   */\n  create: function create(name) {\n    var channel = state_channel();\n    channel.name = name;\n    this.channels[name] = channel;\n    return channel;\n  },\n\n  /**\n   * Removes a channel from the collection.\n   *\n   * @param  {String} name Name of the channel to remove.\n   */\n  remove: function remove(name) {\n    delete this.channels[name];\n  },\n  unregisterAllSubscriptors: function unregisterAllSubscriptors() {\n    this.ComponentConnector.subscriptors.forEach(function (v) {\n      v.subscriptions.forEach(function (s) {\n        return s.subscription.unsubscribe();\n      });\n    });\n  },\n  cleanAllChannels: function cleanAllChannels() {\n    for (var channelName in this.channels) {\n      if (this.channels.hasOwnProperty(channelName)) {\n        this.channels[channelName].clean();\n      }\n    }\n  },\n  removeAllChannels: function removeAllChannels() {\n    for (var channelName in this.channels) {\n      if (this.channels.hasOwnProperty(channelName)) {\n        delete this.channels[channelName];\n      }\n    }\n  },\n\n  /**\n   * Returns true if there is a channel registered with the given name,\n   *\n   * @param {String} name Channel name,\n   *\n   * @return {Boolean}\n   */\n  has: function has(name) {\n    return this.channels[name] != null;\n  }\n};\n\nvar component_connector_ComponentConnector = /*#__PURE__*/function () {\n  function ComponentConnector() {\n    component_connector_classCallCheck(this, ComponentConnector);\n\n    this.manager = null;\n    this.subscriptors = null;\n    this.bridgeChannelsPrefix = null;\n    this.manager = new ChannelManager();\n    this.subscriptors = new Map();\n    this.bridgeChannelsPrefix = /__bridge_(?!ch)/;\n  }\n\n  component_connector_createClass(ComponentConnector, [{\n    key: \"getSubscriptor\",\n    value: function getSubscriptor(node) {\n      var subscriptor = this.subscriptors.get(node);\n\n      if (!subscriptor) {\n        subscriptor = new subscriptor_Subscriptor(node);\n        this.subscriptors.set(node, subscriptor);\n      }\n\n      return subscriptor;\n    }\n    /**\n     * Register a node in pubsub\n     *\n     * @param  {HTMLElement}  node\n     * @param  {Object}       connections\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(node, connections) {\n      if (node && connections) {\n        this._registerOutConnections(node, connections.out);\n\n        this._registerInConnections(node, connections[\"in\"]);\n      }\n    }\n    /**\n     * Registesr new connections of a node that may have other connections registered previously.\n     *\n     * @param  {HTMLElement}  node\n     * @param  {Object}       connections\n     */\n\n  }, {\n    key: \"progressiveRegister\",\n    value: function progressiveRegister(node, connections) {\n      if (node && connections) {\n        this._registerOutConnections(node, connections.out);\n\n        this._updateInConnections(node, connections[\"in\"]);\n      }\n    }\n  }, {\n    key: \"_registerInConnections\",\n    value: function _registerInConnections(node, inConnections) {\n      var channelName;\n      var bindName;\n      var previousState;\n\n      if (inConnections) {\n        for (channelName in inConnections) {\n          bindName = inConnections[channelName].bind;\n          previousState = inConnections[channelName].previousState || false;\n          this.addSubscription(channelName, node, bindName, previousState);\n        }\n      }\n    }\n  }, {\n    key: \"addSubscription\",\n    value: function addSubscription(channelName, node, bind) {\n      var previousState = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var callback = this._wrapCallbackWithNode(node, bind);\n\n      var channel = this.manager.get(channelName); // @TODO ojo!!! CC this.isBridgeChannel(channelName) ? this.manager.getUnsafe(channelName) : this.manager.get(channelName);\n\n      if (channel) {\n        var subscriptor = this.getSubscriptor(node);\n        subscriptor.subscribe(channel, callback, previousState);\n      }\n    }\n  }, {\n    key: \"_updateInConnections\",\n    value: function _updateInConnections(node, inConnections) {\n      var channelName;\n      var bindName;\n      var previousState;\n\n      if (inConnections) {\n        for (channelName in inConnections) {\n          bindName = inConnections[channelName].bind;\n          previousState = inConnections[channelName].previousState || false;\n          this.updateSubscription(channelName, node, bindName, previousState);\n        }\n      }\n    }\n  }, {\n    key: \"updateSubscription\",\n    value: function updateSubscription(channelName, node, bind) {\n      var previousState = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var subscriptor = this.getSubscriptor(node);\n\n      if (this.isActiveBridgeChannel(channelName) || !this.isActiveBridgeChannel(channelName) && !this.hasSubscriptions(subscriptor, channelName)) {\n        var channel = this.manager.get(channelName);\n\n        var callback = this._wrapCallbackWithNode(node, bind);\n\n        subscriptor.subscribe(channel, callback, previousState);\n      }\n    }\n  }, {\n    key: \"_wrapCallbackWithNode\",\n    value: function _wrapCallbackWithNode(node, bindName) {\n      var cb = this.wrapCallback(node, bindName);\n      cb.node = node;\n      return cb;\n    }\n  }, {\n    key: \"_hasPublisher\",\n    value: function _hasPublisher(subscriptor, node, channelName, bindName) {\n      var hasPublisher = false;\n\n      if (subscriptor.publications._subscriptions) {\n        subscriptor.publications._subscriptions.forEach(function (publication) {\n          if (publication.node === node && publication.channelName === channelName && publication.eventName === bindName) {\n            hasPublisher = true;\n          }\n        });\n      }\n\n      return hasPublisher;\n    }\n  }, {\n    key: \"_registerOutConnections\",\n    value: function _registerOutConnections(node, outConnections) {\n      var channelName;\n      var bindName;\n\n      if (outConnections) {\n        for (channelName in outConnections) {\n          bindName = outConnections[channelName].bind;\n          this.addPublication(channelName, node, bindName, outConnections[channelName]);\n        }\n      }\n    }\n  }, {\n    key: \"addPublication\",\n    value: function addPublication(channelName, node, bindName, outConnectionDefinition) {\n      if (this.isBridgeChannel(channelName)) {\n        console.warn(\"Forbidden operation. You are trying to write to a private channel (\".concat(channelName, \").\"));\n      } else {\n        var subscriptor = this.getSubscriptor(node);\n        var channel = this.manager.get(channelName);\n\n        var hasPublisher = this._hasPublisher(subscriptor, node, channelName, bindName);\n\n        if (!hasPublisher) {\n          subscriptor.publish(this.wrapEvent(node, bindName, channel, outConnectionDefinition));\n        }\n      }\n    }\n  }, {\n    key: \"publish\",\n    value: function publish(channelName, value) {\n      if (this.isBridgeChannel(channelName)) {\n        console.warn(\"Forbidden operation. You are trying to write to a private channel (\".concat(channelName, \").\"));\n      } else {\n        var channel = this.manager.get(channelName);\n        var customEventName = \"\".concat(channelName, \"-publish\");\n        channel.next(new CustomEvent(customEventName, {\n          detail: value\n        }));\n      }\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(channels, node) {\n      if (!channels || !node) {\n        return;\n      }\n\n      var normalizedChannels = Array.isArray(channels) ? channels : [channels];\n      var subscriptor = this.subscriptors.get(node);\n      var subscriptions = subscriptor.subscriptions;\n\n      var byChannelName = function byChannelName(subscription) {\n        return normalizedChannels.includes(subscription.channel.name);\n      };\n\n      var targetSubscriptions = subscriptions.filter(byChannelName);\n      targetSubscriptions.forEach(function (subscription) {\n        // @TODO rename\n        // DO NOT LOOK AT ME!!!\n        subscription.subscription.unsubscribe();\n        var index = subscriptor.subscriptions.findIndex(function (e) {\n          return e === subscription;\n        });\n        subscriptor.subscriptions.splice(index, 1);\n      });\n    }\n    /**\n     * Unregister a node from pubsub\n     *\n     * @param  {HTMLElement} node\n     */\n\n  }, {\n    key: \"unregister\",\n    value: function unregister(node, cleanPrivateChannels) {\n      if (!node) {\n        return;\n      }\n\n      var subscriptor = this.subscriptors.get(node);\n\n      if (subscriptor) {\n        subscriptor.unsubscribe(cleanPrivateChannels);\n        this.subscriptors[\"delete\"](node);\n      }\n    }\n  }, {\n    key: \"unregisterAllSubscriptors\",\n    value: function unregisterAllSubscriptors(cleanPrivateChannels) {\n      this.subscriptors.forEach(function (v) {\n        v.subscriptions.forEach(function (s) {\n          return s.subscription.unsubscribe(cleanPrivateChannels);\n        });\n      });\n    } // @TODO unificar con unregister\n\n  }, {\n    key: \"sleep\",\n    value: function sleep(node) {\n      if (!node) {\n        return;\n      }\n\n      var subscriptor = this.subscriptors.get(node);\n\n      if (subscriptor) {//subscriptor.unsubscribe();\n      }\n    }\n    /**\n     * Wrap a callback.\n     *\n     * @param  {HTMLElement/Object} node\n     * @param  {String} bindName Method or property name\n     *\n     * @return {Function}\n     */\n\n  }, {\n    key: \"wrapCallback\",\n    value: function wrapCallback(node, bindName) {\n      var wrappedCb = function wrappedCb(event) {\n        if (typeof bindName === 'function') {\n          bindName(event.detail);\n        } else {\n          if (typeof node[bindName] === 'function') {\n            node[bindName](event.detail);\n          } else {\n            node[bindName] = event.detail;\n          }\n        }\n      };\n\n      return wrappedCb;\n    }\n    /**\n     * Returns true if the event has reached the node that is listening the event\n     *\n     * @param {Event} event\n     */\n\n  }, {\n    key: \"_isEventAtTarget\",\n    value: function _isEventAtTarget(event) {\n      var AT_TARGET = Event.AT_TARGET || Event.prototype.AT_TARGET;\n      return event.eventPhase === AT_TARGET;\n    }\n    /**\n     * Wrap an event.\n     *\n     * @param  {HTMLElement} node\n     * @param  {String} eventName\n     * @param  {Channel} channel\n     *\n     * @return {Function}\n     */\n\n  }, {\n    key: \"wrapEvent\",\n    value: function wrapEvent(node, eventName, channel, connection) {\n      var AFTER_PUBLISH = component_connector_externalEventsCodes.AFTER_PUBLISH,\n          NAV_REQUEST = component_connector_externalEventsCodes.NAV_REQUEST,\n          ROUTER_BACKSTEP = component_connector_externalEventsCodes.ROUTER_BACKSTEP,\n          TRACK_EVENT = component_connector_externalEventsCodes.TRACK_EVENT,\n          LOG_EVENT = component_connector_externalEventsCodes.LOG_EVENT;\n      var source = fromEvent(node, eventName); // this checking is for components with FeatureFlag configuration\n\n      if (lastValue.has(node)) {\n        source = source.pipe(filter(function () {\n          return lastValue.get(node);\n        }));\n      }\n\n      var wrappedListener = source.subscribe(function (event) {\n        if (!this._isEventAtTarget(event)) {\n          // If the event bubbles up from a child element:\n          return;\n        }\n\n        channel.next(event);\n        manager_events.emit(AFTER_PUBLISH, event);\n\n        if (connection && connection.link) {\n          var linkObject = component_connector_extends({}, connection.link);\n\n          if (connection.link.page) {\n            if (connection.link.page.hasOwnProperty('bind')) {\n              linkObject.page = event.detail[connection.link.page.bind];\n            }\n          }\n\n          manager_events.emit(NAV_REQUEST, {\n            event: event,\n            detail: linkObject\n          });\n        }\n\n        if (connection && connection.backStep) {\n          manager_events.emit(ROUTER_BACKSTEP, {\n            event: event,\n            detail: {}\n          });\n        }\n\n        if (connection && connection.analytics) {\n          manager_events.emit(TRACK_EVENT, {\n            event: event,\n            detail: connection.analytics\n          });\n        }\n\n        if (connection && connection.log) {\n          manager_events.emit(LOG_EVENT, {\n            event: event,\n            detail: connection.log\n          });\n        }\n\n        if (this.wrapEventHandler) {\n          this.wrapEventHandler(event, connection, channel);\n        }\n      }.bind(this));\n      wrappedListener.node = node;\n      wrappedListener.eventName = eventName;\n      wrappedListener.channelName = channel.name;\n      return wrappedListener;\n    }\n    /**\n     * receive a channel name and change old private values.\n     *\n     * @param  {string} name\n     *\n     */\n\n  }, {\n    key: \"createEvent\",\n    value: function createEvent(name, value) {\n      var evt = new Event(name);\n      evt.detail = {\n        value: value\n      };\n      return evt;\n    }\n    /**\n     * returns true if there's a private channel with the given name\n     *\n     * @param {String} name\n     *\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isActiveBridgeChannel\",\n    value: function isActiveBridgeChannel(name) {\n      return this.isBridgeChannel(name) && this.manager.getUnsafe(name);\n    }\n    /**\n     * returns true if the given name matches a private channel's name\n     *\n     * @param {String} name\n     *\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isBridgeChannel\",\n    value: function isBridgeChannel(name) {\n      return this.bridgeChannelsPrefix.test(name);\n    }\n    /**\n     * returns true if the subscriptor has been subscribed to the given channel.\n     *\n     * @param {Subscriptor} subscriptor\n     * @param {String} channelName\n     *\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"hasSubscriptions\",\n    value: function hasSubscriptions(subscriptor, channelName) {\n      return subscriptor.subscriptions.filter(function (d) {\n        return d.channel.name === channelName;\n      }).length > 0;\n    }\n  }]);\n\n  return ComponentConnector;\n}();\n/**\n * ComponentConnector definition\n */\n\n\n/* harmony default export */ var component_connector = (component_connector_ComponentConnector);\n// CONCATENATED MODULE: ./src/core/route.js\nfunction route_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction route_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction route_createClass(Constructor, protoProps, staticProps) { if (protoProps) route_defineProperties(Constructor.prototype, protoProps); if (staticProps) route_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Route = /*#__PURE__*/function () {\n  // needed to discriminate between 404 and rest of pages with same pattern\n\n  /**\n   * @private\n   * @param {String} routeName\n   * * @param {String} pattern\n   * @return {Object}\n   */\n  function Route(name, pattern) {\n    route_classCallCheck(this, Route);\n\n    this.name = '';\n    this.pattern = '';\n    this.regexp = null;\n    this.redirectPage = null;\n    this.isAccessible = true;\n    this.name = name;\n    this.pattern = pattern;\n    var regexp = pattern.replace(Route.PARAM, '([^/]+)').replace(Route.TRAILING_SLASHES, '/*');\n    this.regexp = new RegExp('^' + regexp + '$');\n    var parts;\n    var keys = [];\n\n    while ((parts = Route.PARAM.exec(pattern)) !== null) {\n      keys.push(parts[1]);\n    }\n\n    this.keys = keys;\n  }\n\n  route_createClass(Route, [{\n    key: \"path\",\n    value: function path(params) {\n      params = params || {};\n      this.params = {};\n      var parts;\n      var path = this.pattern;\n\n      while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n        path = path.replace(parts[0], params[parts[1]]);\n        this.params[parts[1]] = params[parts[1]];\n      }\n\n      var queryParams = [];\n\n      for (var param in params) {\n        if (!this.params.hasOwnProperty(param)) {\n          queryParams.push(param + '=' + encodeURIComponent(params[param]));\n        }\n      }\n\n      if (queryParams.length) {\n        path += '?' + queryParams.join('&');\n      }\n\n      return path;\n    }\n  }, {\n    key: \"matchPath\",\n    value: function matchPath(path) {\n      return path.match(this.regexp);\n    }\n  }, {\n    key: \"parsePath\",\n    value: function parsePath(path) {\n      var match = this.matchPath(path);\n      this.params = {};\n\n      if (match) {\n        var i = 1;\n        var parts;\n\n        while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n          this.params[parts[1]] = this._parseParam(match[i]);\n          i++;\n        }\n      }\n    }\n  }, {\n    key: \"parseQuery\",\n    value: function parseQuery(query) {\n      this.query = query;\n\n      for (var queryParam in this.query) {\n        if (this.query.hasOwnProperty(queryParam)) {\n          this.params[queryParam] = this.query[queryParam];\n        }\n      }\n    }\n    /**\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"is404\",\n    value: function is404() {\n      return this.name === Route._404_PAGE_NAME;\n    }\n    /**\n     * @private\n     * @param {String} value\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"_isNumber\",\n    value: function _isNumber(value) {\n      return parseInt(value) + '' === value || parseFloat(value) + '' === value;\n    }\n    /**\n     * @private\n     * @param {String} param\n     * @return {String|Number}\n     */\n\n  }, {\n    key: \"_parseParam\",\n    value: function _parseParam(param) {\n      if (this._isNumber(param)) {\n        param = +param;\n      }\n\n      return param;\n    }\n  }, {\n    key: \"handler\",\n    value: function handler() {// Overwrite to make something with the current route\n    }\n  }]);\n\n  return Route;\n}();\n\nRoute.PARAM = /(?::([^/]+))/g;\nRoute.TRAILING_SLASHES = /\\/*$/;\nRoute._404_PAGE_NAME = '404';\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/InnerSubscriber.js\n/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n\n\nvar InnerSubscriber_InnerSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        _this.index = 0;\n        return _this;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_Subscriber));\n\n//# sourceMappingURL=InnerSubscriber.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js\n/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\n\nvar subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, hostReportError);\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/symbol/iterator.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nvar iterator_iterator = /*@__PURE__*/ getSymbolIterator();\nvar $$iterator = iterator_iterator;\n//# sourceMappingURL=iterator.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js\n/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\n\nvar subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[iterator_iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js\n/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\n\nvar subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[observable_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isArrayLike.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isPromise.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/subscribeTo.js\n/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\n\n\n\n\n\n\n\n\n\nvar subscribeTo = function (result) {\n    if (!!result && typeof result[observable_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[iterator_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/subscribeToResult.js\n/** PURE_IMPORTS_START _InnerSubscriber,_subscribeTo,_Observable PURE_IMPORTS_END */\n\n\n\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {\n    if (innerSubscriber === void 0) {\n        innerSubscriber = new InnerSubscriber_InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    }\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable_Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=subscribeToResult.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/OuterSubscriber.js\n/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n\n\nvar OuterSubscriber_OuterSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_Subscriber));\n\n//# sourceMappingURL=OuterSubscriber.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js\n/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */\n\n\n\nfunction scheduleObservable(input, scheduler) {\n    return new Observable_Observable(function (subscriber) {\n        var sub = new Subscription_Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[observable_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js\n/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\n\n\nfunction schedulePromise(input, scheduler) {\n    return new Observable_Observable(function (subscriber) {\n        var sub = new Subscription_Subscription();\n        sub.add(scheduler.schedule(function () {\n            return input.then(function (value) {\n                sub.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            });\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js\n/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */\n\n\n\nfunction scheduleIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable_Observable(function (subscriber) {\n        var sub = new Subscription_Subscription();\n        var iterator;\n        sub.add(function () {\n            if (iterator && typeof iterator.return === 'function') {\n                iterator.return();\n            }\n        });\n        sub.add(scheduler.schedule(function () {\n            iterator = input[iterator_iterator]();\n            sub.add(scheduler.schedule(function () {\n                if (subscriber.closed) {\n                    return;\n                }\n                var value;\n                var done;\n                try {\n                    var result = iterator.next();\n                    value = result.value;\n                    done = result.done;\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isInteropObservable.js\n/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\n\nfunction isInteropObservable(input) {\n    return input && typeof input[observable_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/isIterable.js\n/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\n\nfunction isIterable(input) {\n    return input && typeof input[iterator_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/scheduled/scheduled.js\n/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */\n\n\n\n\n\n\n\n\nfunction scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=scheduled.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/from.js\n/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */\n\n\n\nfunction from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable_Observable) {\n            return input;\n        }\n        return new Observable_Observable(subscribeTo(input));\n    }\n    else {\n        return scheduled(input, scheduler);\n    }\n}\n//# sourceMappingURL=from.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/mergeMap.js\n/** PURE_IMPORTS_START tslib,_util_subscribeToResult,_OuterSubscriber,_InnerSubscriber,_map,_observable_from PURE_IMPORTS_END */\n\n\n\n\n\n\nfunction mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };\n}\nvar MergeMapOperator = /*@__PURE__*/ (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new mergeMap_MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\n\nvar mergeMap_MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        var innerSubscriber = new InnerSubscriber_InnerSubscriber(this, value, index);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = subscribeToResult(this, ish, undefined, undefined, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber_OuterSubscriber));\n\n//# sourceMappingURL=mergeMap.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/identity.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nfunction identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/mergeAll.js\n/** PURE_IMPORTS_START _mergeMap,_util_identity PURE_IMPORTS_END */\n\n\nfunction mergeAll(concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/merge.js\n/** PURE_IMPORTS_START _Observable,_util_isScheduler,_operators_mergeAll,_fromArray PURE_IMPORTS_END */\n\n\n\n\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable_Observable) {\n        return observables[0];\n    }\n    return mergeAll(concurrent)(fromArray(observables, scheduler));\n}\n//# sourceMappingURL=merge.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/concatAll.js\n/** PURE_IMPORTS_START _mergeAll PURE_IMPORTS_END */\n\nfunction concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/observable/concat.js\n/** PURE_IMPORTS_START _of,_operators_concatAll PURE_IMPORTS_END */\n\n\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return concatAll()(of.apply(void 0, observables));\n}\n//# sourceMappingURL=concat.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/startWith.js\n/** PURE_IMPORTS_START _observable_concat,_util_isScheduler PURE_IMPORTS_END */\n\n\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i] = arguments[_i];\n    }\n    var scheduler = array[array.length - 1];\n    if (isScheduler(scheduler)) {\n        array.pop();\n        return function (source) { return concat(array, source, scheduler); };\n    }\n    else {\n        return function (source) { return concat(array, source); };\n    }\n}\n//# sourceMappingURL=startWith.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js\n/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n\n\nfunction distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nvar DistinctUntilChangedOperator = /*@__PURE__*/ (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new distinctUntilChanged_DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\nvar distinctUntilChanged_DistinctUntilChangedSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.hasKey = false;\n        if (typeof compare === 'function') {\n            _this.compare = compare;\n        }\n        return _this;\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            var keySelector = this.keySelector;\n            key = keySelector ? keySelector(value) : value;\n        }\n        catch (err) {\n            return this.destination.error(err);\n        }\n        var result = false;\n        if (this.hasKey) {\n            try {\n                var compare = this.compare;\n                result = compare(this.key, key);\n            }\n            catch (err) {\n                return this.destination.error(err);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (!result) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber_Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n// CONCATENATED MODULE: ./src/core/navigation-stack.js\nfunction navigation_stack_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction navigation_stack_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction navigation_stack_createClass(Constructor, protoProps, staticProps) { if (protoProps) navigation_stack_defineProperties(Constructor.prototype, protoProps); if (staticProps) navigation_stack_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar NavigationStack = /*#__PURE__*/function () {\n  function NavigationStack() {\n    navigation_stack_classCallCheck(this, NavigationStack);\n\n    this.navStack = [];\n    this.skipNav = {};\n  }\n\n  navigation_stack_createClass(NavigationStack, [{\n    key: \"addSkipNavigation\",\n    value: function addSkipNavigation(nav) {\n      if (nav.skipHistory === true || nav.skipHistory === false) {\n        this.skipNav[\"\".concat(nav.from, \":\").concat(nav.to)] = nav.skipHistory;\n      }\n    }\n  }, {\n    key: \"_reverseNavigation\",\n    value: function _reverseNavigation(nav) {\n      return {\n        from: nav.to,\n        to: nav.from\n      };\n    }\n  }, {\n    key: \"isSkipNavigation\",\n    value: function isSkipNavigation(nav) {\n      return this.skipNav[\"\".concat(nav.from, \":\").concat(nav.to)] === true;\n    }\n  }, {\n    key: \"lastNavigation\",\n    value: function lastNavigation() {\n      var navCount = this.navStack.length;\n      var from;\n      var to;\n\n      if (navCount === 1) {\n        to = this.navStack[0];\n      } else if (navCount > 1) {\n        to = this.navStack[navCount - 1];\n        from = this.navStack[navCount - 2];\n      }\n\n      return this.createNavigation(from, to);\n    }\n  }, {\n    key: \"createRoute\",\n    value: function createRoute(page) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return {\n        page: page,\n        params: params\n      };\n    }\n  }, {\n    key: \"createNavigation\",\n    value: function createNavigation(routeFrom, routeTo) {\n      return {\n        from: routeFrom ? routeFrom.page : undefined,\n        to: routeTo ? routeTo.page : undefined\n      };\n    }\n  }, {\n    key: \"push\",\n    value: function push(route) {\n      if (!this.top() || this.top().page !== route.page) {\n        this.navStack.push(route);\n      }\n    }\n  }, {\n    key: \"replace\",\n    value: function replace(route) {\n      if (!this.top() || this.top().page !== route.page) {\n        this.navStack[this.navStack.length - 1] = route;\n      }\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      return this.navStack.pop();\n    }\n  }, {\n    key: \"top\",\n    value: function top() {\n      return this.navStack.length > 0 ? this.navStack[this.navStack.length - 1] : undefined;\n    }\n  }, {\n    key: \"isBackwardNavigation\",\n    value: function isBackwardNavigation(newNav) {\n      var lastNav = this.lastNavigation();\n      return lastNav && newNav.from === lastNav.to && newNav.to === lastNav.from;\n    }\n  }, {\n    key: \"update\",\n    value: function update(routeFrom, routeTo) {\n      var nav = this.createNavigation(routeFrom, routeTo);\n\n      if (this.isBackwardNavigation(nav)) {\n        while (this.isSkipNavigation(this._reverseNavigation(this.lastNavigation()))) {\n          this.pop();\n        }\n\n        this.pop();\n      } else {\n        this.push(routeTo);\n      }\n\n      return this.top();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.navStack = [];\n    }\n  }, {\n    key: \"replaceRoute\",\n    value: function replaceRoute(route) {\n      if (this.navStack.length > 0) {\n        this.navStack[this.navStack.length - 1] = route;\n      } else {\n        this.push(route);\n      }\n    }\n    /**\n     * Clear the router stack until given page is found on router stack.\n     */\n\n  }, {\n    key: \"clearUntil\",\n    value: function clearUntil(targetPage) {\n      if (this.navStack.find(function (route) {\n        return route.page === targetPage;\n      })) {\n        var currentRoute = null;\n\n        do {\n          currentRoute = this.navStack.pop();\n        } while (currentRoute && currentRoute.page != targetPage);\n      }\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.navStack.length;\n    }\n  }]);\n\n  return NavigationStack;\n}();\n\n\n// CONCATENATED MODULE: ./src/core/router.js\nfunction router_slicedToArray(arr, i) { return router_arrayWithHoles(arr) || router_iterableToArrayLimit(arr, i) || router_nonIterableRest(); }\n\nfunction router_nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction router_iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction router_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction router_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { router_typeof = function _typeof(obj) { return typeof obj; }; } else { router_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return router_typeof(obj); }\n\nfunction router_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction router_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction router_createClass(Constructor, protoProps, staticProps) { if (protoProps) router_defineProperties(Constructor.prototype, protoProps); if (staticProps) router_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction router_possibleConstructorReturn(self, call) { if (call && (router_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return router_assertThisInitialized(self); }\n\nfunction router_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = router_getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction router_getPrototypeOf(o) { router_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return router_getPrototypeOf(o); }\n\nfunction router_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) router_setPrototypeOf(subClass, superClass); }\n\nfunction router_setPrototypeOf(o, p) { router_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return router_setPrototypeOf(o, p); }\n\n\n\n\n\n\n\nvar router_EMPTY = Subscription_Subscription.EMPTY;\nvar router_externalEventsCodes = constants.externalEventsCodes;\nvar instance = null;\nvar _useHistory = false;\nvar _routes = {};\n\nvar _disposables;\n\nvar _currentRoute;\n\nvar _404Route;\n/**\n * @class SerialSubscription\n * Mimics behavior of SerialDisposable in RxJS v4,\n * allows to add only single subscription. If new subscription's added,\n * existing subscription will be unsubscribed.\n *\n * By design of RxJS v5 it is no longer recommended to manage subscription\n * imperatively vis various kind of subscription, reason it only have single\n * kind of composite subscription. This implementation is for interop between\n * existing codebases.\n * @extends {Subscription}\n */\n\n\nvar router_SerialSubscription = /*#__PURE__*/function (_Subscription) {\n  router_inherits(SerialSubscription, _Subscription);\n\n  function SerialSubscription() {\n    var _this;\n\n    router_classCallCheck(this, SerialSubscription);\n\n    _this = router_possibleConstructorReturn(this, router_getPrototypeOf(SerialSubscription).call(this));\n    _this._currentSubscription = router_EMPTY;\n    return _this;\n  }\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If there's existing subscription, it'll be unsubscribed and\n   * removed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n\n\n  router_createClass(SerialSubscription, [{\n    key: \"add\",\n    value: function add(teardown) {\n      if (this.closed) return;\n      if (typeof teardown === 'function') teardown = new Subscription_Subscription(teardown);\n\n      if (this._currentSubscription) {\n        this.remove(this._currentSubscription);\n\n        this._currentSubscription.unsubscribe();\n\n        this._currentSubscription = null;\n      }\n\n      _get(router_getPrototypeOf(SerialSubscription.prototype), \"add\", this).call(this, this._currentSubscription = teardown);\n    }\n  }]);\n\n  return SerialSubscription;\n}(Subscription_Subscription);\n\nvar router_Router = /*#__PURE__*/function () {\n  function Router() {\n    var _this2 = this;\n\n    router_classCallCheck(this, Router);\n\n    var TEMPLATE_TRANSITION_END = router_externalEventsCodes.TEMPLATE_TRANSITION_END;\n\n    if (!instance) {\n      instance = this;\n    }\n\n    this.navigationStack = this._createNavigationStack();\n    manager_events.on(TEMPLATE_TRANSITION_END, function () {\n      _this2.isNavigationInProgress = false;\n    });\n    return instance;\n  }\n\n  router_createClass(Router, [{\n    key: \"_createNavigationStack\",\n    value: function _createNavigationStack() {\n      return new NavigationStack();\n    }\n    /**\n     * @param {Boolean} value\n     */\n\n  }, {\n    key: \"handler\",\n\n    /**\n     * @param {Object} route\n     */\n    // eslint-disable-next-line no-unused-vars\n    value: function handler(route) {// Overwrite to make something after all matched routes\n    }\n  }, {\n    key: \"addRoute\",\n    value: function addRoute(name, pattern) {\n      this.routes[name] = new Route(name, pattern);\n      return this.routes[name];\n    }\n  }, {\n    key: \"addRoutes\",\n    value: function addRoutes(routes) {\n      var __routes = {};\n\n      for (var routeName in routes) {\n        if (routes.hasOwnProperty(routeName)) {\n          __routes[routeName] = this.addRoute(routeName, routes[routeName]);\n        }\n      }\n\n      return __routes;\n    }\n  }, {\n    key: \"addSkipNavigations\",\n    value: function addSkipNavigations(skipNavs) {\n      for (var i = 0; i < skipNavs.length; i++) {\n        this.navigationStack.addSkipNavigation(skipNavs[i]);\n      }\n    }\n    /**\n     * @private\n     * @return {String}\n     */\n\n  }, {\n    key: \"_getHashPath\",\n    value: function _getHashPath() {\n      return location.hash.replace(Router.HASH_PREFIX, '/').replace(Router.EMPTY, '/');\n    }\n    /**\n     * @private\n     * @return {Observable}\n     */\n\n  }, {\n    key: \"_observeHashChange\",\n    value: function _observeHashChange() {\n      return fromEvent(window, 'hashchange').pipe(map(this._getHashPath), startWith(this._getHashPath()));\n    }\n    /**\n     * @private\n     * @return {String}\n     */\n\n  }, {\n    key: \"_getURLPath\",\n    value: function _getURLPath() {\n      return location.pathname.replace(Router.PATH_PREFIX, '/');\n    }\n    /**\n     * @private\n     * @return {Observable}\n     */\n\n  }, {\n    key: \"_observeStateChange\",\n    value: function _observeStateChange() {\n      return merge(fromEvent(window, 'popstate'), fromEvent(window, 'pushstate')).pipe(map(this._getURLPath), startWith(this._getURLPath()));\n    }\n    /**\n     * @private\n     * @param {String}\n     * @return {Array}\n     */\n\n  }, {\n    key: \"matchRoute\",\n    value: function matchRoute(fullPath) {\n      var route;\n\n      var _fullPath$split = fullPath.split('?'),\n          _fullPath$split2 = router_slicedToArray(_fullPath$split, 2),\n          path = _fullPath$split2[0],\n          query = _fullPath$split2[1];\n\n      query = this._parseQuery(query);\n\n      for (var routeName in this.routes) {\n        if (this.routes.hasOwnProperty(routeName)) {\n          route = this.routes[routeName];\n\n          if ((!route.is404() || route.isAccessible) && route.matchPath(path)) {\n            route.parsePath(path);\n            route.parseQuery(query);\n            return route;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_parseQuery\",\n    value: function _parseQuery(querystr) {\n      var params = {};\n\n      if (querystr) {\n        // Split into key/value pairs\n        var queries = querystr.split('&');\n\n        if (queries) {\n          // Convert the array of strings into an object\n          var key,\n              value,\n              i,\n              len = queries.length;\n\n          for (i = 0; i < len; i++) {\n            var _queries$i$split = queries[i].split('=');\n\n            var _queries$i$split2 = router_slicedToArray(_queries$i$split, 2);\n\n            key = _queries$i$split2[0];\n            value = _queries$i$split2[1];\n            params[key] = decodeURIComponent(value);\n          }\n        }\n      }\n\n      return params;\n    }\n  }, {\n    key: \"_setup404\",\n    value: function _setup404() {\n      var route404 = this.routes[Route._404_PAGE_NAME]; // We check if 404 route have a pattern...\n\n      if (route404 && route404.pattern !== '') {\n        var routeWithSamePattern = this.getRouteWithPattern(route404.pattern); // We set redirect page based on, if it's a repeated URL pattern or a unique one.\n        // If it's unique, we set it accesible from the router.\n        // Otherwise, it's going to NOT be accesible from the router (multiple router with same pattern)\n\n        route404.redirectPage = routeWithSamePattern ? routeWithSamePattern.name : route404.name;\n        route404.isAccessible = !routeWithSamePattern;\n      }\n\n      return route404;\n    }\n  }, {\n    key: \"getRouteWithPattern\",\n    value: function getRouteWithPattern(patternToMath) {\n      for (var routeName in this.routes) {\n        if (this.routes.hasOwnProperty(routeName)) {\n          var route = this.routes[routeName]; // we only take care about routes with same patterns that aren't the same\n\n          if (!route.is404() && route.pattern === patternToMath) {\n            return route;\n          }\n        }\n      }\n\n      return null;\n    }\n    /**\n     *\n     * @return {Subscription}\n     */\n\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n\n      /* istanbul ignore else */\n      if (!_disposables) {\n        var active = new router_SerialSubscription();\n        _404Route = this._setup404();\n        var source = this.useHistory ? this._observeStateChange() : this._observeHashChange();\n        var subscription = source.pipe(distinctUntilChanged(), map(this.matchRoute.bind(this)));\n        subscription.forEach(function (route) {\n          if (!_this3.hashIsDirty) {\n            if (route) {\n              var currentRouteName = _this3.currentRoute ? _this3.currentRoute.name : undefined;\n              var currentRouteParams = _this3.currentRoute ? _this3.currentRoute.params : undefined;\n\n              var routeFrom = _this3.navigationStack.createRoute(currentRouteName, currentRouteParams);\n\n              var routeTo = _this3.navigationStack.createRoute(route.name, route.params);\n\n              var newRouteName = _this3.navigationStack.update(routeFrom, routeTo).page;\n\n              if (newRouteName !== routeTo.page) {\n                _this3.go(newRouteName, undefined, false);\n\n                return;\n              }\n\n              _currentRoute = route;\n              var disposable = new Subscription_Subscription(function () {\n                return _this3.currentRoute;\n              });\n              active.add(disposable);\n\n              _this3.currentRoute.handler();\n\n              _this3.handler(_this3.currentRoute);\n            } else if (_404Route && _404Route.redirectPage) {\n              _this3.goReplacing(_404Route.redirectPage);\n            }\n          } else {\n            _this3.hashIsDirty = false;\n          }\n        });\n        _disposables = new Subscription_Subscription(subscription, active);\n      }\n\n      return _disposables;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (_disposables) {\n        _disposables.unsubscribe();\n\n        _disposables = null;\n      }\n\n      this.isNavigationInProgress = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      this.routes = {};\n    }\n  }, {\n    key: \"getPath\",\n    value: function getPath(routeName, params) {\n      var route = this.routes[routeName];\n\n      if (route) {\n        return route.path(params);\n      } else {\n        console.error('Wrong route name: %s, valid route names: %s', routeName, Object.keys(this.routes).join(', '));\n      }\n    }\n  }, {\n    key: \"newNavigation\",\n    value: function newNavigation(name) {\n      return {\n        'from': this.currentRoute ? this.currentRoute.name : undefined,\n        'to': name\n      };\n    }\n  }, {\n    key: \"reverseNavigation\",\n    value: function reverseNavigation(nav) {\n      return {\n        from: nav.to,\n        to: nav.from\n      };\n    }\n  }, {\n    key: \"go\",\n    value: function go(name, params, replace, skipHistory) {\n      if (this.isNavigationInProgress) {\n        return;\n      }\n\n      if (skipHistory !== undefined) {\n        var newNav = this.newNavigation(name);\n        var reverseNav = this.reverseNavigation(newNav);\n        reverseNav.skipHistory = skipHistory;\n        this.navigationStack.addSkipNavigation(reverseNav);\n      }\n\n      var sanitizedName = name.replace(Router.LTRIM_SLASH, '');\n      var path = this.getPath(sanitizedName, params);\n\n      if (path !== this._getHashPath()) {\n        this.isNavigationInProgress = true;\n        this.updatePathInBrowser(path, replace);\n      }\n    }\n  }, {\n    key: \"back\",\n    value: function back() {\n      var navigation = {};\n\n      if (this.navigationStack.length > 1) {\n        var fromRoute = this.navigationStack.pop();\n        var auxFromRoute = fromRoute;\n        var backRoute = this.getLastRoute();\n\n        while (this.navigationStack.isSkipNavigation({\n          from: auxFromRoute.page,\n          to: backRoute.page\n        }) && this.navigationStack.length > 1) {\n          auxFromRoute = this.navigationStack.pop();\n\n          if (this.navigationStack.length > 0) {\n            backRoute = this.getLastRoute();\n          }\n        }\n\n        var page = backRoute.page;\n        var params = backRoute.params;\n        navigation.from = fromRoute;\n        navigation.to = backRoute;\n        this.go(page, params);\n      } else {\n        navigation.from = this.getLastRoute();\n        navigation.to = this.getLastRoute();\n      }\n\n      return navigation;\n    }\n  }, {\n    key: \"updatePathInBrowser\",\n    value: function updatePathInBrowser(path, replace) {\n      if (this.useHistory) {\n        if (replace) {\n          this.historyReplaceState(path);\n        } else {\n          this.historyPushState(path);\n        }\n      } else {\n        if (replace) {\n          this.locationReplace(path);\n        } else {\n          this.locationHash(path);\n        }\n      }\n    }\n  }, {\n    key: \"goReplacing\",\n    value: function goReplacing(name, params) {\n      this.go(name, params, true);\n    }\n  }, {\n    key: \"historyReplaceState\",\n    value: function historyReplaceState(path) {\n      history.replaceState(null, null, path);\n    }\n  }, {\n    key: \"historyPushState\",\n    value: function historyPushState(path) {\n      history.pushState(null, null, path);\n    }\n  }, {\n    key: \"locationReplace\",\n    value: function locationReplace(path) {\n      location.replace('#!' + path);\n    }\n  }, {\n    key: \"locationHash\",\n    value: function locationHash(path) {\n      location.hash = '#!' + path;\n    }\n    /**\n     * Get last route from stack.\n     *\n     * @returns {Object} Last route from stack.\n     */\n\n  }, {\n    key: \"getLastRoute\",\n    value: function getLastRoute() {\n      return this.navigationStack.top();\n    }\n    /**\n     * Initialize router stack.\n     */\n\n  }, {\n    key: \"init\",\n    value: function init() {\n      this._clearStack();\n    }\n    /**\n     * Clear the router stack.\n     */\n\n  }, {\n    key: \"_clearStack\",\n    value: function _clearStack() {\n      this.navigationStack.clear();\n    }\n    /**\n     * Clear the router stack until given page is found on router stack.\n     */\n\n  }, {\n    key: \"clearStackUntil\",\n    value: function clearStackUntil(targetPage) {\n      this.navigationStack.clearUntil(targetPage);\n    }\n  }, {\n    key: \"useHistory\",\n    set: function set(value) {\n      /* istanbul ignore else */\n      if (Router.SUPPORTS_HISTORY_API) {\n        _useHistory = value;\n      }\n    },\n    get: function get() {\n      return _useHistory;\n    }\n  }, {\n    key: \"routes\",\n    set: function set(routes) {\n      _routes = routes;\n    },\n    get: function get() {\n      return _routes;\n    }\n  }, {\n    key: \"currentRoute\",\n    get: function get() {\n      return _currentRoute;\n    },\n    set: function set(route) {\n      _currentRoute = route;\n    }\n  }]);\n\n  return Router;\n}();\n\nrouter_Router.SUPPORTS_HISTORY_API = window.history && 'pushState' in window.history;\nrouter_Router.PARAM = /(?::([^/]+))/g;\nrouter_Router.LTRIM_SLASH = /^\\/(\\b)/;\nrouter_Router.EMPTY = /^$/;\nrouter_Router.HASH_PREFIX = /^#!?\\/*/;\nrouter_Router.PATH_PREFIX = /^\\/*/;\nrouter_Router.isNavigationInProgress = false;\nrouter_Router.hashIsDirty = false;\n\n// CONCATENATED MODULE: ./src/core/manager/import.js\nfunction import_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction import_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction import_createClass(Constructor, protoProps, staticProps) { if (protoProps) import_defineProperties(Constructor.prototype, protoProps); if (staticProps) import_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar import_externalEventsCodes = constants.externalEventsCodes;\n\nvar _after = function _after(times, func) {\n  return function () {\n    if (--times < 1) {\n      return func();\n    }\n  };\n};\n\nvar import_CellsManagerImport = /*#__PURE__*/function () {\n  function CellsManagerImport() {\n    import_classCallCheck(this, CellsManagerImport);\n  }\n\n  import_createClass(CellsManagerImport, [{\n    key: \"_importElement\",\n    value: function _importElement(endPoint, componentPath, callback) {\n      var node = document.createElement('link');\n      node.rel = 'import';\n      node.href = endPoint + componentPath;\n      node.onload = callback;\n      node.onerror = callback;\n      node.setAttribute('async', '');\n      document.head.appendChild(node);\n    }\n  }, {\n    key: \"_importElementPromise\",\n    value: function _importElementPromise(endPoint, componentPath) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        _this._importElement(endPoint, componentPath, resolve);\n      });\n    }\n  }, {\n    key: \"loadBundleForTemplate\",\n    value: function loadBundleForTemplate(baseUri, pageName, callback) {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        var finishComponentLoading = function finishComponentLoading() {\n          if (callback) {\n            callback.call(_this2);\n          }\n\n          resolve();\n        };\n\n        _this2._importElement(baseUri, pageName + '.html', finishComponentLoading);\n      });\n    }\n  }, {\n    key: \"loadComponent\",\n    value: function loadComponent(component, baseUri, callback) {\n      var _this3 = this;\n\n      var BEFORE_IMPORT = import_externalEventsCodes.BEFORE_IMPORT,\n          AFTER_IMPORT = import_externalEventsCodes.AFTER_IMPORT;\n      return new Promise(function (resolve) {\n        var finishComponentLoading = function finishComponentLoading() {\n          if (callback) {\n            callback.call(_this3);\n          }\n\n          resolve();\n        };\n\n        var list = component;\n\n        if (!Array.isArray(list)) {\n          list = [component];\n        }\n\n        if (list.length === 0) {\n          finishComponentLoading();\n          return;\n        }\n\n        manager_events.emit(BEFORE_IMPORT);\n\n        var iCb = _after(list.length, function () {\n          manager_events.emit(AFTER_IMPORT);\n          finishComponentLoading();\n        });\n\n        for (var index = 0; index < list.length; index++) {\n          var item = list[index];\n\n          _this3._importElement(baseUri, item.spec.path, iCb);\n        }\n      });\n    }\n  }, {\n    key: \"loadComponentByPriority\",\n    value: function loadComponentByPriority(component, baseUri, callback) {\n      var _this4 = this;\n\n      var BEFORE_IMPORT = import_externalEventsCodes.BEFORE_IMPORT,\n          AFTER_IMPORT = import_externalEventsCodes.AFTER_IMPORT;\n      var list = component;\n\n      if (!Array.isArray(list)) {\n        list = [component];\n      }\n\n      if (list.length === 0) {\n        if (callback) {\n          callback.call(this);\n        }\n\n        return;\n      }\n\n      var priorityLists = this._createPriorityLists(list);\n\n      manager_events.emit(BEFORE_IMPORT);\n\n      this._chainElementLoading(baseUri, priorityLists, 0).then(function () {\n        manager_events.emit(AFTER_IMPORT);\n\n        if (callback) {\n          callback.call(_this4);\n        }\n      });\n    }\n  }, {\n    key: \"_createSortedArratByPriorityAndUniqueElements\",\n    value: function _createSortedArratByPriorityAndUniqueElements(list) {\n      list.sort(function (a, b) {\n        var priorityA = a.priority || 1000;\n        var priorityB = b.priority || 1000;\n\n        if (priorityA === priorityB) {\n          return a.spec.path <= b.spec.path ? -1 : 1;\n        } else {\n          return priorityA - priorityB;\n        }\n      });\n      return list.filter(function (elem, pos, arr) {\n        return pos === 0 || elem.spec.path !== arr[pos - 1].spec.path;\n      });\n    }\n  }, {\n    key: \"_createPriorityLists\",\n    value: function _createPriorityLists(list) {\n      var sortedList = this._createSortedArratByPriorityAndUniqueElements(list);\n\n      var currentPriority = sortedList[0].priority;\n      var priorityLists = [[]];\n      var pivote = 0;\n\n      for (var index = 0; index < sortedList.length; index++) {\n        var item = sortedList[index];\n\n        if (item.priority === currentPriority) {\n          priorityLists[pivote].push(item);\n        } else {\n          currentPriority = item.priority;\n          priorityLists.push([]);\n          pivote = priorityLists.length - 1;\n          priorityLists[pivote].push(item);\n        }\n      }\n\n      return priorityLists;\n    }\n  }, {\n    key: \"_chainElementLoading\",\n    value: function _chainElementLoading(baseUri, elementPriorityLists, index) {\n      var _this5 = this;\n\n      var currentPromises = [];\n\n      if (elementPriorityLists.length === index) {\n        return Promise.resolve();\n      }\n\n      for (var j = 0; j < elementPriorityLists[index].length; j++) {\n        currentPromises.push(this._importElementPromise(baseUri, elementPriorityLists[index][j].spec.path));\n      }\n\n      var count = index + 1; // OJO!!! Si no creamos variable intermedia / scoped, y hacemos count++, siempre coger el valor inicial.\n\n      return Promise.all(currentPromises).then(function () {\n        return _this5._chainElementLoading(baseUri, elementPriorityLists, count);\n      });\n    }\n  }]);\n\n  return CellsManagerImport;\n}();\n\n/* harmony default export */ var manager_import = (import_CellsManagerImport);\n// CONCATENATED MODULE: ./src/core/component.js\nfunction component_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { component_typeof = function _typeof(obj) { return typeof obj; }; } else { component_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return component_typeof(obj); }\n\nfunction component_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction component_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction component_createClass(Constructor, protoProps, staticProps) { if (protoProps) component_defineProperties(Constructor.prototype, protoProps); if (staticProps) component_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction component_possibleConstructorReturn(self, call) { if (call && (component_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return component_assertThisInitialized(self); }\n\nfunction component_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction component_getPrototypeOf(o) { component_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return component_getPrototypeOf(o); }\n\nfunction component_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) component_setPrototypeOf(subClass, superClass); }\n\nfunction component_setPrototypeOf(o, p) { component_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return component_setPrototypeOf(o, p); }\n\n\n\nvar component_renderEngines = constants.renderEngines;\n\nvar CellsBridgeComponent = /*#__PURE__*/function (_CellsBridgeManagerDo) {\n  component_inherits(CellsBridgeComponent, _CellsBridgeManagerDo);\n\n  /**\n   * Componen type. It could be TYPE_UI, TYPE_DM or TYPE_CC.\n   *\n   * @type {String}\n   */\n  function CellsBridgeComponent(spec) {\n    var _this;\n\n    component_classCallCheck(this, CellsBridgeComponent);\n\n    _this = component_possibleConstructorReturn(this, component_getPrototypeOf(CellsBridgeComponent).call(this)); // @TODO: Por qu almacenar spec en una propiedad y algunas de sus propiedades en otra.\n\n    _this.type = '';\n    _this.spec = null;\n    _this.zone = null;\n    _this.node = null;\n    _this.fixed = null;\n    _this.priority = null;\n    _this.connections = null;\n    _this.spec = spec;\n    _this.type = spec.type;\n    _this.zone = spec.zone;\n    _this.fixed = spec.fixed;\n    _this.priority = spec.priority;\n    _this.node = _this.spec.node ? _this.spec.node : _this.createElement(_this.spec.tagName); // NOT WORKING CellsBridgeComponent\n\n    _this.connections = spec.connections;\n    return _this;\n  }\n\n  component_createClass(CellsBridgeComponent, [{\n    key: \"setProps\",\n    value: function setProps() {\n      var spec = this.spec;\n\n      if (spec.connections && spec.connections.ignoreAttr) {\n        for (var index = 0; index < spec.connections.ignoreAttr.length; index++) {\n          var key = spec.connections.ignoreAttr[index];\n          delete spec.properties[key];\n        }\n      }\n\n      this.setAttrs(this.node, spec.properties);\n    }\n  }, {\n    key: \"isUnresolved\",\n    value: function isUnresolved() {\n      return this.node.tagName.indexOf('-') > -1 && this.node.constructor === HTMLElement;\n    }\n  }, {\n    key: \"isLitElement\",\n    value: function isLitElement() {\n      return this.spec.render && this.spec.render === component_renderEngines.litElement;\n    }\n  }]);\n\n  return CellsBridgeComponent;\n}(dom);\n\n\n// CONCATENATED MODULE: ./src/core/template.js\nfunction template_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { template_typeof = function _typeof(obj) { return typeof obj; }; } else { template_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return template_typeof(obj); }\n\nfunction template_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction template_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction template_createClass(Constructor, protoProps, staticProps) { if (protoProps) template_defineProperties(Constructor.prototype, protoProps); if (staticProps) template_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction template_possibleConstructorReturn(self, call) { if (call && (template_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return template_assertThisInitialized(self); }\n\nfunction template_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction template_getPrototypeOf(o) { template_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return template_getPrototypeOf(o); }\n\nfunction template_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) template_setPrototypeOf(subClass, superClass); }\n\nfunction template_setPrototypeOf(o, p) { template_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return template_setPrototypeOf(o, p); }\n\n\n/**\n * Class for managing templates\n *\n * A template is a component used in Cells apps for managing the components distribution\n *\n * A template has defined zones like app__header or app__main\n * where you can place your components.\n * The property zoneId (in the json page definition file) indicates the zone in wHich the\n * the component is appended.\n *\n * The components added to the template are the template's children. There are two kind of children:\n * the fixed children and the normal children. The normal ones are appended\n * to the asigned zone, the fixed ones are just stored in the fixedChildren property\n * and appended to an especial zone that is fixed.\n *\n * As the class extends from Component it has properties like node which refers to\n * the node the template is attached.\n *\n * The 'state' atributte in the node is used to know the actual state of the template\n * it can be active, cached or inactive.\n */\n\nvar CellsBridgeTemplate = /*#__PURE__*/function (_CellsComponent) {\n  template_inherits(CellsBridgeTemplate, _CellsComponent);\n\n  function CellsBridgeTemplate() {\n    var _getPrototypeOf2;\n\n    var _temp, _this;\n\n    template_classCallCheck(this, CellsBridgeTemplate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return template_possibleConstructorReturn(_this, (_temp = _this = template_possibleConstructorReturn(this, (_getPrototypeOf2 = template_getPrototypeOf(CellsBridgeTemplate)).call.apply(_getPrototypeOf2, [this].concat(args))), _this.children = [], _this.fixedChildren = [], _this.type = 'TEMPLATE', _temp));\n  }\n\n  template_createClass(CellsBridgeTemplate, [{\n    key: \"getZone\",\n\n    /**\n     * returns the zone node in the template identified by the id.\n     *\n     * @param {String} zoneId\n     *\n     * @return {HTMLElement}\n     */\n    value: function getZone(zoneId) {\n      var curTemplate = this.node;\n      var node;\n\n      if (!zoneId) {\n        node = curTemplate;\n      } else if (curTemplate.$ && curTemplate.$[zoneId]) {\n        node = curTemplate.$[zoneId];\n      } else {\n        node = curTemplate.querySelector('#' + zoneId);\n      }\n\n      return node || curTemplate;\n    }\n    /**\n     * sets the attribute cache in the template node to 'cached'\n     * for not loading the template again the next time the template is used\n     */\n\n  }, {\n    key: \"cache\",\n    value: function cache() {\n      this._setAttribute('state', 'cached');\n    }\n    /**\n     * sets the attribute cache in the template node to 'active'\n     * so you can know which of the templates in html is the actual one\n     */\n\n  }, {\n    key: \"activate\",\n    value: function activate() {\n      this._setAttribute('state', 'active');\n    }\n    /**\n     * sets the attribute cache in the template node to 'inactive'\n     * so you can know which of the templates in html are not the actual one\n     */\n\n  }, {\n    key: \"deactivate\",\n    value: function deactivate() {\n      this._setAttribute('state', 'inactive');\n    }\n  }, {\n    key: \"native\",\n    value: function native() {\n      this._setAttribute('state', 'native');\n    }\n  }, {\n    key: \"resetNextNavigation\",\n    value: function resetNextNavigation() {\n      this._getTemplate(this.node)._nextNavigation = undefined;\n    }\n    /**\n     * Set given value to corresponding attribute name of current template.\n     *\n     * @private\n     * @method _setAttribute\n     * @param {String} name  Attribute name.\n     * @param {String} value Attribute value.\n     */\n\n  }, {\n    key: \"_setAttribute\",\n    value: function _setAttribute(name, value) {\n      var template = this._getTemplate(this.node);\n\n      template.setAttribute(name, value);\n    }\n    /**\n     * Returns current template based on node type.\n     * If it's a routable component (page), we retrieve the first child element that matchs with cells-template.\n     * Otherwise, we return directly the node (cells-template).\n     *\n     * @private\n     * @method _getTemplate\n     * @param  {HTMLElement} node Node for template retrieval.\n     * @return {HTMLElement}      Associate template from given node.\n     */\n\n  }, {\n    key: \"_getTemplate\",\n    value: function _getTemplate(node) {\n      var tagName = node.tagName;\n      var isPage = tagName.toLowerCase().endsWith('-page');\n      return isPage ? this._getCellsTemplateFromShadowRootChildNodes(node) : node;\n    }\n    /**\n     * Returns first element from shadowRoot child nodes that matchs 'cells-template'.\n     *\n     * @private\n     * @method _getCellsTemplateFromShadowRootChildNodes\n     * @param  {HTMLElement} node First level component that contains cells-template inside shadowRoot childNodes.\n     * @return {HTMLElement}      Cells template.\n     */\n\n  }, {\n    key: \"_getCellsTemplateFromShadowRootChildNodes\",\n    value: function _getCellsTemplateFromShadowRootChildNodes(node) {\n      return Array.from(node.shadowRoot.childNodes).find(function (el) {\n        return el && el.tagName && el.tagName.toLowerCase().indexOf('cells-template') !== -1;\n      });\n    }\n    /**\n     * recieves one component or a list of them, gets the new ones and append\n     * them as child in the selected zone of the template\n     *\n     * @param {Array}/{Object} components\n     *\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"append\",\n    value: function append(components) {\n      /* istanbul ignore else */\n      if (!components) {\n        return;\n      }\n      /* istanbul ignore else */\n\n\n      if (components.length === undefined) {\n        components = [components];\n      }\n\n      var newContentComponents = components.filter(function (component) {\n        return component.fixed !== true;\n      });\n      var newFixedChildren = components.filter(function (component) {\n        return component.fixed === true;\n      });\n      this.fixedChildren = this.fixedChildren.concat(newFixedChildren);\n      this.children = this.children.concat(components);\n      var zoneCache = [];\n\n      for (var index = 0; index < newContentComponents.length; index++) {\n        var component = newContentComponents[index]; // for backward compatibility with Polymer 1\n\n        component.node.setAttribute('data-select', component.zone); // for the use of slots required by Polymer 2\n\n        component.node.setAttribute('slot', component.zone);\n\n        if (template_typeof(zoneCache[component.zone]) !== 'object') {\n          zoneCache[component.zone] = this.getZone(component.zone);\n        }\n\n        zoneCache[component.zone].appendChild(component.node);\n      }\n    }\n  }, {\n    key: \"config\",\n    value: function config(cellsTemplateConfig) {\n      var name = cellsTemplateConfig.name,\n          _cellsTemplateConfig$ = cellsTemplateConfig.template,\n          templateId = _cellsTemplateConfig$.id,\n          templateName = _cellsTemplateConfig$.name;\n      this.name = name;\n      this.node.id = templateId;\n      this.node.name = templateName;\n      this.setProps();\n    }\n  }]);\n\n  return CellsBridgeTemplate;\n}(CellsBridgeComponent);\n\n\n// CONCATENATED MODULE: ./src/core/manager/template.js\nfunction manager_template_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction manager_template_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction manager_template_createClass(Constructor, protoProps, staticProps) { if (protoProps) manager_template_defineProperties(Constructor.prototype, protoProps); if (staticProps) manager_template_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar template_bindingCodes = constants.bindingCodes,\n    template_externalEventsCodes = constants.externalEventsCodes;\n\nvar template_CellsManagerTemplate = /*#__PURE__*/function () {\n  function CellsManagerTemplate(options) {\n    manager_template_classCallCheck(this, CellsManagerTemplate);\n\n    this.cache = {};\n    this.templates = {};\n    this.selected = '';\n    this.locations = [];\n    this.size = 0;\n    this.fixedTemplates = ['__cross'];\n    var config = options || {};\n    var persistentPages = config.persistentPages || [];\n    this.viewLimit = config.viewLimit && config.viewLimit >= 1 ? config.viewLimit : 3;\n    this.fixedTemplates = this.fixedTemplates.concat(persistentPages);\n    this.maxSize = this.viewLimit + this.fixedTemplates.length;\n  }\n\n  manager_template_createClass(CellsManagerTemplate, [{\n    key: \"create\",\n    value: function create(name, spec) {\n      var isPrerendering = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var template = this.get(name);\n\n      if (!template) {\n        template = this._createFromJSON(name, spec);\n\n        this._storeTemplate(name, template, isPrerendering);\n      }\n\n      return template;\n    }\n    /**\n     * Create Bridge Template based on Polymer component.\n     *\n     * @param  {String}       name    [description]\n     * @param  {HTMLElement}  element [description]\n     * @return {CellsBridgeTemplate}         [description]\n     */\n\n  }, {\n    key: \"createFromComponent\",\n    value: function createFromComponent(name, componentName) {\n      var template = this._createCellsTemplate(name, {\n        tagName: componentName\n      });\n\n      this._storeTemplate(name, template);\n\n      return template;\n    }\n    /**\n     * Register template from existing HTMLElement and stores it on memory.\n     *\n     * @param  {String}               name    Template name.\n     * @param  {HTMLElement}          element Template element (existing DOM element)\n     * @return {CellsBridgeTemplate}          Cells bridge template object.\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(name, element) {\n      var template = this._createFromHTMLElement(name, element);\n\n      this._storeTemplate(name, template);\n\n      return template;\n    }\n    /**\n     * Store given template on memory.\n     *\n     * @param  {String}               name     Template name.\n     * @param  {CellsBridgeTemplate}  template Cells bridge template object.\n     * @paran  {Boolean}              isPrerendering indicate if the page is being pre-rendering\n     */\n\n  }, {\n    key: \"_storeTemplate\",\n    value: function _storeTemplate(name, template, isPrerendering) {\n      var node = template.node;\n\n      if (isPrerendering) {\n        var templateIsNotInFixedTemplates = this.fixedTemplates.indexOf(name) === -1;\n\n        if (templateIsNotInFixedTemplates) {\n          this.fixedTemplates.push(name);\n          this.maxSize++;\n          var cacheRanOutOfSpaceForNotFixedTemplates = this.maxSize === this.fixedTemplates.length;\n\n          if (cacheRanOutOfSpaceForNotFixedTemplates) {\n            this.maxSize += this.viewLimit;\n          }\n        }\n      }\n\n      if (this.size >= this.maxSize) {\n        var olderTemplateToDeallocate = this._getOlderRemovableTemplate();\n\n        if (olderTemplateToDeallocate) {\n          this.removeTemplate(olderTemplateToDeallocate);\n        } else {\n          console.warn('No space left in template cache for template ', name);\n        }\n      }\n\n      this.locations.push(name);\n      this.cache[name] = template;\n      this.templates[name] = node;\n      this.size++;\n    }\n  }, {\n    key: \"_getOlderRemovableTemplate\",\n    value: function _getOlderRemovableTemplate() {\n      var found = false;\n      var olderRemovableTemplate;\n\n      for (var i = 0; !found && i < this.locations.length; i++) {\n        var isNotPersistantPage = this.fixedTemplates.indexOf(this.locations[i]) == -1;\n\n        if (isNotPersistantPage) {\n          olderRemovableTemplate = this.locations[i];\n          found = true;\n        }\n      }\n\n      return olderRemovableTemplate;\n    }\n    /**\n     * Create Bridge Template based on existing HTML Element.\n     *\n     * @param  {String}       name    [description]\n     * @param  {HTMLElement}  element [description]\n     * @return {CellsBridgeTemplate}         [description]\n     */\n\n  }, {\n    key: \"_createFromHTMLElement\",\n    value: function _createFromHTMLElement(name, element) {\n      var template = this._createCellsTemplate(name, {\n        node: element\n      });\n\n      return template;\n    }\n  }, {\n    key: \"_createFromJSON\",\n    value: function _createFromJSON(name, spec) {\n      var template = this._createCellsTemplate(name, spec);\n\n      return template;\n    } // OJO!!!!\n    // Debido a a la jerarqua de clases, esto debera ser implementado por cada manager\n\n  }, {\n    key: \"_createCellsTemplate\",\n    value: function _createCellsTemplate(name, spec) {\n      return new CellsBridgeTemplate(name, spec);\n    }\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      return this.cache[name];\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode(name) {\n      return this.templates[name];\n    }\n  }, {\n    key: \"parseTemplateName\",\n    value: function parseTemplateName(name) {\n      return name;\n    }\n  }, {\n    key: \"parseTemplateId\",\n    value: function parseTemplateId(name) {\n      return 'cells-template-' + name.replace(/\\./g, '-');\n    }\n  }, {\n    key: \"select\",\n    value: function select(name) {\n      var bridgeChannelManager = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      var binding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'always';\n      var TEMPLATE_TRANSITION_END = template_externalEventsCodes.TEMPLATE_TRANSITION_END;\n      var CURRENTVIEW = template_bindingCodes.CURRENTVIEW,\n          UI = template_bindingCodes.UI;\n      var template = this.get(name);\n      var cache = this.cache;\n      var oldPageName;\n\n      for (var tplName in cache) {\n        if (cache.hasOwnProperty(tplName)) {\n          if (tplName === this.selected) {\n            oldPageName = tplName;\n            cache[tplName].deactivate();\n          } else if (name !== tplName) {\n            cache[tplName].cache();\n          }\n        }\n      }\n\n      this.selected = name;\n      template.activate();\n\n      if (bridgeChannelManager && binding !== CURRENTVIEW && binding !== UI) {\n        bridgeChannelManager.updateAppContext(oldPageName, name);\n        bridgeChannelManager.initPrivateChannel(oldPageName, name);\n      }\n\n      manager_events.emit(TEMPLATE_TRANSITION_END, template);\n    }\n    /**\n     *\n     * remove one template by name.\n     * it remove the template from html and from the templates and cache nodes\n     *\n     * @param String templateName the name of the  template to remove\n     */\n\n  }, {\n    key: \"removeTemplate\",\n    value: function removeTemplate(templateName) {\n      if (this.templates[templateName]) {\n        var node = document.querySelector('#' + this.templates[templateName].id);\n        var pos = this.locations.indexOf(templateName);\n        this.locations.splice(pos, 1);\n        node.parentNode.removeChild(node);\n        delete this.templates[templateName];\n        delete this.cache[templateName];\n        this.size--;\n      }\n    }\n    /**\n     *\n     * remove all templates except initial one and cross component one.\n     *\n     * @param String initialTemplate the name of the initial template\n     * @param String crossContainerId the name of the cross component template\n     */\n\n  }, {\n    key: \"removeTemplates\",\n    value: function removeTemplates(initialTemplate, crossContainerId) {\n      for (var templateName in this.templates) {\n        if (this.templates.hasOwnProperty(templateName)) {\n          if (templateName !== initialTemplate && templateName !== crossContainerId) {\n            this.removeTemplate(templateName);\n          }\n        }\n      }\n    }\n    /**\n     *\n     * remove all children of a template,\n     * it is used, for example, for clear cross component template.\n     *\n     * @param String templateName the name of the  template\n     */\n\n  }, {\n    key: \"removeTemplateChildrens\",\n    value: function removeTemplateChildrens(templateName) {\n      var template = this.templates[templateName];\n\n      if (template && template.children) {\n        for (var i = template.children.length - 1; i >= 0; i--) {\n          template.removeChild(template.children[i]);\n        }\n      }\n    }\n  }]);\n\n  return CellsManagerTemplate;\n}();\n\n/* harmony default export */ var manager_template = (template_CellsManagerTemplate);\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/EmptyError.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar EmptyErrorImpl = /*@__PURE__*/ (function () {\n    function EmptyErrorImpl() {\n        Error.call(this);\n        this.message = 'no elements in sequence';\n        this.name = 'EmptyError';\n        return this;\n    }\n    EmptyErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return EmptyErrorImpl;\n})();\nvar EmptyError = EmptyErrorImpl;\n//# sourceMappingURL=EmptyError.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js\n/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ArgumentOutOfRangeErrorImpl = /*@__PURE__*/ (function () {\n    function ArgumentOutOfRangeErrorImpl() {\n        Error.call(this);\n        this.message = 'argument out of range';\n        this.name = 'ArgumentOutOfRangeError';\n        return this;\n    }\n    ArgumentOutOfRangeErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ArgumentOutOfRangeErrorImpl;\n})();\nvar ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/take.js\n/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */\n\n\n\n\nfunction take(count) {\n    return function (source) {\n        if (count === 0) {\n            return empty_empty();\n        }\n        else {\n            return source.lift(new take_TakeOperator(count));\n        }\n    };\n}\nvar take_TakeOperator = /*@__PURE__*/ (function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new take_TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\nvar take_TakeSubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        var count = ++this.count;\n        if (count <= total) {\n            this.destination.next(value);\n            if (count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber_Subscriber));\n//# sourceMappingURL=take.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js\n/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\n\n\nfunction defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) {\n        defaultValue = null;\n    }\n    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };\n}\nvar DefaultIfEmptyOperator = /*@__PURE__*/ (function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new defaultIfEmpty_DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n    return DefaultIfEmptyOperator;\n}());\nvar defaultIfEmpty_DefaultIfEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(DefaultIfEmptySubscriber, _super);\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n        var _this = _super.call(this, destination) || this;\n        _this.defaultValue = defaultValue;\n        _this.isEmpty = true;\n        return _this;\n    }\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    };\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    };\n    return DefaultIfEmptySubscriber;\n}(Subscriber_Subscriber));\n//# sourceMappingURL=defaultIfEmpty.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js\n/** PURE_IMPORTS_START tslib,_util_EmptyError,_Subscriber PURE_IMPORTS_END */\n\n\n\nfunction throwIfEmpty(errorFactory) {\n    if (errorFactory === void 0) {\n        errorFactory = defaultErrorFactory;\n    }\n    return function (source) {\n        return source.lift(new ThrowIfEmptyOperator(errorFactory));\n    };\n}\nvar ThrowIfEmptyOperator = /*@__PURE__*/ (function () {\n    function ThrowIfEmptyOperator(errorFactory) {\n        this.errorFactory = errorFactory;\n    }\n    ThrowIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new throwIfEmpty_ThrowIfEmptySubscriber(subscriber, this.errorFactory));\n    };\n    return ThrowIfEmptyOperator;\n}());\nvar throwIfEmpty_ThrowIfEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    __extends(ThrowIfEmptySubscriber, _super);\n    function ThrowIfEmptySubscriber(destination, errorFactory) {\n        var _this = _super.call(this, destination) || this;\n        _this.errorFactory = errorFactory;\n        _this.hasValue = false;\n        return _this;\n    }\n    ThrowIfEmptySubscriber.prototype._next = function (value) {\n        this.hasValue = true;\n        this.destination.next(value);\n    };\n    ThrowIfEmptySubscriber.prototype._complete = function () {\n        if (!this.hasValue) {\n            var err = void 0;\n            try {\n                err = this.errorFactory();\n            }\n            catch (e) {\n                err = e;\n            }\n            this.destination.error(err);\n        }\n        else {\n            return this.destination.complete();\n        }\n    };\n    return ThrowIfEmptySubscriber;\n}(Subscriber_Subscriber));\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map\n\n// CONCATENATED MODULE: ./node_modules/rxjs/_esm5/internal/operators/first.js\n/** PURE_IMPORTS_START _util_EmptyError,_filter,_take,_defaultIfEmpty,_throwIfEmpty,_util_identity PURE_IMPORTS_END */\n\n\n\n\n\n\nfunction first(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) { return source.pipe(predicate ? filter(function (v, i) { return predicate(v, i, source); }) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () { return new EmptyError(); })); };\n}\n//# sourceMappingURL=first.js.map\n\n// CONCATENATED MODULE: ./src/core/manager/bridge-channels.js\nfunction bridge_channels_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction bridge_channels_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction bridge_channels_createClass(Constructor, protoProps, staticProps) { if (protoProps) bridge_channels_defineProperties(Constructor.prototype, protoProps); if (staticProps) bridge_channels_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar bridge_channels_BridgeChannelManager = /*#__PURE__*/function () {\n  function BridgeChannelManager(bridge) {\n    bridge_channels_classCallCheck(this, BridgeChannelManager);\n\n    this.componentConnector = bridge.ComponentConnector;\n    this.privateChannels = new Set();\n  }\n  /**\n   * Returns the name of the application context channel.\n   */\n\n\n  bridge_channels_createClass(BridgeChannelManager, [{\n    key: \"getAppContextChannelName\",\n    value: function getAppContextChannelName() {\n      return '__bridge_app';\n    }\n    /**\n     * Returns the name of the channels that has cancelations of back navigations.\n     */\n\n  }, {\n    key: \"getCancelledBackNavigationChannelName\",\n    value: function getCancelledBackNavigationChannelName() {\n      return '__bridge_cancelled_back_navigation';\n    }\n    /**\n     * Returns the prefix for private channels.\n     */\n\n  }, {\n    key: \"getPrivateChannelPrefix\",\n    value: function getPrivateChannelPrefix() {\n      return '__bridge_page_';\n    }\n    /**\n     * Returns the prefix for event channels.\n     */\n\n  }, {\n    key: \"getEventChannelPrefix\",\n    value: function getEventChannelPrefix() {\n      return '__bridge_evt_';\n    }\n    /**\n     * Returns the prefix for generic channels.\n     */\n\n  }, {\n    key: \"getBridgeChannelPrefix\",\n    value: function getBridgeChannelPrefix() {\n      return '__bridge_ch_';\n    }\n    /**\n     * Returns the prefix for generic channels.\n     */\n\n  }, {\n    key: \"getPostMessageChannelPrefix\",\n    value: function getPostMessageChannelPrefix() {\n      return '__bridge_post_message_';\n    }\n    /**\n     * Gets a channel that is for exclusive use of the bridge.\n     * If the channel doesn't exist, it creates one channel with.\n     *\n     * @param name of the channel to retrieve/create\n     *\n     * @return {Channel}\n     *\n     */\n\n  }, {\n    key: \"getBridgeChannel\",\n    value: function getBridgeChannel(channelName) {\n      return this.componentConnector.manager.get(this.getBridgeChannelPrefix() + channelName);\n    }\n  }, {\n    key: \"getIdleCallbackChannel\",\n    value: function getIdleCallbackChannel() {\n      var iddleChannel$ = Observable_Observable.create(function (observer) {\n        return observer.next(true);\n      });\n      return iddleChannel$.pipe(first());\n    }\n    /**\n     * Gets the application context channel.\n     *\n     * @return {Channel}\n     */\n\n  }, {\n    key: \"getAppContextChannel\",\n    value: function getAppContextChannel() {\n      return this.componentConnector.manager.get(this.getAppContextChannelName());\n    }\n    /**\n     * Gets the cancelled back navigations channel.\n     *\n     * @return {Channel}\n     */\n\n  }, {\n    key: \"getCancelledBackNavigationChannel\",\n    value: function getCancelledBackNavigationChannel() {\n      return this.componentConnector.manager.get(this.getCancelledBackNavigationChannelName());\n    }\n    /**\n     * Gets the private channel that corresponds to a page.\n     *\n     * @param  {String} pageName\n     *\n     * @return {Channel}\n     */\n\n  }, {\n    key: \"getPrivate\",\n    value: function getPrivate(pageName) {\n      var newName = this.getPrivateChannelPrefix() + pageName;\n      var channel = this.componentConnector.manager.get(newName);\n      this.privateChannels.add(newName);\n      return channel;\n    }\n  }, {\n    key: \"getPostMessageChannel\",\n    value: function getPostMessageChannel(eventName) {\n      var newName = this.getPostMessageChannelPrefix() + eventName;\n      return this.componentConnector.manager.get(newName);\n    }\n    /**\n     * Creates and initializes the application context channel.\n     *\n     */\n\n  }, {\n    key: \"initAppContextChannel\",\n    value: function initAppContextChannel() {\n      this.getAppContextChannel();\n    }\n    /**\n     * Creates and initializes the cancelled back navigation channel.\n     *\n     */\n\n  }, {\n    key: \"initCancelledBackNavigationChannel\",\n    value: function initCancelledBackNavigationChannel() {\n      this.getCancelledBackNavigationChannel();\n    }\n    /**\n     * Initializes the private chanel for the given page.\n     *\n     * @param {String} pageName\n     *\n     */\n\n  }, {\n    key: \"initPrivateChannel\",\n    value: function initPrivateChannel(oldPageName, newPageName) {\n      this.publishPrivatePageStatus(newPageName, true);\n\n      if (oldPageName) {\n        this.publishPrivatePageStatus(oldPageName, false);\n      }\n    }\n    /**\n     * Publish the status of a page in its private channel\n     *\n     * @param {String} pageName\n     * @param {Boolean} status is true if the page is active, and false if it is inactive\n     */\n\n  }, {\n    key: \"publishPrivatePageStatus\",\n    value: function publishPrivatePageStatus(pageName, status) {\n      var channel = this.getPrivate(pageName);\n      var evt = this.componentConnector.createEvent('page-load', status);\n      channel.next(evt);\n    }\n    /**\n     * Updates the application context.\n     * Puts in context the information of the current page and previous active page.\n     *\n     * @param {String} oldPage was the previous current page\n     * @param {String} newPage is the page that becomes the current page\n     *\n     */\n\n  }, {\n    key: \"updateAppContext\",\n    value: function updateAppContext(oldPage, newPage) {\n      var evt = this.componentConnector.createEvent('app-context', {\n        currentPage: newPage,\n        fromPage: oldPage\n      });\n      this.getAppContextChannel().next(evt);\n    }\n  }, {\n    key: \"publishCancelledBackNavigation\",\n    value: function publishCancelledBackNavigation(navigation) {\n      var evt = this.componentConnector.createEvent('back-nav-cancelled', navigation);\n      this.getCancelledBackNavigationChannel().next(evt);\n    }\n    /**\n     * returns true if the given name matches a private channel's name\n     *\n     * @param {String} name\n     *\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isPrivateChannel\",\n    value: function isPrivateChannel(name) {\n      return name.indexOf(this.getPrivateChannelPrefix()) === 0;\n    }\n    /**\n     * returns true if there's a private channel with the given name\n     *\n     * @param {String} name\n     *\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isActivePrivateChannel\",\n    value: function isActivePrivateChannel(name) {\n      return this.privateChannels.has(name);\n    }\n    /**\n     * resets all channels, including the private channels.\n     * It removes all observers and publications.\n     *\n     */\n\n  }, {\n    key: \"resetBridgeChannels\",\n    value: function resetBridgeChannels(mainNode, cleanPrivateChannels) {\n      var bridgeChannels = Object.keys(this.componentConnector.manager.channels);\n      bridgeChannels.forEach(function (chnlName) {\n        var chnl = this.componentConnector.manager.get(chnlName);\n        chnl.clean();\n        chnl.unsubscribeAll();\n      }.bind(this));\n      this.componentConnector.unregister(mainNode, cleanPrivateChannels);\n      this.componentConnector.unregisterAllSubscriptors(cleanPrivateChannels);\n      this.componentConnector.manager.cleanAllChannels();\n    }\n  }, {\n    key: \"initEventChannels\",\n    value: function initEventChannels(node, externalEvents) {\n      externalEvents.forEach(function (eventName) {\n        var prefix = this.getEventChannelPrefix();\n        var channelName = prefix + eventName;\n        var channel = this.componentConnector.manager.get(channelName);\n        var source = fromEvent(node, eventName);\n        source.subscribe(function (event) {\n          channel.next(event);\n        });\n      }.bind(this));\n    }\n  }, {\n    key: \"subscribeToEvent\",\n    value: function subscribeToEvent(node, eventName, callback) {\n      var prefix = this.getEventChannelPrefix();\n      var channelName = prefix + eventName;\n      var subscriptor = this.componentConnector.getSubscriptor(node);\n      var channel = this.componentConnector.manager.get(channelName);\n      callback.node = node;\n      subscriptor.subscribe(channel, callback);\n    }\n  }]);\n\n  return BridgeChannelManager;\n}();\n/**\n * BridgeChannelManager definition\n */\n\n\n/* harmony default export */ var bridge_channels = (bridge_channels_BridgeChannelManager);\n// CONCATENATED MODULE: ./src/core/manager/action-channels.js\nfunction action_channels_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction action_channels_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction action_channels_createClass(Constructor, protoProps, staticProps) { if (protoProps) action_channels_defineProperties(Constructor.prototype, protoProps); if (staticProps) action_channels_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar action_channels_externalEventsCodes = constants.externalEventsCodes;\n/**\n * Class to define core private channels behavior\n */\n\nvar action_channels_ActionChannelManager = /*#__PURE__*/function () {\n  function ActionChannelManager(bridge) {\n    action_channels_classCallCheck(this, ActionChannelManager);\n\n    this.bridge = bridge;\n    this.PageManager = bridge.PageManager;\n    this.ChannelManager = bridge.BridgeChannelManager;\n    this.TemplateManager = bridge.TemplateManager;\n  }\n\n  action_channels_createClass(ActionChannelManager, [{\n    key: \"subscribeAll\",\n    value: function subscribeAll() {\n      var _this = this;\n\n      this.ChannelManager.getBridgeChannel('config').subscribe(function (evt) {\n        return _this._configSubscriptor(evt);\n      });\n      this.ChannelManager.getBridgeChannel('locales').subscribe(function (evt) {\n        return _this._localesSubscriptor(evt);\n      });\n      this.ChannelManager.getBridgeChannel('logout').subscribe(function (evt) {\n        return _this._logoutSubscriptor(evt);\n      });\n    }\n  }, {\n    key: \"_isAllowedProperty\",\n    value: function _isAllowedProperty(prop) {\n      return typeof this.bridge[prop] !== 'function';\n    }\n  }, {\n    key: \"_configSubscriptor\",\n    value: function _configSubscriptor(evt) {\n      var _this2 = this;\n\n      var TEMPLATE_REGISTERED = action_channels_externalEventsCodes.TEMPLATE_REGISTERED;\n      var selected = this.TemplateManager.selected;\n\n      if (evt.detail) {\n        for (var prop in evt.detail) {\n          if (evt.detail.hasOwnProperty(prop)) {\n            if (this._isAllowedProperty(prop)) {\n              this.bridge[prop] = evt.detail[prop];\n            }\n          }\n        }\n\n        if (evt.detail.app || evt.detail.pagesPath) {\n          this.PageManager.clear();\n          this.TemplateManager.removeTemplates(selected, this.bridge.crossContainerId);\n          manager_events.once(TEMPLATE_REGISTERED, function () {\n            return _this2.TemplateManager.removeTemplate(selected);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_localesSubscriptor\",\n    value: function _localesSubscriptor(evt) {\n      if (window.I18nMsg && evt.detail && evt.detail.lang) {\n        window.I18nMsg.lang = evt.detail.lang;\n      }\n    }\n  }, {\n    key: \"_logoutSubscriptor\",\n    value: function _logoutSubscriptor() {\n      this.bridge.logout();\n      this.subscribeAll();\n    }\n  }]);\n\n  return ActionChannelManager;\n}();\n\n/* harmony default export */ var action_channels = (action_channels_ActionChannelManager);\n// CONCATENATED MODULE: ./src/core/composer/composer-engine-proxy.js\nfunction composer_engine_proxy_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction composer_engine_proxy_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction composer_engine_proxy_createClass(Constructor, protoProps, staticProps) { if (protoProps) composer_engine_proxy_defineProperties(Constructor.prototype, protoProps); if (staticProps) composer_engine_proxy_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ComposerEngineProxy = /*#__PURE__*/function () {\n  /**\n   * Creates an instance of ComposerPageBuilder.\n    * @param {ComponentConnector} componentConnector\n   */\n  function ComposerEngineProxy(componentConnector, composerEngine) {\n    composer_engine_proxy_classCallCheck(this, ComposerEngineProxy);\n\n    this.componentConnector = componentConnector;\n    this.composerEngine = composerEngine;\n    this.segments = [];\n    this.customGroups = [];\n    this.normalizedCustomGroups = [];\n  }\n  /**\n   * Initializes the composerEngine setting the initial parameters\n   * and subscribing to the channel that will receive the parameters.\n   *\n   * @param {Object} initialParams has this structure:\n   *  {\n   *    segments: [ segmentId1, segmentId2, ..., segmentIdN],\n   *    customGroups: [ {name: n1, value: v1}, ..., {name: n2, value: v2}]\n   *  }\n   *\n   */\n\n\n  composer_engine_proxy_createClass(ComposerEngineProxy, [{\n    key: \"init\",\n    value: function init(initialParams) {\n      var _this = this;\n\n      this.initialParams = initialParams || {};\n      this.addParams(this.initialParams);\n      this.componentConnector.get(this.getComposerEngineChannelName()).subscribe(function (evt) {\n        return _this.handleFeatureFlags(evt);\n      });\n    }\n    /**\n     * @returns {String} the name of the channel used to pass the parameters to the composerEngine\n     */\n\n  }, {\n    key: \"getComposerEngineChannelName\",\n    value: function getComposerEngineChannelName() {\n      return '__composer_engine';\n    }\n    /**\n     * It processes the new parameters that are placed in the composerEngine's channel\n     *\n     * @param {Event} evt\n     */\n\n  }, {\n    key: \"handleFeatureFlags\",\n    value: function handleFeatureFlags(evt) {\n      var params = evt.detail;\n      this.addParams(params);\n    }\n    /**\n     * Adds parameters to use with composerEngine\n     *\n     * @param {Object} params has this structure:\n     * {\n     *  segments: [ segmentId1, segmentId2, ..., segmentIdN],\n     *  customGroups: [ {name: n1, value: v1}, ..., {name: n2, value: v2}]\n     * }\n     */\n\n  }, {\n    key: \"addParams\",\n    value: function addParams(params) {\n      this.addSegments(params.segments);\n      this.addCustomGroups(params.customGroups);\n    }\n    /**\n     * Adds the segment ids passed in segmentList.\n     * It only adds the new segments.\n     *\n     * @param {Array<String>} segmentList\n     */\n\n  }, {\n    key: \"addSegments\",\n    value: function addSegments(segmentList) {\n      var _this2 = this;\n\n      if (segmentList) {\n        segmentList.forEach(function (segmentId) {\n          if (_this2.segments.indexOf(segmentId) === -1) {\n            _this2.segments.push(segmentId);\n          }\n        });\n      }\n    }\n    /**\n     * Adds the custom groups passed in customGroupList\n     * It only adds the new groups.\n     *\n     * @param {Array<{name, value}>} customGroupList\n     */\n\n  }, {\n    key: \"addCustomGroups\",\n    value: function addCustomGroups(customGroupList) {\n      var _this3 = this;\n\n      if (customGroupList) {\n        customGroupList.forEach(function (aCustomGroup) {\n          var existingGroup = _this3.customGroups.find(function (element) {\n            return element.name === aCustomGroup.name;\n          });\n\n          if (!existingGroup) {\n            _this3.customGroups.push(aCustomGroup);\n          } else {\n            if (!existingGroup.isConstant) {\n              existingGroup.value = aCustomGroup.value;\n            }\n          }\n        });\n      }\n\n      this.normalizedCustomGroups = this.normalizeCustomGroups(this.customGroups);\n    }\n    /**\n     * It converts the key/value pair of a customGroup into a String with the format\n     * used by Composer Engine\n     *\n     * @param {Array<{name, value}>} customGroups\n     * @returns\n     */\n\n  }, {\n    key: \"normalizeCustomGroups\",\n    value: function normalizeCustomGroups(customGroups) {\n      var _this4 = this;\n\n      return customGroups.map(function (group) {\n        return _this4.composerEngine.customGroup(group.name, JSON.stringify(group.value));\n      });\n    }\n    /**\n     * It gets the page using the feature flag parameters\n     *\n     * @param {String} pageName\n     */\n\n  }, {\n    key: \"getPage\",\n    value: function getPage(pageName) {\n      return this.composerEngine.getPageForAll(pageName, this.segments, this.normalizedCustomGroups);\n    }\n    /**\n     * Clears all parameters and sets the initial ones.\n     *\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.segments = [];\n      this.customGroups = [];\n      this.init(this.initialParams);\n    }\n  }]);\n\n  return ComposerEngineProxy;\n}();\n\n/* harmony default export */ var composer_engine_proxy = (ComposerEngineProxy);\n// EXTERNAL MODULE: ./node_modules/cells-semaas-adapter/dist/cells-semaas-adapter.js\nvar cells_semaas_adapter = __webpack_require__(4);\nvar cells_semaas_adapter_default = /*#__PURE__*/__webpack_require__.n(cells_semaas_adapter);\n\n// EXTERNAL MODULE: ./node_modules/es5-dot-prop/index.js\nvar es5_dot_prop = __webpack_require__(1);\nvar es5_dot_prop_default = /*#__PURE__*/__webpack_require__.n(es5_dot_prop);\n\n// CONCATENATED MODULE: ./src/core/monitoring.js\nfunction monitoring_extends() { monitoring_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return monitoring_extends.apply(this, arguments); }\n\nfunction monitoring_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction monitoring_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction monitoring_createClass(Constructor, protoProps, staticProps) { if (protoProps) monitoring_defineProperties(Constructor.prototype, protoProps); if (staticProps) monitoring_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar get = es5_dot_prop_default.a.get,\n    set = es5_dot_prop_default.a.set;\nvar _Constants$monitoring = constants.monitoring.SEMAAS,\n    monitoring_mrId = _Constants$monitoring.mrId,\n    monitoring_nameSpace = _Constants$monitoring.nameSpace,\n    identifier = _Constants$monitoring.identifier,\n    consumerId = _Constants$monitoring.consumerId,\n    policy = _Constants$monitoring.policy,\n    monitoring_externalEventsCodes = constants.externalEventsCodes; // const flattenObject = (object, separator = '=', join = ', ') => Object.keys(object).map(key => `${key}${separator}${object[key]}`).join(join);\n\nvar monitoring_PAGE_READY = monitoring_externalEventsCodes.PAGE_READY,\n    monitoring_PARSE_ROUTE = monitoring_externalEventsCodes.PARSE_ROUTE,\n    monitoring_AFTER_PUBLISH = monitoring_externalEventsCodes.AFTER_PUBLISH,\n    monitoring_NAV_REQUEST = monitoring_externalEventsCodes.NAV_REQUEST,\n    monitoring_BEFORE_SET_ATTR_TO_NODE = monitoring_externalEventsCodes.BEFORE_SET_ATTR_TO_NODE,\n    monitoring_AFTER_SET_ATTR_TO_NODE = monitoring_externalEventsCodes.AFTER_SET_ATTR_TO_NODE,\n    monitoring_BEFORE_CREATE_NODE = monitoring_externalEventsCodes.BEFORE_CREATE_NODE,\n    monitoring_AFTER_CREATE_NODE = monitoring_externalEventsCodes.AFTER_CREATE_NODE,\n    monitoring_BEFORE_IMPORT = monitoring_externalEventsCodes.BEFORE_IMPORT,\n    monitoring_AFTER_IMPORT = monitoring_externalEventsCodes.AFTER_IMPORT,\n    monitoring_PAGE_REQUEST = monitoring_externalEventsCodes.PAGE_REQUEST,\n    monitoring_PAGE_RESPONSE = monitoring_externalEventsCodes.PAGE_RESPONSE,\n    monitoring_DATA_LOAD = monitoring_externalEventsCodes.DATA_LOAD,\n    monitoring_TEMPLATE_TRANSITION_END = monitoring_externalEventsCodes.TEMPLATE_TRANSITION_END,\n    monitoring_TRACK_EVENT = monitoring_externalEventsCodes.TRACK_EVENT,\n    monitoring_TEMPLATE_REGISTERED = monitoring_externalEventsCodes.TEMPLATE_REGISTERED,\n    monitoring_ROUTER_BACKSTEP = monitoring_externalEventsCodes.ROUTER_BACKSTEP,\n    monitoring_LOG_EVENT = monitoring_externalEventsCodes.LOG_EVENT;\n\nvar monitoring_Monitoring = /*#__PURE__*/function () {\n  function Monitoring(bridge) {\n    monitoring_classCallCheck(this, Monitoring);\n\n    this.bridge = null;\n    this.application = null;\n    var _bridge$semaas = bridge.semaas,\n        semaas = _bridge$semaas === void 0 ? {} : _bridge$semaas,\n        logs = bridge.logs;\n\n    if (logs) {\n      var monitorArchitecture = false; // Boolean(semaas && semaas.architecture);\n\n      var applicationSemaasConfiguration = this.getApplicationConfiguration(semaas);\n      this.application = this.initilizeSEMaaSAdapter(applicationSemaasConfiguration);\n\n      if (monitorArchitecture) {\n        var bridgeSemaasConfiguration = this.getBridgeConfiguration(semaas);\n        this.bridge = this.initilizeSEMaaSAdapter(bridgeSemaasConfiguration);\n      }\n    }\n  }\n\n  monitoring_createClass(Monitoring, [{\n    key: \"getBridgeConfiguration\",\n    value: function getBridgeConfiguration(semaasConfiguration) {\n      var tsec2JWTEndpoint = semaasConfiguration.tsec2JWTEndpoint,\n          region = semaasConfiguration.region,\n          dnsTld = semaasConfiguration.dnsTld,\n          version = semaasConfiguration.version;\n      return {\n        policy: policy,\n        // bridge constant\n        mrId: monitoring_mrId,\n        // bridge constant\n        nameSpace: monitoring_nameSpace,\n        // bridge constant\n        identifier: identifier,\n        // bridge constant\n        consumerId: consumerId,\n        // bridge constant\n        tsec2JWTEndpoint: tsec2JWTEndpoint,\n        // configuration object,\n        region: region,\n        // configuration object\n        dnsTld: dnsTld,\n        // configuration object\n        version: version // configuration object\n\n      };\n    }\n  }, {\n    key: \"getApplicationConfiguration\",\n    value: function getApplicationConfiguration(semaasConfiguration) {\n      var tsec2JWTEndpoint = semaasConfiguration.tsec2JWTEndpoint,\n          policy = semaasConfiguration.policy,\n          mrId = semaasConfiguration.mrId,\n          nameSpace = semaasConfiguration.nameSpace,\n          consumerId = semaasConfiguration.consumerId,\n          region = semaasConfiguration.region,\n          dnsTld = semaasConfiguration.dnsTld,\n          version = semaasConfiguration.version;\n      return {\n        policy: policy,\n        // configuration object\n        mrId: mrId,\n        // configuration object\n        nameSpace: nameSpace,\n        // configuration object\n        identifier: 'application',\n        // application constant\n        consumerId: consumerId,\n        // configuration object\n        tsec2JWTEndpoint: tsec2JWTEndpoint,\n        // configuration object\n        region: region,\n        // configuration object\n        dnsTld: dnsTld,\n        // configuration object\n        version: version // configuration object\n\n      };\n    }\n  }, {\n    key: \"initilizeSEMaaSAdapter\",\n    value: function initilizeSEMaaSAdapter(configuration) {\n      return new cells_semaas_adapter_default.a(configuration);\n    }\n  }, {\n    key: \"logBridge\",\n    value: function logBridge(log) {\n      this.bridge.log(log);\n    }\n  }, {\n    key: \"logApplication\",\n    value: function logApplication(log) {\n      this.application.log(log);\n    }\n  }, {\n    key: \"ingest\",\n    value: function ingest(spans) {\n      this.application.ingest(spans);\n    }\n  }, {\n    key: \"createSpan\",\n    value: function createSpan(data) {\n      return this.application && this.application.createSpan(data);\n    }\n  }, {\n    key: \"createUUID\",\n    value: function createUUID() {\n      return this.application && this.application.createUUID();\n    }\n  }, {\n    key: \"hasBridgeLoggingEnabled\",\n    value: function hasBridgeLoggingEnabled() {\n      return !!this.bridge;\n    }\n  }, {\n    key: \"hasApplicationLoggingEnabled\",\n    value: function hasApplicationLoggingEnabled() {\n      return !!this.application;\n    }\n  }, {\n    key: \"buildLog\",\n    value: function buildLog(eventName, data) {\n      var detail = data.detail;\n      var DEFAULT_LOG = {\n        message: \"cells-bridge::\".concat(eventName),\n        properties: {}\n      };\n\n      var log = monitoring_extends({}, detail, DEFAULT_LOG);\n\n      switch (eventName) {\n        case monitoring_PAGE_READY:\n          {\n            var page = data.page,\n                components = data.components;\n            log.properties = {\n              page: page,\n              components: components\n            };\n            break;\n          }\n\n        case monitoring_PARSE_ROUTE:\n          {\n            var name = data.name,\n                params = data.params,\n                pattern = data.pattern; //const normalizedParams = flattenObject(params);\n\n            log.properties = {\n              route: name,\n              //params: normalizedParams,\n              params: params,\n              pattern: pattern\n            };\n            break;\n          }\n\n        case monitoring_NAV_REQUEST:\n          {\n            var event = data.event,\n                _detail = data.detail;\n            var _page = _detail.page;\n            var _params = event.detail; //const normalizedParams = flattenObject(params);\n            //trace.description = `Page: ${page}, params: ${normalizedParams}`;\n\n            log.properties = {\n              page: _page,\n              params: _params\n            };\n            break;\n          }\n\n        case monitoring_PAGE_REQUEST:\n          {\n            var _params2 = data.params,\n                url = data.url;\n            log.properties = {\n              params: _params2,\n              url: url\n            };\n            break;\n          }\n\n        case monitoring_PAGE_RESPONSE:\n          {\n            log.properties = monitoring_extends({}, data);\n            break;\n          }\n        // Special case.\n        // We canalize the log message through the rest of bridge events - as we need to deflate data from channels\n\n        case monitoring_LOG_EVENT:\n          {\n            var _detail2 = data.detail,\n                _event = data.event;\n            var message = _detail2.message,\n                properties = _detail2.properties;\n            var eventDetail = _event.detail;\n            log.message = message;\n            log.properties = this.unflattenData(properties, eventDetail); // unflatten(properties, event)\n\n            break;\n          }\n\n        case monitoring_AFTER_PUBLISH:\n        case monitoring_BEFORE_SET_ATTR_TO_NODE:\n        case monitoring_AFTER_SET_ATTR_TO_NODE:\n        case monitoring_BEFORE_CREATE_NODE:\n        case monitoring_AFTER_CREATE_NODE:\n        case monitoring_BEFORE_IMPORT:\n        case monitoring_AFTER_IMPORT:\n        case monitoring_DATA_LOAD:\n        case monitoring_TEMPLATE_TRANSITION_END:\n        case monitoring_TRACK_EVENT:\n        case monitoring_TEMPLATE_REGISTERED:\n        case monitoring_ROUTER_BACKSTEP:\n          break;\n      }\n\n      return log;\n    }\n  }, {\n    key: \"isBridgeLoggableEvent\",\n    value: function isBridgeLoggableEvent(eventName) {\n      var LOGGABLE_EVENTS = [monitoring_PAGE_READY, monitoring_PARSE_ROUTE, monitoring_NAV_REQUEST, monitoring_PAGE_REQUEST, monitoring_PAGE_RESPONSE];\n      return LOGGABLE_EVENTS.includes(eventName);\n    }\n  }, {\n    key: \"unflattenData\",\n    value: function unflattenData(properties, values) {\n      var result = {};\n      Object.keys(properties).forEach(function (key) {\n        var property = properties[key];\n        var value = null;\n\n        if (property instanceof Object) {\n          var valuePath = property.bind;\n          value = get(values, valuePath);\n        } else {\n          value = property;\n        }\n\n        set(result, key, value);\n      });\n      return result;\n    }\n  }]);\n\n  return Monitoring;\n}();\n\n\n// CONCATENATED MODULE: ./src/core/featureflag/feature-flag-component.js\nfunction feature_flag_component_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction feature_flag_component_extends() { feature_flag_component_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return feature_flag_component_extends.apply(this, arguments); }\n\n\nfunction defaultChangedCallback(fn) {\n  if (typeof fn === 'function') {\n    _defaultCallbackElement = fn;\n  }\n}\nfunction extend(cellsComponent, bridge) {\n  var extraConnections = _defaultConnections();\n\n  var spec = cellsComponent.spec;\n  var nodeFFCallback = cellsComponent.node[BRIDGE_BIND_KEY] || _defaultCallbackElement;\n  Object.defineProperty(cellsComponent.node, BRIDGE_BIND_KEY, {\n    value: function value() {\n      return _nodeFFCallbackWrap(cellsComponent, bridge, nodeFFCallback);\n    }\n  }); // update connections with new connection of FeatureFlag\n\n  if (spec.connections && spec.connections[\"in\"]) {\n    feature_flag_component_extends(spec.connections[\"in\"], extraConnections[\"in\"]);\n  } else if (spec.connections) {\n    feature_flag_component_extends(spec.connections, extraConnections);\n  } else {\n    spec.connections = extraConnections;\n  } // set last value in collection. These is used in \"ComponentConnector\" when publish in output channel from events\n\n\n  lastValue.set(cellsComponent.node, cellsComponent.node[BRIDGE_BIND_KEY]());\n  return cellsComponent;\n}\n/* harmony default export */ var feature_flag_component = ({\n  extend: extend,\n  defaultChangedCallback: defaultChangedCallback,\n  BRIDGE_CHANNEL_KEY: BRIDGE_CHANNEL_KEY\n}); // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n// . . . . .. . . . . .. . . . .Private. . . . .. . . . .  . . . . . . .\n// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n\nvar _defaultCallbackElement = _nodeFFCalback_toggleVisibility;\n\nfunction _defaultConnections() {\n  return {\n    \"in\": feature_flag_component_defineProperty({}, BRIDGE_CHANNEL_KEY, {\n      bind: BRIDGE_BIND_KEY\n    })\n  };\n}\n\n;\n\nfunction _nodeFFCalback_toggleVisibility(fFValue, cellsComponent) {\n  cellsComponent.node.style.visibility = fFValue ? 'initial' : 'hidden';\n  return !!fFValue;\n}\n\nfunction _nodeFFCallbackWrap(cellsComponent, _ref, fFCallback) {\n  var featureFlagCollection = _ref.featureFlagCollection,\n      ComponentConnector = _ref.ComponentConnector;\n\n  var _ffValue = featureFlagCollection.value(cellsComponent.spec.featureFlag);\n\n  var _ffValueResult = fFCallback.call(cellsComponent.node, _ffValue, cellsComponent) === false ? false : true;\n\n  var _connections = cellsComponent.spec.connections;\n\n  if (_ffValueResult) {\n    ComponentConnector._updateInConnections(cellsComponent.node, _connections[\"in\"]);\n  } else if (ComponentConnector.subscriptors.has(cellsComponent.node)) {\n    var inConnections = Object.keys(_connections[\"in\"]).filter(function (k) {\n      return k !== BRIDGE_CHANNEL_KEY;\n    });\n    ComponentConnector.unsubscribe(inConnections, cellsComponent.node);\n  } // set last value in collection. These is used in \"ComponentConnector\" when publish in output channel from events\n\n\n  lastValue.set(cellsComponent.node, _ffValueResult);\n  return _ffValueResult;\n}\n// CONCATENATED MODULE: ./src/core/manager/post-message.js\nfunction post_message_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction post_message_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction post_message_createClass(Constructor, protoProps, staticProps) { if (protoProps) post_message_defineProperties(Constructor.prototype, protoProps); if (staticProps) post_message_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PostMessageManager = /*#__PURE__*/function () {\n  function PostMessageManager(bridge) {\n    post_message_classCallCheck(this, PostMessageManager);\n\n    if (!bridge.postMessageTargetOrigin) {\n      this.enabled = false;\n    } else {\n      if (bridge.postMessageTargetOrigin === '*') {\n        this.enabled = false;\n        console.warn(\"For security reasons postMessageTargetOrigin can't be the wildcard '*'. See docs for more info. \");\n      } else {\n        this.enabled = true;\n        this.postMessageTargetOrigin = bridge.postMessageTargetOrigin;\n      }\n    }\n\n    this.componentConnector = bridge.ComponentConnector;\n    this.bridgeChannelManager = bridge.BridgeChannelManager;\n  }\n  /**\n   * Handles the postMessage events sent to this window from its parent.\n   * It transforms them into channels __bridge_post_message_{your-event-name} including the payload, to do so the postMessage must be:\n   * {\n   *  \"event\" : \"your-event-name\",\n   *  \"detail\" : <any>\n   * }\n   * Creates and listens to the private channel __bridge_ch_send_post_message to send postMessages to parent window.\n   */\n\n\n  post_message_createClass(PostMessageManager, [{\n    key: \"setupPostMessages\",\n    value: function setupPostMessages() {\n      var _this = this;\n\n      if (this.enabled) {\n        window.addEventListener('message', function (_ref) {\n          var data = _ref.data;\n\n          if (data.event) {\n            var channel = _this.bridgeChannelManager.getPostMessageChannel(data.event);\n\n            var evt = _this.componentConnector.createEvent(data.event, data.detail);\n\n            channel.next(evt);\n          }\n        });\n\n        this._sendPostMessage({\n          event: '__bridge-ready'\n        });\n\n        this.bridgeChannelManager.getBridgeChannel('send_post_message').subscribe(function (evt) {\n          return _this._sendPostMessage(evt.detail);\n        });\n      }\n    }\n  }, {\n    key: \"_sendPostMessage\",\n    value: function _sendPostMessage(evt) {\n      window.parent && window.parent.postMessage({\n        eventName: evt.event,\n        eventDetail: evt.detail\n      }, this.postMessageTargetOrigin);\n    }\n  }]);\n\n  return PostMessageManager;\n}();\n\n/* harmony default export */ var post_message = (PostMessageManager);\n// CONCATENATED MODULE: ./src/core/bridge.js\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction bridge_extends() { bridge_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return bridge_extends.apply(this, arguments); }\n\nfunction bridge_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { bridge_typeof = function _typeof(obj) { return typeof obj; }; } else { bridge_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return bridge_typeof(obj); }\n\nfunction bridge_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction bridge_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction bridge_createClass(Constructor, protoProps, staticProps) { if (protoProps) bridge_defineProperties(Constructor.prototype, protoProps); if (staticProps) bridge_defineProperties(Constructor, staticProps); return Constructor; }\n\n// eslint-disable-next-line no-unused-vars\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar bridge_dasherize = utils.dasherize,\n    bridge_camelize = utils.camelize;\nvar bridge_bindingCodes = constants.bindingCodes,\n    bridge_binding = constants.binding,\n    bridge_componentsPath = constants.componentsPath,\n    bridge_composerEndpoint = constants.composerEndpoint,\n    bridge_externalEvents = constants.externalEvents,\n    bridge_externalEventsCodes = constants.externalEventsCodes,\n    DEFAULT_INITIAL_TEMPLATE = constants.initialTemplate,\n    DEFAULT_PAGES_PATH = constants.pagesPath,\n    bridge_prplCodes = constants.prplCodes,\n    bridge_prpl = constants.prpl,\n    bridge_preRenderState = constants.preRenderState,\n    bridge_renderEngines = constants.renderEngines;\nvar ALWAYS = bridge_binding.DEFAULT;\nvar DEFER = bridge_prpl.DEFAULT;\nvar coreInstances = 0;\nvar globalChannel = {}; // @TODO: Agregar los imports y eliminar los `new this.*`\n// @TODO: Revisar los mtodos que manipulan templates. Quizs deban ser responsabilidad del TemplateManager\n\nvar bridge_CellsBridge = /*#__PURE__*/function () {\n  /**\n  * Binding Type\n  *\n  * 'always'      => Register all components of all views. Never unregister them.\n  * 'delayed'     => Like 'always' but waits for idle to start the animation.\n  * 'ui'          => Register only ui and cross components of all views. Never\n  *                  unregister them. Datamanagers are only connected when the\n  *                  animation of the current view finishes.\n  * 'currentview' => Register all components of the current view when the\n  *                  animation finishes.\n  *\n  * @type {String}\n  */\n\n  /**\n   *\n   * @type {sting}\n   *\n   *  none => Don't use bundled pages\n   *  defer => Use bundled pages. It renders the page once every component has been loaded.\n   *  progressive => Use bundled pages. It renders the page inmediatelly while its component are loading.\n   *  hero => Use bundled pages. It renders the page inmediatelly while its component are loading using priorities.\n   */\n\n  /**\n  * Pages Cache\n  *\n  * Saves page definitions into localstorage.\n  *\n  * @type {Boolean}\n  */\n\n  /**\n  * PubSub Context\n  *\n  * 'global'   => Notifies all components of all bridge instances.\n  * 'local'    => Notifies components created by the current bridge instance.\n  *\n  * @type {String}\n  */\n\n  /**\n   * URL Components Path\n   *\n   * URL path to load components.\n   *\n   * @type {String}\n   */\n\n  /**\n  * URL templates Path\n  *\n  * URL path to load templates.\n  *\n  * @type {String}\n  */\n\n  /**\n  * Cross container node Id\n  *\n  * @type {String}\n  */\n\n  /**\n  * Prints debug info\n  *\n  * @type {Boolean}\n  */\n\n  /**\n  * Proactive Cache.\n  * Loads future pages definition.\n  *\n  * @type {Boolean}\n  */\n\n  /**\n  * Proactive Render\n  * Render future pages.\n  *\n  * @type {Boolean}\n  */\n\n  /**\n  * Prefix for LocalStorage keys\n  *\n  * @type {String}\n  */\n\n  /**\n  * Lib version.\n  *\n  * @type {string}\n  */\n\n  /**\n  * Max number of views\n  *\n  * Keeps this number of template alive.\n  *\n  * @type {Number}\n  */\n\n  /**\n   * The name of the initial template that gets rendered\n   *\n   * @type {String}\n   */\n\n  /**\n   *  The node where the template will be rendered\n   */\n\n  /**\n  * Events to expose\n  *\n  *\n  * @type {Array}\n  */\n\n  /**\n   * The lists of routes that are rendered through a WebComponent.\n   *\n   * @type {Array}\n   */\n\n  /**\n   * The path to the folder that contains the components that renders a route.\n   *\n   * @type {String}\n   */\n\n  /**\n   * The list of templates that are remote and need to be fetched from a remote server\n   * @type {Array}\n   */\n\n  /**\n   * If it is true, the Bridge will use the Composer Engine to get the json\n   * pages (composer mocks)\n   * @type {Boolean}\n   */\n\n  /**\n   * Json that contains the App definition.\n   * This is required by Composer Engine.\n   *\n   * @type {JSON}\n   */\n  function CellsBridge(config) {\n    var _this = this;\n\n    bridge_classCallCheck(this, CellsBridge);\n\n    this.ComponentConnector = null;\n    this.DomManager = null;\n    this.ImportManager = null;\n    this.PageManager = null;\n    this.Router = null;\n    this.TemplateManager = null;\n    this.Sanitizer = null;\n    this.BridgeChannelManager = null;\n    this.binding = ALWAYS;\n    this.prplLevel = DEFER;\n    this.cache = true;\n    this.channel = 'global';\n    this.componentsPath = bridge_componentsPath;\n    this.templatesPath = '';\n    this.crossContainerId = '__cross';\n    this.debug = true;\n    this.preCache = false;\n    this.preRender = false;\n    this.storagePrefix = '__bridge-';\n    this.version = '3.12.0';\n    this.viewLimit = 1000;\n    this.initialTemplate = DEFAULT_INITIAL_TEMPLATE;\n    this.__mainNodeElement = null;\n    this.externalEvents = bridge_externalEvents;\n    this.pages = [];\n    this.pagesPath = DEFAULT_PAGES_PATH;\n    this.remoteTemplates = [];\n    this.useComposerEngine = false;\n    this.appJson = '';\n    this.appId = '';\n    this.composerEndpoint = bridge_composerEndpoint;\n    this.templatesPath = '';\n    this.monitoring = null;\n    this.logs = false;\n    this.navRequestListener = null;\n    var NAV_REQUEST = bridge_externalEventsCodes.NAV_REQUEST,\n        ROUTER_BACKSTEP = bridge_externalEventsCodes.ROUTER_BACKSTEP;\n\n    if (!config || bridge_typeof(config) !== 'object') {\n      config = {};\n    }\n\n    config.prplLevel = this._normalizePrplLevel(config.prplLevel);\n    this.preRenderingPages = {};\n    var dependencies = config.dependencies;\n    delete config.dependencies;\n\n    bridge_extends(this, config);\n\n    this._initDependencies(dependencies);\n\n    if (this.channel === 'global') {\n      this.ComponentConnector.manager.channels = globalChannel;\n    }\n\n    if (this.useComposerEngine) {\n      this._initComposerEngine();\n    }\n\n    if (!this.mainNode) {\n      console.warn('You should indicate the main node of your app');\n    } else {\n      this._plugExternalEvents();\n    }\n\n    if (config.featureFlag) {\n      if (config.featureFlag.subscribe) {\n        this.featureFlagCollection.subscribe(config.featureFlag.subscribe);\n      }\n\n      if (config.featureFlag.defaultChangedCallback) {\n        feature_flag_component.defaultChangedCallback(config.featureFlag.defaultChangedCallback);\n      }\n\n      if (config.featureFlag.defaultFeatures) {\n        this.featureFlagCollection.update({\n          features: config.featureFlag.defaultFeatures\n        });\n      }\n\n      if (config.featureFlag.src) {\n        fetch(config.featureFlag.src).then(function (response) {\n          return response.json();\n        }).then(function (response) {\n          return _this.featureFlagCollection.update(response);\n        });\n      }\n    }\n\n    this.id = coreInstances++;\n\n    this._initCrossComponents();\n\n    if (this.cache) {\n      this.PageManager.persistent = true;\n    }\n\n    if (this.generateRequestUrl) {\n      console.assert(typeof this.generateRequestUrl === 'function', 'generateRequestUrl has to be a function');\n      this.PageManager.generateRequestUrl = this.generateRequestUrl;\n    }\n\n    if (this.onPageDefinitionNotFound) {\n      console.assert(typeof this.onPageDefinitionNotFound === 'function', 'onPageDefinitionNotFound has to be a function');\n      this.PageManager.onPageDefinitionNotFound = this.onPageDefinitionNotFound;\n    }\n\n    window.$core = window.$core || [];\n    /* istanbul ignore else */\n\n    if (this.debug) {\n      window.$core.push(this);\n      this.printDebugInfo();\n    } else {\n      window.$core.push({\n        // monitoring\n        log: function log(_log2) {\n          return _this.log(_log2);\n        },\n        ingest: function ingest(spans) {\n          return _this.ingest(spans);\n        },\n        createSpan: function createSpan(data) {\n          return _this.createSpan(data);\n        },\n        createUUID: function createUUID() {\n          return _this.createUUID();\n        },\n        // bridge\n        logout: function logout() {\n          return _this.logout();\n        },\n        subscribeToEvent: function subscribeToEvent(eventName, callback) {\n          return _this.subscribeToEvent(eventName, callback);\n        },\n        registerInConnection: function registerInConnection(channel, node, callback) {\n          return _this.registerInConnection(channel, node, callback);\n        },\n        unsubscribe: function unsubscribe(channels, node) {\n          return _this.unsubscribe(channels, node);\n        },\n        registerOutConnection: function registerOutConnection(channelName, node, bindName) {\n          return _this.registerOutConnection(channelName, node, bindName);\n        },\n        publish: function publish(channelName, value, options) {\n          return _this.publish(channelName, value, options);\n        },\n        navigate: function navigate(page, params) {\n          return _this.navigate(page, params);\n        },\n        // analytics\n        trackEvent: function trackEvent(data) {\n          return _this.trackEvent(data);\n        },\n        // native\n        navigateToNative: function navigateToNative(page, params) {\n          return _this.navigateToNative(page, params);\n        },\n        backStep: function backStep() {\n          return _this.backStep();\n        }\n      });\n    }\n\n    window.cells = window.$core[0];\n    this.BridgeChannelManager.initAppContextChannel();\n    this.BridgeChannelManager.getCancelledBackNavigationChannel();\n    this.ActionChannelManager.subscribeAll(); // Bridge is ready - execute queued bridge commands\n\n    this._executePendingBridgeQueue();\n\n    if (this.logs) {\n      this._logBridgeReady();\n    } // 1. Listen for route changes\n    // @TODO: Revisar este binding de un mtodo de otro objeto a otro objeto\n\n\n    this.Router.handler = function () {\n      return _this.routeHandler();\n    };\n\n    this.Router.addRoutes(this.routes);\n\n    this._initSkipNavigations();\n\n    this.Router.start();\n\n    this.navRequestListener = function (info) {\n      if (_this.Router.hashIsDirty) {\n        window.location.hash = \"#!\";\n      }\n\n      var event = info.event;\n      var navigationDetail = info.detail;\n      var page = navigationDetail.page;\n      var params = navigationDetail.params;\n      var skipHistory = navigationDetail.skipHistory;\n      var cleanUntil = navigationDetail.cleanUntil;\n      var replace = navigationDetail.replace || false;\n      var p = {};\n\n      if (!page && navigationDetail.paramPage && event.detail) {\n        page = event.detail[navigationDetail.paramPage];\n      }\n\n      if (event.detail && params) {\n        for (var param in params) {\n          if (params.hasOwnProperty(param)) {\n            p[params[param]] = event.detail[param];\n          }\n        }\n      }\n\n      if (cleanUntil) {\n        _this.Router.clearStackUntil(cleanUntil);\n      }\n\n      _this.Router.go(page, p, replace, skipHistory);\n\n      bridge_extends(_this, config);\n    };\n\n    manager_events.on(NAV_REQUEST, this.navRequestListener);\n    manager_events.on(ROUTER_BACKSTEP, function (evt) {\n      return _this.handleBack(evt);\n    });\n    this.PostMessageManager.setupPostMessages();\n  }\n  /**\n   * Performs the go back action. This method is overriden by the CellsNativeBridge\n   *\n   * @return {Object} the executed navigation, an object with properties:\n   *  - from\n   *  - to\n   */\n\n\n  bridge_createClass(CellsBridge, [{\n    key: \"goBack\",\n    value: function goBack() {\n      return this.Router.back();\n    }\n    /**\n     * This method is executed when the event router-backstep is fired.\n     * It calls the hook method for handling backward navigations and if that method\n     * allows the continuation, it does the navegation. Otherwise it will cancel the navigation\n     * and publish the response in the channel __bridge_cancelled_back_navigation.\n     */\n\n  }, {\n    key: \"handleBack\",\n    value: function handleBack() {\n      this.goBack();\n    }\n    /**\n     * Execute queued bridge commands due to delayed instance of bridge and\n     * premature execution of commands.\n     *\n     * @method\n     * @private\n     */\n\n  }, {\n    key: \"_executePendingBridgeQueue\",\n    value: function _executePendingBridgeQueue() {\n      if (!window.cellsBridgeQueue || !window.cellsBridgeQueue.length) {\n        return;\n      }\n\n      for (var i = 0; i < window.cellsBridgeQueue.length; i++) {\n        var queuedItem = window.cellsBridgeQueue[i];\n        var command = queuedItem.command,\n            parameters = queuedItem.parameters;\n        var queuedCommand = this[command];\n\n        if (!queuedCommand) {\n          console.log(\"WARNING: Invalid cells bridge command execution: \".concat(command, \" (QUEUE).\"));\n          return;\n        }\n\n        console.log(\"Executing queued command \".concat(command, \".\"));\n        queuedCommand.apply(this, parameters);\n      }\n\n      delete window.cellsBridgeQueue;\n    }\n  }, {\n    key: \"_logBridgeReady\",\n    value: function _logBridgeReady() {\n      var appId = this.appId,\n          version = this.version,\n          binding = this.binding,\n          prplLevel = this.prplLevel,\n          cache = this.cache,\n          preCache = this.preCache,\n          preRender = this.preRender;\n      var message = \"cells-bridge::ready\";\n      var properties = {\n        appId: appId,\n        version: version,\n        binding: binding,\n        href: window.location.href,\n        prplLevel: prplLevel,\n        cache: cache,\n        preCache: preCache,\n        preRender: preRender\n      };\n      var log = {\n        message: message,\n        properties: properties\n      };\n      this.logBridge(log);\n    }\n  }, {\n    key: \"_initSkipNavigations\",\n    value: function _initSkipNavigations() {\n      if (this.skipNavigations && this.skipNavigations.length > 0) {\n        for (var i = 0; i < this.skipNavigations.length; i++) {\n          this.skipNavigations[i].skipHistory = true;\n        }\n\n        this.Router.addSkipNavigations(this.skipNavigations);\n      }\n    }\n  }, {\n    key: \"_normalizePrplLevel\",\n    value: function _normalizePrplLevel(prplLevelCode) {\n      var prplList = bridge_prpl.VALUES;\n      var normalizedCode;\n\n      if (prplList.indexOf(prplLevelCode) > -1) {\n        normalizedCode = prplLevelCode;\n      } else {\n        normalizedCode = prplList[prplLevelCode] || DEFER;\n      }\n\n      return normalizedCode;\n    }\n  }, {\n    key: \"_dispatchEvent\",\n    value: function _dispatchEvent(name, payload) {\n      var mainNode = this.getMainNode();\n      var event = payload ? new CustomEvent(name, {\n        detail: payload\n      }) : new CustomEvent(name);\n      mainNode.dispatchEvent(event);\n    }\n  }, {\n    key: \"_plugExternalEvents\",\n    value: function _plugExternalEvents() {\n      var _this2 = this;\n\n      var len = this.externalEvents.length;\n      var mainNode = this.getMainNode();\n\n      if (mainNode) {\n        var _loop = function _loop(i) {\n          var eventName = _this2.externalEvents[i];\n          manager_events.on(eventName, function (data) {\n            _this2._dispatchEvent(eventName, data);\n\n            if (_this2.logs) {\n              _this2.monitor(eventName, data);\n            }\n          });\n        };\n\n        for (var i = 0; i < len; i++) {\n          _loop(i);\n        }\n\n        this._initEventChannels();\n      } else {\n        console.warn('The defined main node does not exist');\n      }\n    }\n    /**\n     * Send analytics data event to main node.\n     * Cells Analytics Collector (Adobe / Target) are listening for main node event's and interept & process them.\n     *\n     * @param {Object} data Analytics info.\n     */\n\n  }, {\n    key: \"trackEvent\",\n    value: function trackEvent(data) {\n      var TRACK_EVENT = bridge_externalEventsCodes.TRACK_EVENT; // We just emit a TRACK_EVENT event, modeled as an out connection (we respect normal analytics flow)\n\n      manager_events.emit(TRACK_EVENT, {\n        detail: data\n      });\n    }\n  }, {\n    key: \"monitor\",\n    value: function monitor(eventName, data) {\n      var LOG_EVENT = bridge_externalEventsCodes.LOG_EVENT;\n      var isApplicationLogEvent = eventName === LOG_EVENT;\n      var isLoggable = isApplicationLogEvent || this.isBridgeLoggableEvent(eventName);\n\n      if (isLoggable) {\n        var log = this.monitoring.buildLog(eventName, data);\n        var method = isApplicationLogEvent ? 'log' : 'logBridge';\n        this[method](log);\n      }\n    }\n  }, {\n    key: \"isBridgeLoggableEvent\",\n    value: function isBridgeLoggableEvent(eventName) {\n      return this.monitoring.isBridgeLoggableEvent(eventName);\n    }\n  }, {\n    key: \"log\",\n    value: function log(_log) {\n      this.hasApplicationLoggingEnabled() && this.monitoring.logApplication(_log);\n    }\n  }, {\n    key: \"logBridge\",\n    value: function logBridge(log) {\n      this.hasBridgeLoggingEnabled() && this.monitoring.logBridge(log);\n    }\n  }, {\n    key: \"ingest\",\n    value: function ingest(spans) {\n      this.hasApplicationLoggingEnabled() && this.monitoring.ingest(spans);\n    }\n  }, {\n    key: \"createSpan\",\n    value: function createSpan(data) {\n      if (!this.hasApplicationLoggingEnabled()) {\n        return {\n          start: function start() {},\n          finish: function finish() {}\n        };\n      }\n\n      return this.monitoring.createSpan(data);\n    }\n  }, {\n    key: \"createUUID\",\n    value: function createUUID() {\n      return this.monitoring.createUUID();\n    }\n  }, {\n    key: \"hasBridgeLoggingEnabled\",\n    value: function hasBridgeLoggingEnabled() {\n      return this.monitoring.hasBridgeLoggingEnabled();\n    }\n  }, {\n    key: \"hasApplicationLoggingEnabled\",\n    value: function hasApplicationLoggingEnabled() {\n      return this.monitoring.hasApplicationLoggingEnabled();\n    }\n  }, {\n    key: \"_initEventChannels\",\n    value: function _initEventChannels() {\n      var mainNode = this.getMainNode();\n      this.BridgeChannelManager.initEventChannels(mainNode, this.externalEvents);\n\n      this._addInitialSubscribersToEvents();\n    }\n  }, {\n    key: \"_addInitialSubscribersToEvents\",\n    value: function _addInitialSubscribersToEvents() {\n      if (this.eventSubscriptions && this.eventSubscriptions.length > 0) {\n        this._subscribeToEvents(this.eventSubscriptions);\n      }\n    }\n  }, {\n    key: \"_subscribeToEvents\",\n    value: function _subscribeToEvents(eventSubscriptions) {\n      var _this3 = this;\n\n      eventSubscriptions.forEach(function (subscription) {\n        var event = subscription.event,\n            callback = subscription.callback;\n\n        _this3.subscribeToEvent(event, callback);\n      });\n    }\n    /**\n     * Initialization of cross components container.\n     * Check if cross component container exists. Otherwise, it will be created.\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_initCrossComponents\",\n    value: function _initCrossComponents() {\n      var crossContainerTemplateId = this.TemplateManager.parseTemplateId(this.crossContainerId);\n      var crossContainer = this.TemplateManager.get(crossContainerTemplateId);\n      var crossContainerElement = document.getElementById(crossContainerTemplateId); // no cross container registered on memory\n\n      if (!crossContainer) {\n        if (!crossContainerElement) {\n          // no html element for cross container, we build it from scratch\n          crossContainer = this.TemplateManager.create(this.crossContainerId, {\n            tagName: 'div'\n          });\n          document.body.appendChild(crossContainer.node);\n        } else {\n          // html element found. we register it\n          this.TemplateManager.register(this.crossContainerId, crossContainerElement);\n        }\n      }\n    }\n  }, {\n    key: \"_initDependencies\",\n    value: function _initDependencies(dependencies) {\n      dependencies = bridge_extends({\n        ComponentConnector: component_connector,\n        DomManager: dom,\n        ImportManager: manager_import,\n        TemplateManager: manager_template,\n        PageManager: manager_page,\n        Router: router_Router,\n        Sanitizer: CellsBridgeComposerSanitizer,\n        BridgeChannelManager: bridge_channels,\n        ActionChannelManager: action_channels,\n        monitoring: monitoring_Monitoring,\n        featureFlagCollection: FeatureFlagCollection,\n        PostMessageManager: post_message\n      }, dependencies);\n\n      for (var dependence in dependencies) {\n        if (dependencies.hasOwnProperty(dependence)) {\n          this[dependence] = new dependencies[dependence](this);\n        }\n      }\n    }\n  }, {\n    key: \"_initComposerEngine\",\n    value: function _initComposerEngine() {\n      /* global composerEngine */\n      this.composerEngine = new composer_engine_proxy(this.ComponentConnector.manager, composerEngine);\n      this.composerEngine.init();\n      this.PageManager.composerEngine = this.composerEngine;\n    }\n  }, {\n    key: \"_createCellsComponent\",\n    value: function _createCellsComponent(spec, context) {\n      var cmp = new CellsBridgeComponent(spec, context);\n\n      if (spec.featureFlag) {\n        feature_flag_component.extend(cmp, this);\n      }\n\n      return cmp;\n    }\n  }, {\n    key: \"createCCComponent\",\n    value: function createCCComponent(spec) {\n      var container = this.TemplateManager.get(this.crossContainerId);\n      var node = container.node.querySelector(spec.tagName);\n\n      if (!node) {\n        var cmp = this._createCellsComponent(spec, this);\n\n        cmp.__parentTemplate = container;\n        this.ComponentConnector.register(cmp.node, cmp.spec.connections);\n        return cmp;\n      } else {\n        this.ComponentConnector.progressiveRegister(node, spec.connections);\n      }\n    }\n  }, {\n    key: \"createUIComponent\",\n    value: function createUIComponent(spec) {\n      var ALWAYS = bridge_bindingCodes.ALWAYS,\n          DELAYED = bridge_bindingCodes.DELAYED,\n          UI = bridge_bindingCodes.UI;\n      var bindingType = this.binding;\n\n      var cmp = this._createCellsComponent(spec, this);\n\n      if (bindingType === ALWAYS || bindingType === DELAYED || bindingType === UI) {\n        this.ComponentConnector.register(cmp.node, cmp.connections);\n      }\n\n      return cmp;\n    }\n  }, {\n    key: \"createDMComponent\",\n    value: function createDMComponent(spec) {\n      var ALWAYS = bridge_bindingCodes.ALWAYS,\n          DELAYED = bridge_bindingCodes.DELAYED;\n      var bindingType = this.binding;\n\n      var cmp = this._createCellsComponent(spec, this);\n\n      if (bindingType === ALWAYS || bindingType === DELAYED) {\n        this.ComponentConnector.register(cmp.node, cmp.connections);\n      }\n\n      return cmp;\n    }\n  }, {\n    key: \"_createLocalComponent\",\n    value: function _createLocalComponent(type, items, template) {\n      var collection = [];\n\n      for (var i = 0, l = items.length; i < l; i++) {\n        var spec = items[i];\n        var cmp = this['create' + type + 'Component'](spec);\n\n        if (cmp) {\n          cmp.__parentTemplate = cmp.__parentTemplate || template;\n          collection.push(cmp);\n        }\n      }\n\n      return collection;\n    }\n  }, {\n    key: \"createComponentsByType\",\n    value: function createComponentsByType(collection, template) {\n      var itemsToInject = [];\n      var sortedList = ['CC', 'UI', 'DM'];\n\n      for (var j = 0, k = sortedList.length; j < k; j++) {\n        var type = sortedList[j];\n        var items = collection[type];\n        itemsToInject = itemsToInject.concat(this._createLocalComponent(type, items, template));\n      }\n\n      return itemsToInject;\n    }\n  }, {\n    key: \"_createComponents\",\n    value: function _createComponents(response, template) {\n      var _this4 = this;\n\n      var isPreRendering = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var PAGE_READY = bridge_externalEventsCodes.PAGE_READY;\n      var page = response.page;\n      var options = this;\n      var collection = this.Sanitizer.split(response.components);\n      var components = this.createComponentsByType(collection, template);\n      var unresolvedComponents = [];\n      var templateParents = [];\n\n      for (var i = 0, l = components.length; i < l; i++) {\n        // 9. Sets default attributes\n        components[i].setProps();\n        var component = components[i];\n        var parentName = component.__parentTemplate.name;\n\n        if (!templateParents[parentName]) {\n          templateParents[parentName] = this.TemplateManager.get(parentName);\n        } // 9.1 Append components to template\n\n\n        templateParents[parentName].append(component);\n\n        if (component.isUnresolved()) {\n          unresolvedComponents.push(component);\n        }\n      }\n\n      manager_events.emit(PAGE_READY, {\n        page: page,\n        components: response.components.map(function (c) {\n          return c.tagName;\n        }).join(', ')\n      });\n\n      switch (this.prplLevel) {\n        case bridge_prplCodes.NONE:\n        case bridge_prplCodes.DEFER:\n          this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath).then(function () {\n            _this4.selectTemplate(page, isPreRendering);\n          });\n          break;\n\n        case bridge_prplCodes.PROGRESSIVE:\n          this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath);\n          break;\n\n        case bridge_prplCodes.HERO:\n          this.selectTemplate(page, isPreRendering);\n          this.ImportManager.loadComponentByPriority(unresolvedComponents, options.componentsPath);\n          break;\n      }\n    }\n  }, {\n    key: \"createPageFromWebComponent\",\n    value: function createPageFromWebComponent(name) {\n      var componentName = \"\".concat(name, \"-page\");\n      var node = this.TemplateManager.getNode(name);\n      this.BridgeChannelManager.getPrivate(name);\n\n      if (!node) {\n        node = this.TemplateManager.createFromComponent(name, componentName);\n\n        if (node.isUnresolved() && node.node.updateComplete === undefined) {\n          // is not LitElement so it must be a PolymerElement\n          return this.loadPolymerWebComponent(name);\n        }\n      }\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"_isLocalTemplate\",\n    value: function _isLocalTemplate(templateName) {\n      var isLocal = true;\n\n      if (this.composerEndpoint && this.remoteTemplates) {\n        isLocal = this.remoteTemplates.indexOf(templateName) === -1;\n      }\n\n      return isLocal;\n    }\n  }, {\n    key: \"createTemplate\",\n    value: function createTemplate(response) {\n      var _this5 = this;\n\n      var isPreRendering = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var spec = response;\n      var name = response.page;\n      var node = this.TemplateManager.getNode(name);\n      var useComposerEngineForThisPage = this.composerEngine && !this.PageManager._isLocalComposer(name);\n      this.BridgeChannelManager.getPrivate(name);\n\n      if (!isPreRendering && this.preRenderingPages[name]) {\n        this.preRenderingPages[name] = bridge_preRenderState.REQUESTED;\n        return;\n      } // Template is cached\n\n\n      if (node && !useComposerEngineForThisPage) {\n        this.selectTemplate(name, isPreRendering);\n      } else {\n        // Template not cached and has definition\n        if (spec && spec.template) {\n          if (this.prplLevel === bridge_prplCodes.DEFER && this._isLocalTemplate(name)) {\n            // Review this: need check if template is LitElement to avoid load html bundle\n            if (this.onlyLitElements) {\n              this._createTemplateFromSpec(name, spec, isPreRendering);\n            } else {\n              this.ImportManager.loadBundleForTemplate(this.componentsPath, name).then(function () {\n                _this5._createTemplateFromSpec(name, spec, isPreRendering);\n              });\n            }\n          } else {\n            this._createTemplateFromSpec(name, spec, isPreRendering);\n          }\n        }\n      }\n\n      this._preRender(response, isPreRendering);\n    }\n  }, {\n    key: \"_preRender\",\n    value: function _preRender(response, isPreRendering) {\n      var _this6 = this;\n\n      if ((this.preCache === true || this.preRender === true) && response.pages) {\n        for (var page in response.pages) {\n          if (response.pages.hasOwnProperty(page)) {\n            var pageAlreadyLoaded = page === name || this.TemplateManager.cache[page];\n\n            if (pageAlreadyLoaded) {\n              continue;\n            }\n\n            if (this.preRender && isPreRendering === false) {\n              this.preRenderingPages[page] = bridge_preRenderState.WORKING;\n            }\n\n            this.loadTemplate(page).then(function (templateResponse) {\n              if (_this6.preRender && isPreRendering === false) {\n                var doPreRender = true;\n\n                if (templateResponse.page) {\n                  _this6._idleCallback(function () {\n                    return _this6.createTemplate(templateResponse, doPreRender);\n                  });\n                } else {\n                  console.warn('Missing page. ', templateResponse);\n                }\n              }\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_createTemplateFromSpec\",\n    value: function _createTemplateFromSpec(name, spec) {\n      var _this7 = this;\n\n      var isPreRendering = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      // 4. Creates the new template\n      var template = this.TemplateManager.create(name, spec.template, isPreRendering);\n\n      if (this.prplLevel === bridge_prplCodes.PROGRESSIVE) {\n        this.selectTemplate(name, isPreRendering);\n      }\n\n      this.ComponentConnector.register(template.node, template.connections); // Add new routes in router\n\n      if (spec.pages) {\n        this.Router.addRoutes(spec.pages);\n      } // 5. Import it when doesn't exists\n\n\n      if (template.isUnresolved()) {\n        switch (this.prplLevel) {\n          case bridge_prplCodes.NONE:\n          case bridge_prplCodes.DEFER:\n            this.ImportManager.loadComponent(template, this.componentsPath).then(function () {\n              _this7._createComponents(spec, template, isPreRendering);\n            });\n            break;\n\n          case bridge_prplCodes.PROGRESSIVE:\n          case bridge_prplCodes.HERO:\n            this._createComponents(spec, template, isPreRendering);\n\n            break;\n        }\n      } else {\n        this._createComponents(spec, template, isPreRendering);\n      }\n    }\n    /**\n    * Id for template node\n    *\n    * @param  {String} name Template name\n    *\n    * @return {String}\n    */\n\n  }, {\n    key: \"parseTemplateId\",\n    value: function parseTemplateId(name) {\n      return 'cells-template-' + name.replace(/\\./g, '-');\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(name, value) {\n      name = bridge_camelize('parse-' + name);\n      return typeof this[name] === 'function' ? this[name](value) : value;\n    }\n  }, {\n    key: \"printDebugInfo\",\n    value: function printDebugInfo() {\n      var getColor = function getColor(option, color) {\n        var hexColor = option ? color : '#b0bec5';\n        return \"background:\".concat(hexColor, \"; color:#fff; padding:2px 4px; margin-right: 5px;\");\n      };\n\n      console.log(\"%cbridge version: \".concat(this.version, \" %cbinding: \").concat(this.binding, \" %cprplLevel: \").concat(this.prplLevel, \" %ccache: \").concat(this.cache, \" %cpreCache: \").concat(this.preCache, \" %cpreRender: \").concat(this.preRender, \" %clogs: \").concat(this.logs), getColor(this.version, '#003f8d'), getColor(this.binding, '#0065ba'), getColor(this.prplLevel, '#008ff2'), getColor(this.cache, '#0093e2'), getColor(this.preCache, '#00aeeb'), getColor(this.preRender, '#41cef8'), //#00aeeb\n      getColor(this.logs, '#0025ad') //#00aeeb\n      );\n\n      if (this.id > 0) {\n        console.log(\"%cWARNING: There are \".concat(this.id + 1, \" simultaneous instances of the Bridge running.\"), getColor(this.id, '#FF0000'));\n      }\n    }\n  }, {\n    key: \"routeHandler\",\n    value: function routeHandler() {\n      var PARSE_ROUTE = bridge_externalEventsCodes.PARSE_ROUTE;\n      var route = this.Router.currentRoute;\n      manager_events.emit(PARSE_ROUTE, route); // 2. Load a new page when route changes\n\n      this._handleRouteLoading(route); // 3. Publish URL params to global params.\n\n\n      for (var param in route.params) {\n        if (route.params.hasOwnProperty(param)) {\n          var eventData = {\n            detail: {\n              value: route.params[param]\n            },\n            type: bridge_dasherize(param) + '-changed'\n          };\n          this.ComponentConnector.manager.get(param).next(eventData);\n        }\n      }\n    }\n    /**\n     * Determines if given route maps to a component.\n     *\n     * @param  {Object}  route  Route object.\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isRoutableComponent\",\n    value: function isRoutableComponent(route) {\n      return this.pages.indexOf(route.name) >= 0;\n    }\n  }, {\n    key: \"loadTemplate\",\n    value: function loadTemplate(name, params) {\n      var cache = this.cache,\n          method = this.method,\n          body = this.body,\n          headers = this.headers,\n          app = this.app,\n          templates = this.templatesPath;\n      var options = {\n        cache: cache,\n        params: params,\n        method: method,\n        body: body,\n        headers: headers\n      };\n      var config = {\n        app: app,\n        templates: templates\n      };\n      return this.PageManager.get(name, options, config);\n    } // @TODO DRY -> sanitizer lo usa tambin\n\n  }, {\n    key: \"loadPolymerWebComponent\",\n    value: function loadPolymerWebComponent(name) {\n      var path = Array(2).fill(\"\".concat(name, \"-page\")).join('/');\n      var component = {\n        spec: {\n          path: \"\".concat(path, \".html\")\n        }\n      };\n      return this.ImportManager.loadComponent(component, this.pagesPath);\n    }\n  }, {\n    key: \"_handleRouteLoading\",\n    value: function _handleRouteLoading(route) {\n      var _this8 = this;\n\n      if (this.isRoutableComponent(route)) {\n        this.createPageFromWebComponent(route.name).then(function () {\n          return _this8.selectPage(route.name, route.params);\n        });\n      } else {\n        this.loadTemplate(route.name, route.params).then(function (response) {\n          return _this8.createTemplate(response);\n        });\n      }\n    }\n  }, {\n    key: \"registerCurrentTemplate\",\n    value: function registerCurrentTemplate(currentTemplate, previousTemplate) {\n      var TEMPLATE_REGISTERED = bridge_externalEventsCodes.TEMPLATE_REGISTERED;\n      var UI = bridge_bindingCodes.UI;\n      var options = this;\n\n      if (previousTemplate && previousTemplate !== currentTemplate) {\n        this.unregisterChildren(previousTemplate, options.binding === UI ? 'DM' : null);\n      }\n\n      this.registerChildren(currentTemplate, options.binding === UI ? 'DM' : null);\n\n      this._updateChannels(previousTemplate, currentTemplate);\n\n      manager_events.emit(TEMPLATE_REGISTERED, {\n        template: currentTemplate.name\n      });\n    } // this function MAY BE OVERRIDE on native bridge - not required due to internal router updateing the context\n\n  }, {\n    key: \"_updateChannels\",\n    value: function _updateChannels(previousTemplate, currentTemplate) {\n      if (this.BridgeChannelManager) {\n        var oldName = previousTemplate ? previousTemplate.name : undefined;\n        this.BridgeChannelManager.updateAppContext(oldName, currentTemplate.name);\n        this.BridgeChannelManager.initPrivateChannel(oldName, currentTemplate.name);\n      }\n    }\n  }, {\n    key: \"registerChildren\",\n    value: function registerChildren(template, type) {\n      for (var index = 0; index < template.children.length; index++) {\n        var component = template.children[index];\n\n        if (type && type === component.type || !type) {\n          this.ComponentConnector.register(component.node, component.connections);\n        }\n      }\n    }\n  }, {\n    key: \"unregisterChildren\",\n    value: function unregisterChildren(template, type) {\n      for (var index = 0; index < template.children.length; index++) {\n        var component = template.children[index];\n\n        if (type && type === component.type || !type) {\n          this.ComponentConnector.unregister(component.node);\n        }\n      }\n    }\n  }, {\n    key: \"registerInConnection\",\n    value: function registerInConnection(channelName, node, callback) {\n      this.ComponentConnector.addSubscription(channelName, node, callback);\n    }\n  }, {\n    key: \"registerOutConnection\",\n    value: function registerOutConnection(channelName, htmlElement, bindName) {\n      this.ComponentConnector.addPublication(channelName, htmlElement, bindName);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(channels, node) {\n      this.ComponentConnector.unsubscribe(channels, node);\n    }\n  }, {\n    key: \"publish\",\n    value: function publish(channelName, value, options) {\n      this.ComponentConnector.publish(channelName, value);\n    }\n  }, {\n    key: \"navigate\",\n    value: function navigate(page, params) {\n      this.Router.go(page, params);\n    } // dummy methods only for native override\n\n  }, {\n    key: \"navigateToNative\",\n    value: function navigateToNative(page, params) {}\n  }, {\n    key: \"backStep\",\n    value: function backStep() {}\n  }, {\n    key: \"_waitRenderComplete\",\n    value: function _waitRenderComplete(template) {\n      return template.node.updateComplete || Promise.resolve();\n    }\n  }, {\n    key: \"selectPage\",\n    value: function selectPage(name, params) {\n      var _this9 = this;\n\n      var TEMPLATE_REGISTERED = bridge_externalEventsCodes.TEMPLATE_REGISTERED;\n      var template = this.TemplateManager.get(name);\n      var currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n      var oldTemplateName = currentTemplate ? currentTemplate.name : null;\n\n      if (this.onRender) {\n        this.onRender(template.node);\n      }\n\n      _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this9._waitRenderComplete(template);\n\n              case 2:\n                _this9._handleParams(template.node, params);\n\n                _this9.TemplateManager.select(name, _this9.BridgeChannelManager, _this9.binding);\n\n                if (_this9.BridgeChannelManager) {\n                  _this9.BridgeChannelManager.updateAppContext(oldTemplateName, name);\n\n                  _this9.BridgeChannelManager.initPrivateChannel(oldTemplateName, name);\n                }\n\n                manager_events.emit(TEMPLATE_REGISTERED, {\n                  template: name\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }, {\n    key: \"_handleParams\",\n    value: function _handleParams(node, params) {\n      var shouldBindParams = node.params && Object.keys(params).length > 0;\n\n      if (shouldBindParams) {\n        node.params = params;\n      }\n    }\n  }, {\n    key: \"selectTemplate\",\n    value: function selectTemplate(name) {\n      var _this10 = this;\n\n      var isPreRendering = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var TEMPLATE_TRANSITION_END = bridge_externalEventsCodes.TEMPLATE_TRANSITION_END;\n      var CURRENTVIEW = bridge_bindingCodes.CURRENTVIEW,\n          UI = bridge_bindingCodes.UI,\n          DELAYED = bridge_bindingCodes.DELAYED;\n      var options = this;\n      var template = this.TemplateManager.get(name);\n      var shouldRender = isPreRendering !== true || this.preRenderingPages[name] === bridge_preRenderState.REQUESTED;\n\n      if ((options.binding === CURRENTVIEW || options.binding === UI) && shouldRender) {\n        // COMPROBAR 5 VECES\n        var currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n\n        var onTemplateAnimationFinishes = function onTemplateAnimationFinishes() {\n          return _this10.registerCurrentTemplate(template, currentTemplate);\n        };\n\n        if (template.node.animationCompleteEvent) {\n          manager_events.listenToOnce(template.node, template.node.animationCompleteEvent, onTemplateAnimationFinishes);\n        } else {\n          manager_events.once(TEMPLATE_TRANSITION_END, onTemplateAnimationFinishes);\n        }\n      }\n\n      if (options.onRender) {\n        if (template.fixedChildren.length > 0) {\n          options.onRender(template.node, template.fixedChildren);\n        } else {\n          options.onRender(template.node);\n        }\n      } // 10. Shows the template created if it is not pre rendering or\n      // if it's a pre-rendered page that has been requested\n\n\n      if (isPreRendering) {\n        delete this.preRenderingPages[name];\n      }\n\n      if (shouldRender) {\n        var animateTemplate = function animateTemplate() {\n          return _this10.TemplateManager.select(name, _this10.BridgeChannelManager, options.binding);\n        };\n\n        if (options.binding === DELAYED) {\n          this._idleCallback(animateTemplate);\n        } else {\n          animateTemplate();\n        }\n      }\n    }\n  }, {\n    key: \"_idleCallback\",\n    value: function _idleCallback(fn) {\n      this.BridgeChannelManager.getIdleCallbackChannel().subscribe(fn);\n    }\n    /**\n     *\n     * It subscribe the main node to an event channel.\n     *\n     * @param {*} eventName is the name of the event to subscribe\n     * @param {*} callback is the function to call when the event channel is activated with a new value\n     */\n\n  }, {\n    key: \"subscribeToEvent\",\n    value: function subscribeToEvent(eventName, callback) {\n      if (this.externalEvents.indexOf(eventName) < 0) {\n        console.warn('Trying to subscribe to a non existing event: ', eventName);\n        return;\n      }\n\n      if (typeof callback !== 'function') {\n        console.warn('You must provide a function callback to subscribe to the event: ', eventName);\n        return;\n      }\n\n      var mainNode = this.getMainNode();\n      this.BridgeChannelManager.subscribeToEvent(mainNode, eventName, callback);\n    }\n  }, {\n    key: \"getMainNode\",\n    value: function getMainNode() {\n      if (!this.__mainNodeElement) {\n        this.__mainNodeElement = document.querySelector('#' + this.mainNode);\n      }\n\n      return this.__mainNodeElement;\n    }\n  }, {\n    key: \"_resetBridgeChannels\",\n    value: function _resetBridgeChannels() {\n      var cleanPrivateChannels = true;\n      this.BridgeChannelManager.resetBridgeChannels(this.getMainNode(), cleanPrivateChannels);\n    }\n    /**\n     *\n     * Performs a logout action. It resets all channels, removes templates from DOM\n     * and redirects to the initial page\n     *\n     */\n\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      if (this.TemplateManager.selected === this.initialTemplate) {\n        return;\n      } // clean up current page\n\n\n      this.BridgeChannelManager.publishPrivatePageStatus(this.TemplateManager.selected, false);\n\n      this._resetBridgeChannels();\n\n      this.TemplateManager.removeTemplateChildrens(this.crossContainerId);\n      this.TemplateManager.removeTemplates(undefined, this.crossContainerId);\n\n      this._initEventChannels();\n\n      if (this.composerEngine) {\n        this.composerEngine.reset();\n      }\n\n      this.Router.init();\n      this.Router.go(this.initialTemplate);\n    }\n  }]);\n\n  return CellsBridge;\n}();\n\n/* harmony default export */ var core_bridge = (bridge_CellsBridge);\n// CONCATENATED MODULE: ./src/polymer/component-connector.js\nfunction polymer_component_connector_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction polymer_component_connector_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction polymer_component_connector_createClass(Constructor, protoProps, staticProps) { if (protoProps) polymer_component_connector_defineProperties(Constructor.prototype, protoProps); if (staticProps) polymer_component_connector_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction component_connector_possibleConstructorReturn(self, call) { if (call && (component_connector_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return component_connector_assertThisInitialized(self); }\n\nfunction component_connector_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction component_connector_get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { component_connector_get = Reflect.get; } else { component_connector_get = function _get(target, property, receiver) { var base = component_connector_superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return component_connector_get(target, property, receiver || target); }\n\nfunction component_connector_superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = component_connector_getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction component_connector_getPrototypeOf(o) { component_connector_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return component_connector_getPrototypeOf(o); }\n\nfunction component_connector_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) component_connector_setPrototypeOf(subClass, superClass); }\n\nfunction component_connector_setPrototypeOf(o, p) { component_connector_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return component_connector_setPrototypeOf(o, p); }\n\nfunction component_connector_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { component_connector_typeof = function _typeof(obj) { return typeof obj; }; } else { component_connector_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return component_connector_typeof(obj); }\n\n\n\nvar _dashToCamelCase = function _dashToCamelCase(input) {\n  return input.toLowerCase().replace(/-(.)/g, function (match, group1) {\n    return group1.toUpperCase();\n  });\n};\n\nvar _getProperyChangedName = function _getProperyChangedName(name) {\n  var propertyName;\n  var EVENT_CHANGED = '-changed';\n\n  if (name.indexOf(EVENT_CHANGED, name.length - EVENT_CHANGED.length) !== -1) {\n    propertyName = name.slice(0, -EVENT_CHANGED.length);\n    propertyName = _dashToCamelCase(propertyName);\n  }\n\n  return propertyName;\n}; // Hell to test:\n\n\nvar _parseActionInEvent = function _parseActionInEvent(evt, targetPath, target, litElement) {\n  var path;\n  var value; // Check if event is because of property changed.\n\n  var propertyName = _getProperyChangedName(evt.type);\n\n  if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n    value = evt.detail.value;\n    targetPath = targetPath || propertyName;\n\n    if (evt.detail.path) {\n      path = evt.detail.path.replace(propertyName, targetPath);\n    } else {\n      path = targetPath;\n    }\n  } else {\n    path = targetPath;\n    value = evt.detail;\n  }\n\n  if (target !== undefined && target.is === undefined && component_connector_typeof(value) === 'object') {\n    if (Polymer && Polymer.Element === undefined && !litElement) {\n      value = JSON.stringify(value);\n    } else {\n      /* istanbul ignore else */\n      if ((Polymer && Polymer.Element && target instanceof Polymer.Element) === false && !litElement) {\n        value = JSON.stringify(value);\n      }\n    }\n  }\n\n  return {\n    path: path,\n    value: value,\n    property: targetPath\n  };\n};\n\nvar CellsPolymerComponentConnector = /*#__PURE__*/function (_CellsComponentConnec) {\n  component_connector_inherits(CellsPolymerComponentConnector, _CellsComponentConnec);\n\n  function CellsPolymerComponentConnector() {\n    polymer_component_connector_classCallCheck(this, CellsPolymerComponentConnector);\n\n    return component_connector_possibleConstructorReturn(this, component_connector_getPrototypeOf(CellsPolymerComponentConnector).apply(this, arguments));\n  }\n\n  polymer_component_connector_createClass(CellsPolymerComponentConnector, [{\n    key: \"wrapCallback\",\n    value: function wrapCallback(node, bindName) {\n      return function (evt) {\n        var _idleCallback = function _idleCallback(fn) {\n          setTimeout(function () {\n            if ('requestIdleCallback' in window) {\n              window.requestIdleCallback(fn);\n            } else {\n              setTimeout(fn, 1);\n            }\n          }, 100);\n        };\n\n        var checkDispatchActionType = function (mutations, observerObject) {\n          var isPolymerElement = this._isPolymerElement(node);\n\n          var isLitElement = this._isLitElement(node);\n          /* istanbul ignore else */\n\n\n          if (isPolymerElement || isLitElement) {\n            if (typeof bindName === 'function') {\n              this._dispatchActionFunction(evt, node, bindName);\n            } else {\n              if (typeof node[bindName] === 'function') {\n                this._dispatchActionFunction(evt, node, bindName);\n              } else {\n                this._dispatchActionProperty(evt, node, bindName, isLitElement);\n              }\n            }\n            /* istanbul ignore else */\n\n\n            if (observerObject) {\n              observerObject.disconnect();\n            }\n          } else {\n            _idleCallback(checkDispatchActionType);\n          }\n        }.bind(this);\n\n        if (this._isPolymerElement(node) || this._isLitElement(node)) {\n          checkDispatchActionType();\n        } else {\n          var observer = new MutationObserver(checkDispatchActionType);\n          var config = {\n            attributes: false,\n            childList: true,\n            characterData: true\n          };\n          observer.observe(node, config);\n\n          _idleCallback(checkDispatchActionType, 100);\n        }\n      }.bind(this);\n    }\n    /**\n     * Return the version of Polymer instance if the node is a Polymer element.\n     * Return -1 if if the node is not a Polymer element.\n     *\n     * @param {Element} node\n     */\n\n  }, {\n    key: \"_whichPolymerVersion\",\n    value: function _whichPolymerVersion(node) {\n      var version = -1;\n\n      if (Polymer && Polymer.Element !== undefined && (node instanceof Polymer.Element || node instanceof Polymer.LegacyElementMixin)) {\n        version = 2;\n      } else {\n        /* istanbul ignore else */\n        if (node.__isPolymerInstance__ !== undefined) {\n          version = 1;\n        }\n      }\n\n      return version;\n    }\n    /**\n     * Return true if the node is instance of a Polymer element, otherwise return false.\n     *\n     * @param {Element} node\n     */\n\n  }, {\n    key: \"_isPolymerElement\",\n    value: function _isPolymerElement(node) {\n      return this._whichPolymerVersion(node) > 0;\n    }\n  }, {\n    key: \"_isLitElement\",\n    value: function _isLitElement(node) {\n      var tagName = node.tagName;\n      var normalizedTagName = tagName.toLowerCase();\n      var _window = window,\n          customElements = _window.customElements;\n      return customElements && !!customElements.get(normalizedTagName);\n    }\n    /**\n     * Returns true if the event has reached the node that is listening the event\n     *\n     * @param {Event} event\n     */\n\n  }, {\n    key: \"_isEventAtTarget\",\n    value: function _isEventAtTarget(event) {\n      var atTarget;\n\n      if (\n      /** For Polymer 2 **/\n      Polymer && Polymer.Settings && (Polymer.Settings.hasShadow === false ||\n      /** For Polymer 2 **/\n      Polymer.Settings.useShadow === false)) {\n        var normalizedEvent = Polymer.dom(event);\n        atTarget = normalizedEvent.localTarget === event.currentTarget;\n      } else {\n        atTarget = component_connector_get(component_connector_getPrototypeOf(CellsPolymerComponentConnector.prototype), \"_isEventAtTarget\", this).call(this, event);\n      }\n\n      return atTarget;\n    }\n  }, {\n    key: \"_dispatchActionFunction\",\n    value: function _dispatchActionFunction(evt, target, method) {\n      var propertyName = _getProperyChangedName(evt.type);\n\n      var payload;\n\n      if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n        if (Polymer && Polymer.dom(evt).rootTarget) {\n          payload = Polymer.dom(evt).rootTarget[propertyName];\n        } else {\n          payload = evt.detail.value;\n        }\n      } else {\n        payload = evt.detail;\n      } //TODO: Review to see if we actually want to show this warning.\n\n\n      if (this.bridge && this.bridge.debug && this.bridge.parsePayload && ('' + target[method]).indexOf('.data') > -1) {\n        payload = this.bridge.parsePayload(evt.detail);\n        console.warn('%c' + target.tagName + '%c is using an incompatible payload data in ' + method, 'background: #ff9800; color: white; padding: 4px 4px 4px 10px', 'background: #ff9800; color: rgba(255,255,255,0.9); padding: 4px 10px 4px 0');\n      }\n\n      if (typeof method === 'function') {\n        method(payload);\n      } else {\n        target[method](payload);\n      }\n    }\n  }, {\n    key: \"_getTargetProperties\",\n    value: function _getTargetProperties(target) {\n      var props;\n\n      if (target.constructor.config) {\n        props = target.constructor.config.properties;\n      } else if (target.constructor._properties) {\n        props = target.constructor._properties;\n      }\n\n      return props;\n    }\n  }, {\n    key: \"_dispatchActionProperty\",\n    value: function _dispatchActionProperty(evt, target, property, litElement) {\n      var info;\n\n      var data = _parseActionInEvent(evt, property, target, litElement); //check if it's a LitElement\n\n\n      if (target.updateComplete instanceof Promise && typeof target.render === 'function') {\n        //return target[data.property] = target.constructor._classProperties.get(data.property).type(data.value);\n        return target[data.property] = data.value;\n      }\n\n      if (target && target.constructor._finalize) {\n        var isProperty = target.constructor.properties[data.property];\n\n        if (isProperty) {\n          target[data.property] = data.value;\n          return;\n        } else {\n          return this._handleAttribute(target, data);\n        }\n      } //check if target is an instance of Polymer Element to check if is a polymer 2 element\n\n\n      if (target && target.getPropertyInfo || Polymer.Element !== undefined && target instanceof Polymer.Element === false) {\n        if (target.getPropertyInfo) {\n          info = target.getPropertyInfo(data.property);\n        } else {\n          info = this._getTargetProperties(target)[data.property];\n        }\n        /* istanbul ignore else */\n\n\n        if (info && info.defined && !info.readOnly && !info.computed) {\n          return target.set(data.path, data.value);\n        }\n      } //check if target is an instance of Polymer Element to check if is a polymer 2 element\n\n\n      if (target && target.getPropertyInfo === undefined || Polymer.Element !== undefined && target instanceof Polymer.Element === false) {\n        info = this._getTargetProperties(target) !== undefined ? this._getTargetProperties(target)[data.property] : undefined;\n        /* istanbul ignore else */\n\n        if (info && !info.readOnly && !info.computed) {\n          return target.set(data.path, data.value);\n        }\n      }\n\n      return this._handleAttribute(target, data);\n    }\n  }, {\n    key: \"_handleAttribute\",\n    value: function _handleAttribute(target, _ref) {\n      var value = _ref.value,\n          path = _ref.path;\n\n      // check if target property is a boolean one and current value is false.\n      // it expects to remove the attribute (as it's a boolean one)\n      if (typeof value === 'boolean' && !value) {\n        return target.removeAttribute(path);\n      }\n\n      return target.setAttribute(path, value);\n    }\n  }, {\n    key: \"register\",\n    value: function register(node, connections) {\n      component_connector_get(component_connector_getPrototypeOf(CellsPolymerComponentConnector.prototype), \"register\", this).call(this, node, connections);\n\n      if (!node || !connections) {\n        return;\n      }\n\n      if (node.__isCellsConnected) {\n        return;\n      }\n      /* istanbul ignore else */\n\n\n      if (connections[\"in\"]) {\n        for (var action in connections[\"in\"]) {\n          if (connections[\"in\"].hasOwnProperty(action)) {\n            /* istanbul ignore else */\n            if (this.manager.get(action)._events[0]) {\n              /* istanbul ignore else */\n              if (connections.ignoreAttr) {\n                connections.ignoreAttr.push(connections[\"in\"][action].bind);\n              } else {\n                connections.ignoreAttr = [connections[\"in\"][action].bind];\n              }\n            }\n          }\n        }\n      }\n      /* istanbul ignore else */\n\n\n      if (connections.out) {\n        for (var _action in connections.out) {\n          if (connections.out.hasOwnProperty(_action)) {\n            var attrName = _getProperyChangedName(connections.out[_action].bind);\n\n            var polymerVersion = this._whichPolymerVersion(node);\n\n            if (polymerVersion === 2) {\n              /* istanbul ignore else */\n              if (attrName && node.__data && !this.manager.get(_action)._events[0]) {\n                /* istanbul ignore else */\n                if (node && node._hasReadOnlyEffect) {\n                  /* istanbul ignore else */\n                  if (!node._hasReadOnlyEffect(attrName) && !node._hasComputedEffect(attrName)) {\n                    var oldValue = node[attrName];\n                    node.__data[attrName] = undefined;\n                    node[attrName] = oldValue;\n                  }\n                }\n              }\n            } else {\n              /* istanbul ignore else */\n              if (attrName && node.__data__ && !this.manager.get(_action)._events[0]) {\n                /* istanbul ignore else */\n                if (node && node.getPropertyInfo) {\n                  var info = node.getPropertyInfo(attrName);\n                  /* istanbul ignore else */\n\n                  if (info.defined && !info.readOnly && !info.computed) {\n                    var _oldValue = node[attrName]; // remove polymer internal current value to trigger model changes\n\n                    node.__data__[attrName] = undefined;\n                    node[attrName] = _oldValue;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      node.__isCellsConnected = true;\n    }\n  }]);\n\n  return CellsPolymerComponentConnector;\n}(component_connector);\n\n\n// CONCATENATED MODULE: ./src/polymer/resolution-checker.js\nfunction isPolymerElementUnresolved(node) {\n  var isCustomElement = node.tagName.indexOf('-') > -1;\n  var isPolymer1 = node.__isPolymerInstance__ === true;\n  var isPolymer2 = Polymer.Element !== undefined && node instanceof Polymer.Element || Polymer.ElementMixin !== undefined && node instanceof Polymer.ElementMixin || Polymer.LegacyElementMixin !== undefined && node instanceof Polymer.LegacyElementMixin || node.is !== undefined && node.ready !== undefined && node.notifyPath !== undefined;\n  var isLitElement = node.updateComplete instanceof Promise && typeof node.render === 'function';\n  return isCustomElement && !isPolymer1 && !isPolymer2 && !isLitElement;\n}\n/* harmony default export */ var resolution_checker = ({\n  isPolymerElementUnresolved: isPolymerElementUnresolved\n});\n// CONCATENATED MODULE: ./src/polymer/template.js\nfunction polymer_template_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { polymer_template_typeof = function _typeof(obj) { return typeof obj; }; } else { polymer_template_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return polymer_template_typeof(obj); }\n\nfunction polymer_template_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction polymer_template_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction polymer_template_createClass(Constructor, protoProps, staticProps) { if (protoProps) polymer_template_defineProperties(Constructor.prototype, protoProps); if (staticProps) polymer_template_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction polymer_template_possibleConstructorReturn(self, call) { if (call && (polymer_template_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return polymer_template_assertThisInitialized(self); }\n\nfunction polymer_template_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction polymer_template_getPrototypeOf(o) { polymer_template_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return polymer_template_getPrototypeOf(o); }\n\nfunction polymer_template_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) polymer_template_setPrototypeOf(subClass, superClass); }\n\nfunction polymer_template_setPrototypeOf(o, p) { polymer_template_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return polymer_template_setPrototypeOf(o, p); }\n\n\n\n\nvar template_PolymerTemplate = /*#__PURE__*/function (_CellsBridgeTemplate) {\n  polymer_template_inherits(PolymerTemplate, _CellsBridgeTemplate);\n\n  function PolymerTemplate() {\n    polymer_template_classCallCheck(this, PolymerTemplate);\n\n    return polymer_template_possibleConstructorReturn(this, polymer_template_getPrototypeOf(PolymerTemplate).apply(this, arguments));\n  }\n\n  polymer_template_createClass(PolymerTemplate, [{\n    key: \"isUnresolved\",\n    value: function isUnresolved() {\n      return isPolymerElementUnresolved(this.node);\n    }\n  }]);\n\n  return PolymerTemplate;\n}(CellsBridgeTemplate);\n\n\n// CONCATENATED MODULE: ./src/polymer/manager/template.js\nfunction manager_template_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { manager_template_typeof = function _typeof(obj) { return typeof obj; }; } else { manager_template_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return manager_template_typeof(obj); }\n\nfunction polymer_manager_template_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction polymer_manager_template_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction polymer_manager_template_createClass(Constructor, protoProps, staticProps) { if (protoProps) polymer_manager_template_defineProperties(Constructor.prototype, protoProps); if (staticProps) polymer_manager_template_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction manager_template_possibleConstructorReturn(self, call) { if (call && (manager_template_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return manager_template_assertThisInitialized(self); }\n\nfunction manager_template_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction manager_template_getPrototypeOf(o) { manager_template_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return manager_template_getPrototypeOf(o); }\n\nfunction manager_template_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) manager_template_setPrototypeOf(subClass, superClass); }\n\nfunction manager_template_setPrototypeOf(o, p) { manager_template_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return manager_template_setPrototypeOf(o, p); }\n\n\n\n\nvar template_PolymerTemplateManager = /*#__PURE__*/function (_CellsManagerTemplate) {\n  manager_template_inherits(PolymerTemplateManager, _CellsManagerTemplate);\n\n  function PolymerTemplateManager() {\n    polymer_manager_template_classCallCheck(this, PolymerTemplateManager);\n\n    return manager_template_possibleConstructorReturn(this, manager_template_getPrototypeOf(PolymerTemplateManager).apply(this, arguments));\n  }\n\n  polymer_manager_template_createClass(PolymerTemplateManager, [{\n    key: \"_createCellsTemplate\",\n    value: function _createCellsTemplate(name, spec) {\n      var cellsTemplate = new template_PolymerTemplate(spec);\n\n      var cellsTemplateConfig = this._createCellsTemplateConfig(name);\n\n      cellsTemplate.config(cellsTemplateConfig);\n      return cellsTemplate;\n    }\n  }, {\n    key: \"_createCellsTemplateConfig\",\n    value: function _createCellsTemplateConfig(name) {\n      return {\n        name: name,\n        template: {\n          id: this.parseTemplateId(name),\n          name: this.parseTemplateName(name)\n        }\n      };\n    }\n  }]);\n\n  return PolymerTemplateManager;\n}(manager_template);\n\n\n// CONCATENATED MODULE: ./src/polymer/component.js\nfunction polymer_component_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { polymer_component_typeof = function _typeof(obj) { return typeof obj; }; } else { polymer_component_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return polymer_component_typeof(obj); }\n\nfunction polymer_component_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction polymer_component_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction polymer_component_createClass(Constructor, protoProps, staticProps) { if (protoProps) polymer_component_defineProperties(Constructor.prototype, protoProps); if (staticProps) polymer_component_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction polymer_component_possibleConstructorReturn(self, call) { if (call && (polymer_component_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return polymer_component_assertThisInitialized(self); }\n\nfunction polymer_component_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction polymer_component_getPrototypeOf(o) { polymer_component_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return polymer_component_getPrototypeOf(o); }\n\nfunction polymer_component_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) polymer_component_setPrototypeOf(subClass, superClass); }\n\nfunction polymer_component_setPrototypeOf(o, p) { polymer_component_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return polymer_component_setPrototypeOf(o, p); }\n\n\n\n\nvar component_PolymerComponent = /*#__PURE__*/function (_CellsBridgeComponent) {\n  polymer_component_inherits(PolymerComponent, _CellsBridgeComponent);\n\n  function PolymerComponent() {\n    polymer_component_classCallCheck(this, PolymerComponent);\n\n    return polymer_component_possibleConstructorReturn(this, polymer_component_getPrototypeOf(PolymerComponent).apply(this, arguments));\n  }\n\n  polymer_component_createClass(PolymerComponent, [{\n    key: \"isUnresolved\",\n    value: function isUnresolved() {\n      return isPolymerElementUnresolved(this.node);\n    }\n  }]);\n\n  return PolymerComponent;\n}(CellsBridgeComponent);\n\n\n// CONCATENATED MODULE: ./src/polymer/bridge.js\nfunction polymer_bridge_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { polymer_bridge_typeof = function _typeof(obj) { return typeof obj; }; } else { polymer_bridge_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return polymer_bridge_typeof(obj); }\n\nfunction polymer_bridge_extends() { polymer_bridge_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return polymer_bridge_extends.apply(this, arguments); }\n\nfunction polymer_bridge_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction polymer_bridge_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction polymer_bridge_createClass(Constructor, protoProps, staticProps) { if (protoProps) polymer_bridge_defineProperties(Constructor.prototype, protoProps); if (staticProps) polymer_bridge_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction bridge_possibleConstructorReturn(self, call) { if (call && (polymer_bridge_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return bridge_assertThisInitialized(self); }\n\nfunction bridge_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction bridge_get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { bridge_get = Reflect.get; } else { bridge_get = function _get(target, property, receiver) { var base = bridge_superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return bridge_get(target, property, receiver || target); }\n\nfunction bridge_superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = bridge_getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction bridge_getPrototypeOf(o) { bridge_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return bridge_getPrototypeOf(o); }\n\nfunction bridge_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) bridge_setPrototypeOf(subClass, superClass); }\n\nfunction bridge_setPrototypeOf(o, p) { bridge_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return bridge_setPrototypeOf(o, p); }\n\n\n\n\n\n\n\nvar bridge_CellsPolymerBridge = /*#__PURE__*/function (_CellsBridge) {\n  bridge_inherits(CellsPolymerBridge, _CellsBridge);\n\n  function CellsPolymerBridge(config) {\n    var _this;\n\n    polymer_bridge_classCallCheck(this, CellsPolymerBridge);\n\n    _this = bridge_possibleConstructorReturn(this, bridge_getPrototypeOf(CellsPolymerBridge).call(this, config));\n\n    if (Polymer && config.avoidPolymerEventCache === true) {\n      var origGetEvent = Polymer.Base._getEvent;\n\n      Polymer.Base._getEvent = function (type, bubbles, cancelable) {\n        return origGetEvent(type, bubbles, cancelable, false);\n      };\n    }\n\n    return _this;\n  }\n\n  polymer_bridge_createClass(CellsPolymerBridge, [{\n    key: \"_initDependencies\",\n    value: function _initDependencies(dependencies) {\n      dependencies = polymer_bridge_extends({\n        ComponentConnector: CellsPolymerComponentConnector,\n        TemplateManager: template_PolymerTemplateManager\n      }, dependencies);\n\n      bridge_get(bridge_getPrototypeOf(CellsPolymerBridge.prototype), \"_initDependencies\", this).call(this, dependencies);\n    }\n  }, {\n    key: \"_createCellsComponent\",\n    value: function _createCellsComponent(spec, context) {\n      var cmp = new component_PolymerComponent(spec, context);\n\n      if (spec.featureFlag) {\n        feature_flag_component.extend(cmp, this);\n      }\n\n      return cmp;\n    }\n  }]);\n\n  return CellsPolymerBridge;\n}(core_bridge);\n\n\n// CONCATENATED MODULE: ./src/index.js\n// BUILD_TARGET import statement is replaced by NormalModuleReplacementPlugin at build time with desireed target.\n// Possible values: core, native, polymer.\n\n\n // TARGETS and BUILD_TARGET are injected through Webpack DefinePlugin,\n\nvar TARGET_NAMESPACE = {\"native\":{\"windowExport\":\"CellsNativeBridge\",\"library\":\"cellsNative\",\"file\":\"cells-native-bridge\",\"version\":\"0.11.0\"},\"polymer\":{\"windowExport\":\"CellsPolymerBridge\",\"library\":\"cellsPolymer\",\"file\":\"cells-polymer-bridge\",\"version\":\"3.5.0\"},\"core\":{\"windowExport\":\"CellsBridge\",\"library\":\"cells\",\"file\":\"cells-bridge\",\"version\":\"1.0.0\"}}[\"polymer\"] || {\"native\":{\"windowExport\":\"CellsNativeBridge\",\"library\":\"cellsNative\",\"file\":\"cells-native-bridge\",\"version\":\"0.11.0\"},\"polymer\":{\"windowExport\":\"CellsPolymerBridge\",\"library\":\"cellsPolymer\",\"file\":\"cells-polymer-bridge\",\"version\":\"3.5.0\"},\"core\":{\"windowExport\":\"CellsBridge\",\"library\":\"cells\",\"file\":\"cells-bridge\",\"version\":\"1.0.0\"}}['core'];\nvar windowExport = TARGET_NAMESPACE.windowExport; // We expose Bridge to Browsers\n\nwindow[windowExport] = bridge_CellsPolymerBridge;\n\n/***/ })\n/******/ ]);\n});"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","'use strict';\nvar isObj = require('is-obj');\n\nfunction getPathSegments(path) {\n\tvar pathArr = path.split('.');\n\tvar parts = [];\n\n\tfor (var i = 0; i < pathArr.length; i++) {\n\t\tvar p = pathArr[i];\n\n\t\twhile (p[p.length - 1] === '\\\\' && pathArr[i + 1] !== undefined) {\n\t\t\tp = p.slice(0, -1) + '.';\n\t\t\tp += pathArr[++i];\n\t\t}\n\n\t\tparts.push(p);\n\t}\n\n\treturn parts;\n}\n\nmodule.exports = {\n\tget: function (obj, path, value) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn value === undefined ? obj : value;\n\t\t}\n\n\t\tvar pathArr = getPathSegments(path);\n\n\t\tfor (var i = 0; i < pathArr.length; i++) {\n\t\t\tif (!Object.prototype.propertyIsEnumerable.call(obj, pathArr[i])) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tobj = obj[pathArr[i]];\n\n\t\t\tif (obj === undefined || obj === null) {\n\t\t\t\t// `obj` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t\t// if this is not the last bit of the path, and\n\t\t\t\t// if it did't return `undefined`\n\t\t\t\t// it would return `null` if `obj` is `null`\n\t\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\t\tif (i !== pathArr.length - 1) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\tset: function (obj, path, value) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pathArr = getPathSegments(path);\n\n\t\tfor (var i = 0; i < pathArr.length; i++) {\n\t\t\tvar p = pathArr[i];\n\n\t\t\tif (!isObj(obj[p])) {\n\t\t\t\tobj[p] = {};\n\t\t\t}\n\n\t\t\tif (i === pathArr.length - 1) {\n\t\t\t\tobj[p] = value;\n\t\t\t}\n\n\t\t\tobj = obj[p];\n\t\t}\n\t},\n\n\tdelete: function (obj, path) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pathArr = getPathSegments(path);\n\n\t\tfor (var i = 0; i < pathArr.length; i++) {\n\t\t\tvar p = pathArr[i];\n\n\t\t\tif (i === pathArr.length - 1) {\n\t\t\t\tdelete obj[p];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tobj = obj[p];\n\n\t\t\tif (!isObj(obj)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\n\thas: function (obj, path) {\n\t\tif (!isObj(obj) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar pathArr = getPathSegments(path);\n\n\t\tfor (var i = 0; i < pathArr.length; i++) {\n\t\t\tif (isObj(obj)) {\n\t\t\t\tif (!(pathArr[i] in obj)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tobj = obj[pathArr[i]];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.SEMaaS = factory());\n}(this, (function () { 'use strict';\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  var asyncToGenerator = function (fn) {\n    return function () {\n      var gen = fn.apply(this, arguments);\n      return new Promise(function (resolve, reject) {\n        function step(key, arg) {\n          try {\n            var info = gen[key](arg);\n            var value = info.value;\n          } catch (error) {\n            reject(error);\n            return;\n          }\n\n          if (info.done) {\n            resolve(value);\n          } else {\n            return Promise.resolve(value).then(function (value) {\n              step(\"next\", value);\n            }, function (err) {\n              step(\"throw\", err);\n            });\n          }\n        }\n\n        return step(\"next\");\n      });\n    };\n  };\n\n  var classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var defineProperty = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var toConsumableArray = function (arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  };\n\n  /**\n   * Copyright (c) 2014-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  !function (global) {\n\n    var Op = Object.prototype;\n    var hasOwn = Op.hasOwnProperty;\n    var undefined; // More compressible than void 0.\n    var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n    var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n    var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n    var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n    var inModule = (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\";\n    var runtime = global.regeneratorRuntime;\n    if (runtime) {\n      if (inModule) {\n        // If regeneratorRuntime is defined globally and we're in a module,\n        // make the exports object identical to regeneratorRuntime.\n        module.exports = runtime;\n      }\n      // Don't bother evaluating the rest of this file if the runtime was\n      // already defined globally.\n      return;\n    }\n\n    // Define the runtime globally (as expected by generated code) as either\n    // module.exports (if we're in a module) or a new, empty object.\n    runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n    function wrap(innerFn, outerFn, self, tryLocsList) {\n      // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n      var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n      var generator = Object.create(protoGenerator.prototype);\n      var context = new Context(tryLocsList || []);\n\n      // The ._invoke method unifies the implementations of the .next,\n      // .throw, and .return methods.\n      generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n      return generator;\n    }\n    runtime.wrap = wrap;\n\n    // Try/catch helper to minimize deoptimizations. Returns a completion\n    // record like context.tryEntries[i].completion. This interface could\n    // have been (and was previously) designed to take a closure to be\n    // invoked without arguments, but in all the cases we care about we\n    // already have an existing method we want to call, so there's no need\n    // to create a new function object. We can even get away with assuming\n    // the method takes exactly one argument, since that happens to be true\n    // in every case, so we don't have to touch the arguments object. The\n    // only additional allocation required is the completion record, which\n    // has a stable shape and so hopefully should be cheap to allocate.\n    function tryCatch(fn, obj, arg) {\n      try {\n        return { type: \"normal\", arg: fn.call(obj, arg) };\n      } catch (err) {\n        return { type: \"throw\", arg: err };\n      }\n    }\n\n    var GenStateSuspendedStart = \"suspendedStart\";\n    var GenStateSuspendedYield = \"suspendedYield\";\n    var GenStateExecuting = \"executing\";\n    var GenStateCompleted = \"completed\";\n\n    // Returning this object from the innerFn has the same effect as\n    // breaking out of the dispatch switch statement.\n    var ContinueSentinel = {};\n\n    // Dummy constructor functions that we use as the .constructor and\n    // .constructor.prototype properties for functions that return Generator\n    // objects. For full spec compliance, you may wish to configure your\n    // minifier not to mangle the names of these two functions.\n    function Generator() {}\n    function GeneratorFunction() {}\n    function GeneratorFunctionPrototype() {}\n\n    // This is a polyfill for %IteratorPrototype% for environments that\n    // don't natively support it.\n    var IteratorPrototype = {};\n    IteratorPrototype[iteratorSymbol] = function () {\n      return this;\n    };\n\n    var getProto = Object.getPrototypeOf;\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n      // This environment has a native %IteratorPrototype%; use it instead\n      // of the polyfill.\n      IteratorPrototype = NativeIteratorPrototype;\n    }\n\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n    GeneratorFunctionPrototype.constructor = GeneratorFunction;\n    GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n    // Helper for defining the .next, .throw, and .return methods of the\n    // Iterator interface in terms of a single ._invoke method.\n    function defineIteratorMethods(prototype) {\n      [\"next\", \"throw\", \"return\"].forEach(function (method) {\n        prototype[method] = function (arg) {\n          return this._invoke(method, arg);\n        };\n      });\n    }\n\n    runtime.isGeneratorFunction = function (genFun) {\n      var ctor = typeof genFun === \"function\" && genFun.constructor;\n      return ctor ? ctor === GeneratorFunction ||\n      // For the native GeneratorFunction constructor, the best we can\n      // do is to check its .name property.\n      (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n    };\n\n    runtime.mark = function (genFun) {\n      if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n      } else {\n        genFun.__proto__ = GeneratorFunctionPrototype;\n        if (!(toStringTagSymbol in genFun)) {\n          genFun[toStringTagSymbol] = \"GeneratorFunction\";\n        }\n      }\n      genFun.prototype = Object.create(Gp);\n      return genFun;\n    };\n\n    // Within the body of any async function, `await x` is transformed to\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n    // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n    // meant to be awaited.\n    runtime.awrap = function (arg) {\n      return { __await: arg };\n    };\n\n    function AsyncIterator(generator) {\n      function invoke(method, arg, resolve, reject) {\n        var record = tryCatch(generator[method], generator, arg);\n        if (record.type === \"throw\") {\n          reject(record.arg);\n        } else {\n          var result = record.arg;\n          var value = result.value;\n          if (value && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && hasOwn.call(value, \"__await\")) {\n            return Promise.resolve(value.__await).then(function (value) {\n              invoke(\"next\", value, resolve, reject);\n            }, function (err) {\n              invoke(\"throw\", err, resolve, reject);\n            });\n          }\n\n          return Promise.resolve(value).then(function (unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            resolve(result);\n          }, reject);\n        }\n      }\n\n      var previousPromise;\n\n      function enqueue(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new Promise(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n\n        return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n\n      // Define the unified helper method that is used to implement .next,\n      // .throw, and .return (see defineIteratorMethods).\n      this._invoke = enqueue;\n    }\n\n    defineIteratorMethods(AsyncIterator.prototype);\n    AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n      return this;\n    };\n    runtime.AsyncIterator = AsyncIterator;\n\n    // Note that simple async functions are implemented on top of\n    // AsyncIterator objects; they just return a Promise for the value of\n    // the final result produced by the iterator.\n    runtime.async = function (innerFn, outerFn, self, tryLocsList) {\n      var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n\n      return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function (result) {\n        return result.done ? result.value : iter.next();\n      });\n    };\n\n    function makeInvokeMethod(innerFn, self, context) {\n      var state = GenStateSuspendedStart;\n\n      return function invoke(method, arg) {\n        if (state === GenStateExecuting) {\n          throw new Error(\"Generator is already running\");\n        }\n\n        if (state === GenStateCompleted) {\n          if (method === \"throw\") {\n            throw arg;\n          }\n\n          // Be forgiving, per 25.3.3.3.3 of the spec:\n          // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n          return doneResult();\n        }\n\n        context.method = method;\n        context.arg = arg;\n\n        while (true) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (context.method === \"next\") {\n            // Setting context._sent for legacy support of Babel's\n            // function.sent implementation.\n            context.sent = context._sent = context.arg;\n          } else if (context.method === \"throw\") {\n            if (state === GenStateSuspendedStart) {\n              state = GenStateCompleted;\n              throw context.arg;\n            }\n\n            context.dispatchException(context.arg);\n          } else if (context.method === \"return\") {\n            context.abrupt(\"return\", context.arg);\n          }\n\n          state = GenStateExecuting;\n\n          var record = tryCatch(innerFn, self, context);\n          if (record.type === \"normal\") {\n            // If an exception is thrown from innerFn, we leave state ===\n            // GenStateExecuting and loop back for another invocation.\n            state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n            if (record.arg === ContinueSentinel) {\n              continue;\n            }\n\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          } else if (record.type === \"throw\") {\n            state = GenStateCompleted;\n            // Dispatch the exception by looping back around to the\n            // context.dispatchException(context.arg) call above.\n            context.method = \"throw\";\n            context.arg = record.arg;\n          }\n        }\n      };\n    }\n\n    // Call delegate.iterator[context.method](context.arg) and handle the\n    // result, either by returning a { value, done } result from the\n    // delegate iterator, or by modifying context.method and context.arg,\n    // setting context.delegate to null, and returning the ContinueSentinel.\n    function maybeInvokeDelegate(delegate, context) {\n      var method = delegate.iterator[context.method];\n      if (method === undefined) {\n        // A .throw or .return when the delegate iterator has no .throw\n        // method always terminates the yield* loop.\n        context.delegate = null;\n\n        if (context.method === \"throw\") {\n          if (delegate.iterator.return) {\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            context.method = \"return\";\n            context.arg = undefined;\n            maybeInvokeDelegate(delegate, context);\n\n            if (context.method === \"throw\") {\n              // If maybeInvokeDelegate(context) changed context.method from\n              // \"return\" to \"throw\", let that override the TypeError below.\n              return ContinueSentinel;\n            }\n          }\n\n          context.method = \"throw\";\n          context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n\n        return ContinueSentinel;\n      }\n\n      var record = tryCatch(method, delegate.iterator, context.arg);\n\n      if (record.type === \"throw\") {\n        context.method = \"throw\";\n        context.arg = record.arg;\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      var info = record.arg;\n\n      if (!info) {\n        context.method = \"throw\";\n        context.arg = new TypeError(\"iterator result is not an object\");\n        context.delegate = null;\n        return ContinueSentinel;\n      }\n\n      if (info.done) {\n        // Assign the result of the finished delegate to the temporary\n        // variable specified by delegate.resultName (see delegateYield).\n        context[delegate.resultName] = info.value;\n\n        // Resume execution at the desired location (see delegateYield).\n        context.next = delegate.nextLoc;\n\n        // If context.method was \"throw\" but the delegate handled the\n        // exception, let the outer generator proceed normally. If\n        // context.method was \"next\", forget context.arg since it has been\n        // \"consumed\" by the delegate iterator. If context.method was\n        // \"return\", allow the original .return call to continue in the\n        // outer generator.\n        if (context.method !== \"return\") {\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n      } else {\n        // Re-yield the result returned by the delegate method.\n        return info;\n      }\n\n      // The delegate iterator is finished, so forget it and continue with\n      // the outer generator.\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    // Define Generator.prototype.{next,throw,return} in terms of the\n    // unified ._invoke helper method.\n    defineIteratorMethods(Gp);\n\n    Gp[toStringTagSymbol] = \"Generator\";\n\n    // A Generator should always return itself as the iterator object when the\n    // @@iterator function is called on it. Some browsers' implementations of the\n    // iterator prototype chain incorrectly implement this, causing the Generator\n    // object to not be returned from this call. This ensures that doesn't happen.\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\n    Gp[iteratorSymbol] = function () {\n      return this;\n    };\n\n    Gp.toString = function () {\n      return \"[object Generator]\";\n    };\n\n    function pushTryEntry(locs) {\n      var entry = { tryLoc: locs[0] };\n\n      if (1 in locs) {\n        entry.catchLoc = locs[1];\n      }\n\n      if (2 in locs) {\n        entry.finallyLoc = locs[2];\n        entry.afterLoc = locs[3];\n      }\n\n      this.tryEntries.push(entry);\n    }\n\n    function resetTryEntry(entry) {\n      var record = entry.completion || {};\n      record.type = \"normal\";\n      delete record.arg;\n      entry.completion = record;\n    }\n\n    function Context(tryLocsList) {\n      // The root entry object (effectively a try statement without a catch\n      // or a finally block) gives us a place to store values thrown from\n      // locations where there is no enclosing try statement.\n      this.tryEntries = [{ tryLoc: \"root\" }];\n      tryLocsList.forEach(pushTryEntry, this);\n      this.reset(true);\n    }\n\n    runtime.keys = function (object) {\n      var keys = [];\n      for (var key in object) {\n        keys.push(key);\n      }\n      keys.reverse();\n\n      // Rather than returning an object with a next method, we keep\n      // things simple and return the next function itself.\n      return function next() {\n        while (keys.length) {\n          var key = keys.pop();\n          if (key in object) {\n            next.value = key;\n            next.done = false;\n            return next;\n          }\n        }\n\n        // To avoid creating an additional object, we just hang the .value\n        // and .done properties off the next function object itself. This\n        // also ensures that the minifier will not anonymize the function.\n        next.done = true;\n        return next;\n      };\n    };\n\n    function values(iterable) {\n      if (iterable) {\n        var iteratorMethod = iterable[iteratorSymbol];\n        if (iteratorMethod) {\n          return iteratorMethod.call(iterable);\n        }\n\n        if (typeof iterable.next === \"function\") {\n          return iterable;\n        }\n\n        if (!isNaN(iterable.length)) {\n          var i = -1,\n              next = function next() {\n            while (++i < iterable.length) {\n              if (hasOwn.call(iterable, i)) {\n                next.value = iterable[i];\n                next.done = false;\n                return next;\n              }\n            }\n\n            next.value = undefined;\n            next.done = true;\n\n            return next;\n          };\n\n          return next.next = next;\n        }\n      }\n\n      // Return an iterator with no values.\n      return { next: doneResult };\n    }\n    runtime.values = values;\n\n    function doneResult() {\n      return { value: undefined, done: true };\n    }\n\n    Context.prototype = {\n      constructor: Context,\n\n      reset: function reset(skipTempReset) {\n        this.prev = 0;\n        this.next = 0;\n        // Resetting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        this.sent = this._sent = undefined;\n        this.done = false;\n        this.delegate = null;\n\n        this.method = \"next\";\n        this.arg = undefined;\n\n        this.tryEntries.forEach(resetTryEntry);\n\n        if (!skipTempReset) {\n          for (var name in this) {\n            // Not sure about the optimal order of these conditions:\n            if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n              this[name] = undefined;\n            }\n          }\n        }\n      },\n\n      stop: function stop() {\n        this.done = true;\n\n        var rootEntry = this.tryEntries[0];\n        var rootRecord = rootEntry.completion;\n        if (rootRecord.type === \"throw\") {\n          throw rootRecord.arg;\n        }\n\n        return this.rval;\n      },\n\n      dispatchException: function dispatchException(exception) {\n        if (this.done) {\n          throw exception;\n        }\n\n        var context = this;\n        function handle(loc, caught) {\n          record.type = \"throw\";\n          record.arg = exception;\n          context.next = loc;\n\n          if (caught) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            context.method = \"next\";\n            context.arg = undefined;\n          }\n\n          return !!caught;\n        }\n\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          var record = entry.completion;\n\n          if (entry.tryLoc === \"root\") {\n            // Exception thrown outside of any try block that could handle\n            // it, so set the completion value of the entire function to\n            // throw the exception.\n            return handle(\"end\");\n          }\n\n          if (entry.tryLoc <= this.prev) {\n            var hasCatch = hasOwn.call(entry, \"catchLoc\");\n            var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n            if (hasCatch && hasFinally) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              } else if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else if (hasCatch) {\n              if (this.prev < entry.catchLoc) {\n                return handle(entry.catchLoc, true);\n              }\n            } else if (hasFinally) {\n              if (this.prev < entry.finallyLoc) {\n                return handle(entry.finallyLoc);\n              }\n            } else {\n              throw new Error(\"try statement without catch or finally\");\n            }\n          }\n        }\n      },\n\n      abrupt: function abrupt(type, arg) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n            var finallyEntry = entry;\n            break;\n          }\n        }\n\n        if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n          // Ignore the finally entry if control is not jumping to a\n          // location outside the try/catch block.\n          finallyEntry = null;\n        }\n\n        var record = finallyEntry ? finallyEntry.completion : {};\n        record.type = type;\n        record.arg = arg;\n\n        if (finallyEntry) {\n          this.method = \"next\";\n          this.next = finallyEntry.finallyLoc;\n          return ContinueSentinel;\n        }\n\n        return this.complete(record);\n      },\n\n      complete: function complete(record, afterLoc) {\n        if (record.type === \"throw\") {\n          throw record.arg;\n        }\n\n        if (record.type === \"break\" || record.type === \"continue\") {\n          this.next = record.arg;\n        } else if (record.type === \"return\") {\n          this.rval = this.arg = record.arg;\n          this.method = \"return\";\n          this.next = \"end\";\n        } else if (record.type === \"normal\" && afterLoc) {\n          this.next = afterLoc;\n        }\n\n        return ContinueSentinel;\n      },\n\n      finish: function finish(finallyLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.finallyLoc === finallyLoc) {\n            this.complete(entry.completion, entry.afterLoc);\n            resetTryEntry(entry);\n            return ContinueSentinel;\n          }\n        }\n      },\n\n      \"catch\": function _catch(tryLoc) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var entry = this.tryEntries[i];\n          if (entry.tryLoc === tryLoc) {\n            var record = entry.completion;\n            if (record.type === \"throw\") {\n              var thrown = record.arg;\n              resetTryEntry(entry);\n            }\n            return thrown;\n          }\n        }\n\n        // The context.catch method must only be called with a location\n        // argument that corresponds to a known catch block.\n        throw new Error(\"illegal catch attempt\");\n      },\n\n      delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n        this.delegate = {\n          iterator: values(iterable),\n          resultName: resultName,\n          nextLoc: nextLoc\n        };\n\n        if (this.method === \"next\") {\n          // Deliberately forget the last sent value so that we don't\n          // accidentally pass it on to the delegate.\n          this.arg = undefined;\n        }\n\n        return ContinueSentinel;\n      }\n    };\n  }(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  function () {\n    return this;\n  }() || Function(\"return this\")());\n\n  var SEMAAS_REQUIRED_FIELDS = ['consumerId', 'policy', 'mrId', 'nameSpace', 'region', 'dnsTld', 'tsec2JWTEndpoint'];\n\n  var SEMAAS = {\n    DEFAULT_ADAPTER_IDENTIFIER: 'application',\n    DEFAULT_ADAPTER_VERSION: 'v1',\n    REQUIRED_FIELDS: SEMAAS_REQUIRED_FIELDS,\n    ALLOWED_FIELDS: [].concat(SEMAAS_REQUIRED_FIELDS, ['identifier', 'version'])\n  };\n\n  var buildServiceUri = function buildServiceUri(codename) {\n    return function (region, dnsTld, version) {\n      return 'https://' + codename + '.' + [region, dnsTld].filter(Boolean).join('.') + '/' + version;\n    };\n  };\n\n  var RHO = {\n    HOST: buildServiceUri('rho'),\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'startDate', 'finishDate', 'name', 'parentSpan', 'traceId', 'properties', 'duration', 'recordDate'],\n    REQUIRED_FIELDS: []\n  };\n\n  var OMEGA = {\n    HOST: buildServiceUri('omega'),\n    DEFAULT_LOG_LEVEL: 'DEBUG',\n    ALLOWED_FIELDS: ['mrId', 'spanId', 'traceId', 'creationDate', 'level', 'message', 'properties'],\n    MAXIMUM_BULK_SIZE: 1000,\n    REQUIRED_FIELDS: []\n  };\n\n  // const TSEC2JWT = {\n  //   HOST: environment => `https://tsec2jwt.smlb.${environment}.meigas.cloud/v1/Token`,\n  // };\n\n  var Constants = {\n    SEMAAS: SEMAAS,\n    RHO: RHO,\n    OMEGA: OMEGA\n    // TSEC2JWT,\n  };\n\n  // credits to GeenenTijd/dotify\n  // https://github.com/GeenenTijd/dotify/blob/master/dotify.js\n  var dotify = function dotify(obj) {\n    var SEPARATOR_KEY = '_';\n    var res = {};\n    var recurse = function recurse(obj, current) {\n      Object.keys(obj).forEach(function (key) {\n        var value = obj[key];\n        var newKey = current ? current + SEPARATOR_KEY + key : key; // joined key with dot\n        if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n          recurse(value, newKey); // it's a nested object, so do it again\n        } else {\n          res[newKey] = value; // it's not an object, so set the property\n        }\n      });\n    };\n\n    recurse(obj);\n    return res;\n  };\n  var sanitizeObj = function sanitizeObj(obj, allowedFields) {\n    var result = _extends({}, obj);\n\n    Object.keys(result).forEach(function (prop) {\n      if (!allowedFields.includes(prop)) {\n        delete result[prop];\n      }\n    });\n\n    if (result.properties) {\n      result.properties = dotify(result.properties);\n    }\n\n    return result;\n  };\n  var hasProperty = function hasProperty(obj) {\n    return function (field) {\n      return Object.prototype.hasOwnProperty.call(obj, field) && !!obj[field];\n    };\n  };\n  var hasProperties = function hasProperties(obj, expectedFields) {\n    return expectedFields.every(hasProperty(obj));\n  };\n  var groupBy = function groupBy(items, value) {\n    return items.reduce(function (prev, current) {\n      var key = value instanceof Function ? value(current) : current[value];\n      var itemsContainingKey = prev.find(function (r) {\n        return r && r.key === key;\n      });\n\n      if (itemsContainingKey) {\n        itemsContainingKey.values.push(current);\n      } else {\n        prev.push({ key: key, values: [current] });\n      }\n\n      return prev;\n    }, []);\n  };\n  var createUUID = function createUUID() {\n    var s = [];\n    var hexDigits = '0123456789abcdef';\n    for (var i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n    }\n    s[14] = '4'; // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr(s[19] & 0x3 | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = '-';\n\n    var uuid = s.join('');\n    return uuid;\n  };\n\n  var Utils = {\n    dotify: dotify,\n    sanitizeObj: sanitizeObj,\n    hasProperty: hasProperty,\n    hasProperties: hasProperties,\n    groupBy: groupBy,\n    createUUID: createUUID\n  };\n\n  var OMEGA$1 = Constants.OMEGA;\n  var DEFAULT_LOG_LEVEL = OMEGA$1.DEFAULT_LOG_LEVEL,\n      ALLOWED_FIELDS = OMEGA$1.ALLOWED_FIELDS;\n  var sanitizeObj$1 = Utils.sanitizeObj;\n\n  var Omega = function () {\n    function Omega(mrId) {\n      classCallCheck(this, Omega);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    // @TODO renombrar a normalizeLog? buildLog?\n    /*static*/\n\n    createClass(Omega, [{\n      key: 'createLog',\n      value: function createLog(obj) {\n        var mrId = this.mrId;\n\n        var sanitizedData = sanitizeObj$1(obj, ALLOWED_FIELDS);\n        var DEFAULT_LOG = {\n          mrId: mrId,\n          creationDate: Date.now() * 1000000,\n          level: DEFAULT_LOG_LEVEL\n        };\n\n        return _extends({}, DEFAULT_LOG, sanitizedData);\n      }\n    }]);\n    return Omega;\n  }();\n\n  var RHO$1 = Constants.RHO;\n  var ALLOWED_FIELDS$1 = RHO$1.ALLOWED_FIELDS;\n  var sanitizeObj$2 = Utils.sanitizeObj,\n      _createUUID = Utils.createUUID;\n\n  var Span = function () {\n    function Span(config) {\n      classCallCheck(this, Span);\n      this.spanId = null;\n\n      this.initialize(config);\n    }\n\n    createClass(Span, [{\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$1.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        this.spanId = _createUUID();\n        this.start();\n      }\n    }, {\n      key: 'start',\n      value: function start() {\n        this.startDate = Date.now() * 1000000;\n      }\n    }, {\n      key: 'finish',\n      value: function finish() {\n        this.finishDate = Date.now() * 1000000;\n      }\n    }]);\n    return Span;\n  }();\n\n  var Rho = function () {\n    function Rho(mrId) {\n      classCallCheck(this, Rho);\n      this.mrId = null;\n\n      this.mrId = mrId;\n    }\n\n    createClass(Rho, [{\n      key: 'createUUID',\n      value: function createUUID() {\n        return _createUUID();\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(rawData, childSpanPrefix) {\n        var DEFAULT_MR_ID = this.mrId;\n        var _rawData$mrId = rawData.mrId,\n            mrId = _rawData$mrId === undefined ? DEFAULT_MR_ID : _rawData$mrId,\n            parentSpan = rawData.parentSpan;\n\n        var normalizedParentSpan = this.getParentSpan(parentSpan, mrId, childSpanPrefix);\n        var data = _extends({}, rawData, {\n          mrId: mrId,\n          parentSpan: normalizedParentSpan\n        });\n        var span = new Span(data);\n\n        return span;\n      }\n    }, {\n      key: 'buildSpans',\n      value: function buildSpans(data) {\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        return iterableData.map(function (item) {\n          return sanitizeObj$2(item, ALLOWED_FIELDS$1);\n        });\n      }\n    }, {\n      key: 'getParentSpan',\n      value: function getParentSpan(parentSpan, mrId, childSpanPrefix) {\n        if (!parentSpan) {\n          return null;\n        }\n\n        return [childSpanPrefix, mrId, 'spans', parentSpan].join('/');\n      }\n    }]);\n    return Rho;\n  }();\n\n  var Adapters = {\n    Omega: Omega,\n    Rho: Rho\n  };\n\n  function request(method) {\n    var _this = this;\n\n    return function () {\n      var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(options) {\n        var url, body, headers, configuration, response, result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = options.url, body = options.body, headers = options.headers;\n                configuration = {\n                  method: method,\n                  body: JSON.stringify(body),\n                  headers: {\n                    'content-type': 'application/json'\n                  }\n                };\n\n\n                if (headers) {\n                  Object.keys(headers).forEach(function (header) {\n                    var headerValue = headers[header];\n\n                    configuration.headers[header] = headerValue;\n                  });\n                }\n\n                // OJO!!!\n                // Interceptar aqu errores\n                _context.next = 5;\n                return fetch(url, configuration);\n\n              case 5:\n                response = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt('return', null);\n\n              case 8:\n                result = {};\n                _context.prev = 9;\n                _context.next = 12;\n                return response.json();\n\n              case 12:\n                result = _context.sent;\n                _context.next = 17;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context['catch'](9);\n\n              case 17:\n                return _context.abrupt('return', result);\n\n              case 18:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this, [[9, 15]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n\n  var METHODS = {\n    GET: request('get'),\n    POST: request('post')\n  };\n\n  var Connector = function () {\n    function Connector() {\n      classCallCheck(this, Connector);\n    }\n\n    createClass(Connector, null, [{\n      key: 'get',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(url, headers) {\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  return _context2.abrupt('return', METHODS.GET({ url: url, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function get$$1(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return get$$1;\n      }()\n    }, {\n      key: 'post',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(url, body, headers) {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  return _context3.abrupt('return', METHODS.POST({ url: url, body: body, headers: headers }));\n\n                case 1:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function post(_x4, _x5, _x6) {\n          return _ref3.apply(this, arguments);\n        }\n\n        return post;\n      }()\n    }]);\n    return Connector;\n  }();\n\n  /** Default debounce duration (in ms) */\n  var DEFAULT_DEBOUNCE_DURATION = 500;\n\n  /** Decorates a class method so that it is debounced by the specified duration */\n  function outerDecorator(duration) {\n    return function innerDecorator(target, key, descriptor) {\n      return {\n        configurable: true,\n        enumerable: descriptor.enumerable,\n        get: function getter() {\n          // Attach this function to the instance (not the class)\n          Object.defineProperty(this, key, {\n            configurable: true,\n            enumerable: descriptor.enumerable,\n            value: debounce(descriptor.value, duration)\n          });\n\n          return this[key];\n        }\n      };\n    };\n  }\n\n  /** Debounces the specified function and returns a wrapper function */\n  function debounce(method) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_DEBOUNCE_DURATION;\n\n    var timeoutId = void 0;\n\n    function debounceWrapper() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      debounceWrapper.clear();\n\n      timeoutId = setTimeout(function () {\n        timeoutId = null;\n        method.apply(_this, args);\n      }, duration);\n    }\n\n    debounceWrapper.clear = function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n    };\n\n    return debounceWrapper;\n  }\n\n  var decorate = function decorate(decorators) {\n    return function (obj, prop, descriptor) {\n      var fn = descriptor.value;\n\n      decorators.slice().reverse().forEach(function (decorator) {\n        return fn = decorator(fn);\n      });\n\n      return _extends({}, descriptor, {\n        value: fn\n      });\n    };\n  };\n\n  var Decorators = {\n    outerDecorator: outerDecorator,\n    decorate: decorate\n  };\n\n  var groupBy$1 = Utils.groupBy;\n\n\n  var MAXIMUM_BULK_SIZE = 1000;\n\n  var Queue = function () {\n\n    // maximumBulkSize = null;\n\n    function Queue(identifier) {\n      classCallCheck(this, Queue);\n      this.items = [];\n      this.identifier = null;\n\n      this.identifier = identifier;\n    }\n\n    createClass(Queue, [{\n      key: 'add',\n      value: function add(endpoint, data) {\n        var _this = this;\n\n        var iterableData = Array.isArray(data) ? [].concat(toConsumableArray(data)) : [data];\n\n        iterableData.forEach(function (item) {\n          var operation = {\n            data: item,\n            endpoint: endpoint\n          };\n\n          _this.items.push(operation);\n        });\n      }\n    }, {\n      key: 'dump',\n      value: function dump() /*maximumBulkSize*/{\n        if (!this.any()) {\n          return null;\n        }\n\n        var queueGroupedByEndpoint = groupBy$1(this.items, 'endpoint');\n        var firstQueueGroup = queueGroupedByEndpoint[0].values;\n\n        var bulk = firstQueueGroup.slice(0, MAXIMUM_BULK_SIZE);\n        var newQueue = this.items.filter(function (item) {\n          return !bulk.includes(item);\n        });\n\n        console.log('Dumping ' + bulk.length + ' items from ' + this.identifier + ' queue (' + this.items.length + ')...');\n\n        this.items = newQueue;\n\n        return bulk;\n      }\n    }, {\n      key: 'any',\n      value: function any() {\n        return this.items !== null && this.items.length > 0;\n      }\n    }]);\n    return Queue;\n  }();\n\n  var _dec, _class;\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object['ke' + 'ys'](descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object['define' + 'Property'](target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var Omega$1 = Adapters.Omega,\n      Rho$1 = Adapters.Rho;\n  var _Constants$SEMAAS = Constants.SEMAAS,\n      REQUIRED_FIELDS = _Constants$SEMAAS.REQUIRED_FIELDS,\n      ALLOWED_FIELDS$2 = _Constants$SEMAAS.ALLOWED_FIELDS,\n      DEFAULT_ADAPTER_IDENTIFIER = _Constants$SEMAAS.DEFAULT_ADAPTER_IDENTIFIER,\n      DEFAULT_ADAPTER_VERSION = _Constants$SEMAAS.DEFAULT_ADAPTER_VERSION,\n      OMEGA_HOST = Constants.OMEGA.HOST,\n      RHO_HOST = Constants.RHO.HOST;\n  var hasProperties$1 = Utils.hasProperties;\n  var outerDecorator$1 = Decorators.outerDecorator;\n  var SEMaaS = (_dec = outerDecorator$1(5000), (_class = function () {\n\n    // properties that belong to semaas life cycle and rely on configurable properties\n    function SEMaaS(config) {\n      classCallCheck(this, SEMaaS);\n      this.nameSpace = null;\n      this.identifier = DEFAULT_ADAPTER_IDENTIFIER;\n      this.mrId = null;\n      this.consumerId = null;\n      this.policy = null;\n      this.region = null;\n      this.dnsTld = null;\n      this.version = DEFAULT_ADAPTER_VERSION;\n      this.tsec2JWTEndpoint = null;\n      this.apiKey = null;\n      this.omega = null;\n      this.rho = null;\n      this.queue = null;\n\n      this.setup(config);\n    }\n\n    // composition entitys\n\n    // configurable properties by constructor\n\n\n    createClass(SEMaaS, [{\n      key: 'setup',\n      value: function setup(config) {\n        if (!config || !this.validateConfig(config, REQUIRED_FIELDS)) {\n          throw new Error('Invalid setup for SEMaaS adapter (' + this.identifier + '). Required fields: ' + REQUIRED_FIELDS.join(', ') + '.');\n        }\n\n        this.initialize(config);\n      }\n    }, {\n      key: 'validateConfig',\n      value: function validateConfig(config, expectedFields) {\n        return hasProperties$1(config, expectedFields);\n      }\n    }, {\n      key: 'initialize',\n      value: function initialize(config) {\n        var _this = this;\n\n        ALLOWED_FIELDS$2.forEach(function (field) {\n          if (config[field]) {\n            _this[field] = config[field];\n          }\n        });\n\n        var nameSpace = this.nameSpace,\n            identifier = this.identifier,\n            mrId = this.mrId,\n            tsec2JWTEndpoint = this.tsec2JWTEndpoint,\n            region = this.region,\n            dnsTld = this.dnsTld,\n            version = this.version;\n\n\n        this.omega = new Omega$1(mrId);\n        this.rho = new Rho$1(mrId);\n        this.queue = new Queue(identifier);\n\n        console.info('SEMaaS adapter for ' + region + ' (TSEC: ' + tsec2JWTEndpoint + ') [' + dnsTld + ' - ' + version + '] (' + identifier + ' - ns: ' + nameSpace + ', mrId: ' + mrId + ') successfully initialized.');\n      }\n    }, {\n      key: 'log',\n      value: function log(obj) {\n        var data = this.omega.createLog(obj);\n\n        this.enqueue(this.omegaEndpoint, data);\n      }\n    }, {\n      key: 'ingest',\n      value: function ingest(spans) {\n        var data = this.rho.buildSpans(spans);\n\n        this.enqueue(this.rhoEndpoint, data);\n      }\n    }, {\n      key: 'createSpan',\n      value: function createSpan(data) {\n        var span = this.rho.createSpan(data, this.prefixForChildSpan);\n\n        return span;\n      }\n    }, {\n      key: 'createUUID',\n      value: function createUUID() {\n        var UUID = this.rho.createUUID();\n\n        return UUID;\n      }\n    }, {\n      key: 'send',\n      value: function () {\n        var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url, body, headers) {\n          var result;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  result = void 0;\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return Connector.post(url, body, headers);\n\n                case 4:\n                  result = _context.sent;\n                  _context.next = 9;\n                  break;\n\n                case 7:\n                  _context.prev = 7;\n                  _context.t0 = _context['catch'](1);\n\n                case 9:\n\n                  if (!result) {\n                    console.log('There was a problem while sending data to SEMaaS - operation will be queued.');\n\n                    this.enqueue(url, body);\n                  }\n\n                  return _context.abrupt('return', result);\n\n                case 11:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[1, 7]]);\n        }));\n\n        function send(_x, _x2, _x3) {\n          return _ref.apply(this, arguments);\n        }\n\n        return send;\n      }()\n    }, {\n      key: 'enqueue',\n      value: function enqueue(url, body) {\n        this.queue.add(url, body);\n        this.flush();\n      }\n\n      // @decorate([tsec2jwt, outerDecorator(5000)])\n\n    }, {\n      key: 'flush',\n      value: function () {\n        var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n          var _this2 = this;\n\n          var validApiKey, bulk, endpoint, apiKey, body, headers;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return this.ensureValidApiKey();\n\n                case 2:\n                  validApiKey = _context2.sent;\n\n                  if (validApiKey) {\n                    _context2.next = 6;\n                    break;\n                  }\n\n                  console.log('No valid API Key for SEMaaS adapter (' + this.identifier + ') - aborting operation');\n                  return _context2.abrupt('return');\n\n                case 6:\n                  bulk = this.queue.dump();\n\n                  if (bulk) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  console.log('Empty queue for SEMaaS adapter (' + this.identifier + ')');\n                  return _context2.abrupt('return');\n\n                case 10:\n                  endpoint = bulk[0].endpoint;\n                  apiKey = this.apiKey;\n\n\n                  console.log('Sending queued batch ' + endpoint + ' - ' + apiKey);\n\n                  body = bulk.map(function (operation) {\n                    return operation.data;\n                  });\n                  headers = this.buildApiHeaders();\n\n                  // if bulk send is OK, and there are more items, we try to flush the buffer\n\n                  this.send(endpoint, body, headers).then(function () {\n                    return _this2.queue.any() && _this2.flush();\n                  });\n\n                case 16:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function flush() {\n          return _ref2.apply(this, arguments);\n        }\n\n        return flush;\n      }()\n    }, {\n      key: 'ensureValidApiKey',\n      value: function () {\n        var _ref3 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!this.hasApiKey) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  console.log('ApiKey OK -> next()');\n                  return _context3.abrupt('return', true);\n\n                case 5:\n                  if (!this.hasCredentials) {\n                    _context3.next = 8;\n                    break;\n                  }\n\n                  console.log('ApiKey KO, Credentials OK -> getApiKey()');\n                  return _context3.abrupt('return', this.getApiKey());\n\n                case 8:\n\n                  console.log('No ApiKey && No Credentials -> KO');\n                  return _context3.abrupt('return', false);\n\n                case 10:\n                case 'end':\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function ensureValidApiKey() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return ensureValidApiKey;\n      }()\n    }, {\n      key: 'buildApiHeaders',\n      value: function buildApiHeaders() {\n        var key = void 0;\n        var value = void 0;\n\n        switch (this.version.toLowerCase()) {\n          case 'v1':\n            key = 'Authorization';\n            value = 'Bearer ' + this.apiKey;\n            break;\n          default:\n            key = 'Api-Key';\n            value = 'jwt ' + this.apiKey;\n            break;\n        }\n\n        return defineProperty({}, key, value);\n      }\n    }, {\n      key: 'getApiKey',\n      value: function () {\n        var _ref5 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n          var consumerId, policy, tsec2JWTEndpoint, headers, host, result, accessToken;\n          return regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  consumerId = this.consumerId, policy = this.policy, tsec2JWTEndpoint = this.tsec2JWTEndpoint;\n                  headers = {\n                    'x-consumer-id': consumerId,\n                    'x-tsec-token': window.sessionStorage.getItem('tsec'),\n                    'x-validation-policy': policy\n                  };\n                  host = tsec2JWTEndpoint;\n                  _context4.next = 5;\n                  return Connector.get(host, headers);\n\n                case 5:\n                  result = _context4.sent;\n\n                  if (result) {\n                    _context4.next = 8;\n                    break;\n                  }\n\n                  return _context4.abrupt('return', null);\n\n                case 8:\n                  accessToken = result.accessToken;\n\n\n                  this.apiKey = accessToken;\n                  return _context4.abrupt('return', accessToken);\n\n                case 11:\n                case 'end':\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function getApiKey() {\n          return _ref5.apply(this, arguments);\n        }\n\n        return getApiKey;\n      }()\n    }, {\n      key: 'getEndpoint',\n      value: function getEndpoint(host) {\n        var region = this.region,\n            dnsTld = this.dnsTld,\n            version = this.version;\n\n\n        return host(region, dnsTld, version);\n      }\n    }, {\n      key: 'hasApiKey',\n      get: function get$$1() {\n        // @TODO aadir lgica recuperacin + persistencia sessionStorage jwt\n        return !!this.apiKey;\n      }\n    }, {\n      key: 'hasCredentials',\n      get: function get$$1() {\n        return !!this.consumerId && !!this.policy && !!this.tsec;\n      }\n    }, {\n      key: 'initialized',\n      get: function get$$1() {\n        return !!this.omega && !!this.rho;\n      }\n    }, {\n      key: 'omegaEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEndpoint(OMEGA_HOST);\n\n        return host + '/ns/' + nameSpace + '/logs';\n      }\n    }, {\n      key: 'rhoEndpoint',\n      get: function get$$1() {\n        var nameSpace = this.nameSpace;\n\n        var host = this.getEndpoint(RHO_HOST);\n\n        return host + '/ns/' + nameSpace + '/spans';\n      }\n    }, {\n      key: 'prefixForChildSpan',\n      get: function get$$1() {\n        return 'ns/' + this.nameSpace + '/mrs';\n      }\n    }, {\n      key: 'tsec',\n      get: function get$$1() {\n        return window.sessionStorage.getItem('tsec');\n      }\n    }]);\n    return SEMaaS;\n  }(), (_applyDecoratedDescriptor(_class.prototype, 'flush', [_dec], Object.getOwnPropertyDescriptor(_class.prototype, 'flush'), _class.prototype)), _class));\n\n  return SEMaaS;\n\n})));\n//# sourceMappingURL=cells-semaas-adapter.js.map\n","if (!Object.values) {\n\tObject.values = function values(obj) {\n    return Object.keys(obj).map(function (key) {\n  \t\treturn obj[key];\n  \t});\n\t};\n}\n\nif (!Object.entries) {\n  Object.entries = function( obj ){\n    var ownProps = Object.keys( obj ),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n    while (i--)\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n\n    return resArray;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function(searchString, position) {\n      var subjectString = this.toString();\n      if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n        position = subjectString.length;\n      }\n      position -= searchString.length;\n      var lastIndex = subjectString.indexOf(searchString, position);\n      return lastIndex !== -1 && lastIndex === position;\n  };\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function noop() { }\n//# sourceMappingURL=noop.js.map\n","/** PURE_IMPORTS_START _noop PURE_IMPORTS_END */\nimport { noop } from './noop';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (!fns) {\n        return noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\nvar MapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map\n","/** PURE_IMPORTS_START _Observable,_util_isArray,_util_isFunction,_operators_map PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { map } from '../operators/map';\nvar toString = /*@__PURE__*/ (function () { return Object.prototype.toString; })();\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(map(function (args) { return isArray(args) ? resultSelector.apply(void 0, args) : resultSelector(args); }));\n    }\n    return new Observable(function (subscriber) {\n        function handler(e) {\n            if (arguments.length > 1) {\n                subscriber.next(Array.prototype.slice.call(arguments));\n            }\n            else {\n                subscriber.next(e);\n            }\n        }\n        setupSubscription(target, eventName, handler, subscriber, options);\n    });\n}\nfunction setupSubscription(sourceObj, eventName, handler, subscriber, options) {\n    var unsubscribe;\n    if (isEventTarget(sourceObj)) {\n        var source_1 = sourceObj;\n        sourceObj.addEventListener(eventName, handler, options);\n        unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };\n    }\n    else if (isJQueryStyleEventEmitter(sourceObj)) {\n        var source_2 = sourceObj;\n        sourceObj.on(eventName, handler);\n        unsubscribe = function () { return source_2.off(eventName, handler); };\n    }\n    else if (isNodeStyleEventEmitter(sourceObj)) {\n        var source_3 = sourceObj;\n        sourceObj.addListener(eventName, handler);\n        unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n    }\n    else if (sourceObj && sourceObj.length) {\n        for (var i = 0, len = sourceObj.length; i < len; i++) {\n            setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n        }\n    }\n    else {\n        throw new TypeError('Invalid event target');\n    }\n    subscriber.add(unsubscribe);\n}\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isEventTarget(sourceObj) {\n    return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n//# sourceMappingURL=fromEvent.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nvar FilterOperator = /*@__PURE__*/ (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber));\n//# sourceMappingURL=filter.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport var EMPTY = /*@__PURE__*/ new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\n//# sourceMappingURL=isScheduler.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeToArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeToArray } from '../util/subscribeToArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToArray(input));\n    }\n    else {\n        return scheduleArray(input, scheduler);\n    }\n}\n//# sourceMappingURL=fromArray.js.map\n","/** PURE_IMPORTS_START _util_isScheduler,_fromArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler(scheduler)) {\n        args.pop();\n        return scheduleArray(args, scheduler);\n    }\n    else {\n        return fromArray(args);\n    }\n}\n//# sourceMappingURL=of.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport function throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/ getSymbolIterator();\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n","/** PURE_IMPORTS_START _InnerSubscriber,_subscribeTo,_Observable PURE_IMPORTS_END */\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeTo } from './subscribeTo';\nimport { Observable } from '../Observable';\nexport function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {\n    if (innerSubscriber === void 0) {\n        innerSubscriber = new InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    }\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=subscribeToResult.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[Symbol_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            return input.then(function (value) {\n                sub.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            });\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function scheduleIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var iterator;\n        sub.add(function () {\n            if (iterator && typeof iterator.return === 'function') {\n                iterator.return();\n            }\n        });\n        sub.add(scheduler.schedule(function () {\n            iterator = input[Symbol_iterator]();\n            sub.add(scheduler.schedule(function () {\n                if (subscriber.closed) {\n                    return;\n                }\n                var value;\n                var done;\n                try {\n                    var result = iterator.next();\n                    value = result.value;\n                    done = result.done;\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function isInteropObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n","/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */\nimport { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=scheduled.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { scheduled } from '../scheduled/scheduled';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    else {\n        return scheduled(input, scheduler);\n    }\n}\n//# sourceMappingURL=from.js.map\n","/** PURE_IMPORTS_START tslib,_util_subscribeToResult,_OuterSubscriber,_InnerSubscriber,_map,_observable_from PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { map } from './map';\nimport { from } from '../observable/from';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };\n}\nvar MergeMapOperator = /*@__PURE__*/ (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexport { MergeMapOperator };\nvar MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        var innerSubscriber = new InnerSubscriber(this, value, index);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = subscribeToResult(this, ish, undefined, undefined, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber));\nexport { MergeMapSubscriber };\n//# sourceMappingURL=mergeMap.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n","/** PURE_IMPORTS_START _mergeMap,_util_identity PURE_IMPORTS_END */\nimport { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map\n","/** PURE_IMPORTS_START _Observable,_util_isScheduler,_operators_mergeAll,_fromArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isScheduler } from '../util/isScheduler';\nimport { mergeAll } from '../operators/mergeAll';\nimport { fromArray } from './fromArray';\nexport function merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n        return observables[0];\n    }\n    return mergeAll(concurrent)(fromArray(observables, scheduler));\n}\n//# sourceMappingURL=merge.js.map\n","/** PURE_IMPORTS_START _mergeAll PURE_IMPORTS_END */\nimport { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map\n","/** PURE_IMPORTS_START _of,_operators_concatAll PURE_IMPORTS_END */\nimport { of } from './of';\nimport { concatAll } from '../operators/concatAll';\nexport function concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return concatAll()(of.apply(void 0, observables));\n}\n//# sourceMappingURL=concat.js.map\n","/** PURE_IMPORTS_START _observable_concat,_util_isScheduler PURE_IMPORTS_END */\nimport { concat } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\nexport function startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i] = arguments[_i];\n    }\n    var scheduler = array[array.length - 1];\n    if (isScheduler(scheduler)) {\n        array.pop();\n        return function (source) { return concat(array, source, scheduler); };\n    }\n    else {\n        return function (source) { return concat(array, source); };\n    }\n}\n//# sourceMappingURL=startWith.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nvar DistinctUntilChangedOperator = /*@__PURE__*/ (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\nvar DistinctUntilChangedSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.hasKey = false;\n        if (typeof compare === 'function') {\n            _this.compare = compare;\n        }\n        return _this;\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            var keySelector = this.keySelector;\n            key = keySelector ? keySelector(value) : value;\n        }\n        catch (err) {\n            return this.destination.error(err);\n        }\n        var result = false;\n        if (this.hasKey) {\n            try {\n                var compare = this.compare;\n                result = compare(this.key, key);\n            }\n            catch (err) {\n                return this.destination.error(err);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (!result) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nexport function take(count) {\n    return function (source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeOperator(count));\n        }\n    };\n}\nvar TakeOperator = /*@__PURE__*/ (function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\nvar TakeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        var count = ++this.count;\n        if (count <= total) {\n            this.destination.next(value);\n            if (count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=take.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) {\n        defaultValue = null;\n    }\n    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };\n}\nvar DefaultIfEmptyOperator = /*@__PURE__*/ (function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n    return DefaultIfEmptyOperator;\n}());\nvar DefaultIfEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DefaultIfEmptySubscriber, _super);\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n        var _this = _super.call(this, destination) || this;\n        _this.defaultValue = defaultValue;\n        _this.isEmpty = true;\n        return _this;\n    }\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    };\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    };\n    return DefaultIfEmptySubscriber;\n}(Subscriber));\n//# sourceMappingURL=defaultIfEmpty.js.map\n","/** PURE_IMPORTS_START tslib,_util_EmptyError,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { EmptyError } from '../util/EmptyError';\nimport { Subscriber } from '../Subscriber';\nexport function throwIfEmpty(errorFactory) {\n    if (errorFactory === void 0) {\n        errorFactory = defaultErrorFactory;\n    }\n    return function (source) {\n        return source.lift(new ThrowIfEmptyOperator(errorFactory));\n    };\n}\nvar ThrowIfEmptyOperator = /*@__PURE__*/ (function () {\n    function ThrowIfEmptyOperator(errorFactory) {\n        this.errorFactory = errorFactory;\n    }\n    ThrowIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrowIfEmptySubscriber(subscriber, this.errorFactory));\n    };\n    return ThrowIfEmptyOperator;\n}());\nvar ThrowIfEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ThrowIfEmptySubscriber, _super);\n    function ThrowIfEmptySubscriber(destination, errorFactory) {\n        var _this = _super.call(this, destination) || this;\n        _this.errorFactory = errorFactory;\n        _this.hasValue = false;\n        return _this;\n    }\n    ThrowIfEmptySubscriber.prototype._next = function (value) {\n        this.hasValue = true;\n        this.destination.next(value);\n    };\n    ThrowIfEmptySubscriber.prototype._complete = function () {\n        if (!this.hasValue) {\n            var err = void 0;\n            try {\n                err = this.errorFactory();\n            }\n            catch (e) {\n                err = e;\n            }\n            this.destination.error(err);\n        }\n        else {\n            return this.destination.complete();\n        }\n    };\n    return ThrowIfEmptySubscriber;\n}(Subscriber));\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map\n","/** PURE_IMPORTS_START _util_EmptyError,_filter,_take,_defaultIfEmpty,_throwIfEmpty,_util_identity PURE_IMPORTS_END */\nimport { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\nexport function first(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) { return source.pipe(predicate ? filter(function (v, i) { return predicate(v, i, source); }) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () { return new EmptyError(); })); };\n}\n//# sourceMappingURL=first.js.map\n","\nimport { BRIDGE_CHANNEL_KEY, BRIDGE_BIND_KEY, lastValue } from './feature-flag-collection';\n\nexport function defaultChangedCallback(fn) {\n  if(typeof fn === 'function') {\n    _defaultCallbackElement = fn;\n  }\n}\n\nexport function extend(cellsComponent, bridge) {\n  let extraConnections = _defaultConnections();\n  let spec = cellsComponent.spec;\n  let nodeFFCallback = cellsComponent.node[BRIDGE_BIND_KEY] || _defaultCallbackElement;\n  Object.defineProperty(cellsComponent.node, BRIDGE_BIND_KEY, {\n    value: () => _nodeFFCallbackWrap(cellsComponent, bridge, nodeFFCallback)\n  });\n  // update connections with new connection of FeatureFlag\n  if(spec.connections && spec.connections.in) {\n    Object.assign(spec.connections.in, extraConnections.in)\n  } else if(spec.connections) {\n    Object.assign(spec.connections, extraConnections)\n  } else {\n    spec.connections = extraConnections;\n  }\n\n  // set last value in collection. These is used in \"ComponentConnector\" when publish in output channel from events\n  lastValue.set(cellsComponent.node, cellsComponent.node[BRIDGE_BIND_KEY]());\n\n  return cellsComponent;\n}\n\nexport default { extend, defaultChangedCallback, BRIDGE_CHANNEL_KEY };\n\n// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n// . . . . .. . . . . .. . . . .Private. . . . .. . . . .  . . . . . . .\n// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n\nlet _defaultCallbackElement = _nodeFFCalback_toggleVisibility;\n\nfunction _defaultConnections () {\n  return {\n    in : {\n      [BRIDGE_CHANNEL_KEY]: {\n        bind: BRIDGE_BIND_KEY\n      }\n    }\n  }\n};\n\nfunction _nodeFFCalback_toggleVisibility(fFValue, cellsComponent) {\n  cellsComponent.node.style.visibility = fFValue ? 'initial' : 'hidden';\n  return !!fFValue;\n}\n\nfunction _nodeFFCallbackWrap(cellsComponent, {featureFlagCollection, ComponentConnector}, fFCallback) {\n  const _ffValue = featureFlagCollection.value(cellsComponent.spec.featureFlag);\n  const _ffValueResult = fFCallback.call(cellsComponent.node, _ffValue, cellsComponent) === false ? false : true;\n  const _connections = cellsComponent.spec.connections\n\n\n  if(_ffValueResult) {\n    ComponentConnector._updateInConnections(cellsComponent.node, _connections.in)\n  } else if(ComponentConnector.subscriptors.has(cellsComponent.node)){\n    let inConnections = Object.keys(_connections.in)\n      .filter(k => k !== BRIDGE_CHANNEL_KEY);\n    ComponentConnector.unsubscribe(inConnections, cellsComponent.node);\n  }\n\n  // set last value in collection. These is used in \"ComponentConnector\" when publish in output channel from events\n  lastValue.set(cellsComponent.node, _ffValueResult);\n\n  return _ffValueResult\n}\n","export function isPolymerElementUnresolved(node) {\n  const isCustomElement = node.tagName.indexOf('-') > -1 ;\n  const isPolymer1 = node.__isPolymerInstance__ === true;\n  const isPolymer2 = (\n    (Polymer.Element !== undefined && node instanceof Polymer.Element) ||\n    (Polymer.ElementMixin !== undefined && node instanceof Polymer.ElementMixin) ||\n    (Polymer.LegacyElementMixin !== undefined && node instanceof Polymer.LegacyElementMixin) ||\n    (node.is !== undefined && node.ready !== undefined && node.notifyPath !== undefined)\n  );\n  const isLitElement = node.updateComplete instanceof Promise && typeof node.render === 'function';\n\n  return isCustomElement && !isPolymer1 && !isPolymer2 && !isLitElement;\n}\n\nexport default {\n  isPolymerElementUnresolved\n};\n","import EventEmitter from 'events';\n\nconst maxNumListeners = 20;\n\nclass CustomEventEmitter extends EventEmitter {\n  listenToOnce(node, name, callback) {\n    var fn = function () {\n      callback();\n      node.removeEventListener(name, fn);\n    }.bind(this);\n    node.addEventListener(name, fn);\n  }\n}\n\nconst eventManager = new CustomEventEmitter();\n\neventManager.setMaxListeners(maxNumListeners);\n\nexport default eventManager;\n\n\n","/** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\nexport var NotificationKind;\n/*@__PURE__*/ (function (NotificationKind) {\n    NotificationKind[\"NEXT\"] = \"N\";\n    NotificationKind[\"ERROR\"] = \"E\";\n    NotificationKind[\"COMPLETE\"] = \"C\";\n})(NotificationKind || (NotificationKind = {}));\nvar Notification = /*@__PURE__*/ (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of(this.value);\n            case 'E':\n                return throwError(this.error);\n            case 'C':\n                return empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexport { Notification };\n//# sourceMappingURL=Notification.js.map\n","// binding\n\nexport const bindingCodes = {\n  ALWAYS: \"always\",\n  DELAYED: \"delayed\",\n  UI: \"ui\",\n  CURRENTVIEW: \"currentview\"\n};\n\nexport const binding = {\n  DEFAULT: bindingCodes.ALWAYS,\n  VALUES: Object.values(bindingCodes)\n};\n\n// external events\n\nexport const externalEventsCodes = {\n  PAGE_READY: \"page-ready\",\n  PARSE_ROUTE: \"parse-route\",\n  AFTER_PUBLISH: \"after-publish\",\n  NAV_REQUEST: \"nav-request\",\n  BEFORE_SET_ATTR_TO_NODE: \"before-set-attr-to-node\",\n  AFTER_SET_ATTR_TO_NODE: \"after-set-attr-to-node\",\n  BEFORE_CREATE_NODE: \"before-create-node\",\n  AFTER_CREATE_NODE: \"after-create-node\",\n  BEFORE_IMPORT: \"before-import\",\n  AFTER_IMPORT: \"after-import\",\n  PAGE_REQUEST: \"page-request\",\n  PAGE_RESPONSE: \"page-response\",\n  DATA_LOAD: \"data-load\",\n  TEMPLATE_TRANSITION_END: \"template-transition-end\",\n  TRACK_EVENT: \"track-event\",\n  TEMPLATE_REGISTERED: \"template-registered\",\n  ROUTER_BACKSTEP: \"router-backstep\",\n  LOG_EVENT: \"log-event\"\n};\n\nexport const externalEvents = Object.values(externalEventsCodes);\n\n// componentsPath\n\nexport const componentsPath = \"./bower_components/\";\n\n// composerEndpoint\n\nexport const composerEndpoint = \"./composerMocks/\";\n\n// deployEndpoint\n\nexport const deployEndpoint = \"\";\n\n// initialTemplate\n\nexport const initialTemplate = \"login\";\n\n// monitoring config\n\n// const mrId = 'web';\nconst mrId = 'core';\n// const nameSpace = 'com.bbva.es.channels';\nconst nameSpace = 'ether.cells';\n\nexport const monitoring = {\n  SEMAAS: {\n    policy: 'ei_bbva_es',\n    mrId,\n    nameSpace,\n    identifier: 'bridge',\n    // consumerId: `${mrId}@${nameSpace}`,\n    consumerId: 'core@ether.cells',\n  },\n};\n\n// pagesPath\n\nexport const pagesPath = \"./pages/\";\n\n// prpl\n\nexport const prplCodes = {\n  NONE: \"none\",\n  DEFER: \"defer\",\n  PROGRESSIVE: \"progressive\",\n  HERO: \"hero\"\n};\n\nexport const prpl = {\n  DEFAULT: prplCodes.DEFER,\n  VALUES: Object.values(prplCodes)\n};\n\nexport const preRenderState = {\n  WORKING: 'working',\n  REQUESTED: 'requested'\n};\n\n// render engines\n\nexport const renderEngines = {\n  litElement: 'litElement'\n};\n\n// default\n\nexport default {\n  bindingCodes,\n  binding,\n  componentsPath,\n  composerEndpoint,\n  deployEndpoint,\n  externalEvents,\n  externalEventsCodes,\n  initialTemplate,\n  monitoring,\n  pagesPath,\n  prplCodes,\n  prpl,\n  preRenderState,\n  renderEngines,\n};\n","import eventManager from './events'\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\nlet CellsManagerDom = class CellsManagerDom  {\n  createComponents(spec) {\n    /* istanbul ignore if */\n    if (!spec) {\n      return;\n    }\n    var elements = [];\n    var i = 0;\n    for (let index = 0; index < spec.length; index++) {\n      const element = spec[index];\n      elements[i] = this.createElement(element.tagName);\n      elements[i].__zone = element.zone;\n      i++;\n    }\n\n    return elements;\n  }\n\n  setAttrs(node, attrs) {\n    const { BEFORE_SET_ATTR_TO_NODE, AFTER_SET_ATTR_TO_NODE } = externalEventsCodes;\n\n    if (attrs && typeof attrs === 'object') {\n      eventManager.emit(BEFORE_SET_ATTR_TO_NODE, node.tagName);\n      Object.assign(node, attrs);\n      eventManager.emit(AFTER_SET_ATTR_TO_NODE, node);\n    }\n  }\n\n  createElement(tagName, properties) {\n    const { BEFORE_CREATE_NODE, AFTER_CREATE_NODE } = externalEventsCodes;\n\n    eventManager.emit(BEFORE_CREATE_NODE, tagName);\n    var node = document.createElement(tagName);\n    eventManager.emit(AFTER_CREATE_NODE, node);\n\n    /* istanbul ignore else */\n    if (properties) {\n      this.setAttrs(node, properties);\n    }\n\n    return node;\n  }\n}\n\nexport default CellsManagerDom;\n","class InMemmoryStorage  {\n  dictionary = {};\n  getItem(key) {\n    return this.dictionary[key] || null;\n  }\n  setItem(key, value) {\n    this.dictionary[key] = value;\n  }\n}\n\nexport default class CellsStorage {\n  prefix = '';\n  persistent = false;\n  internalStorage = new InMemmoryStorage();\n\n  constructor(options) {\n    Object.assign(this, options);\n\n    if (this.persistent) {\n      this.clear();\n    }\n  }\n\n  get storage() {\n    let store;\n    if (this.persistent) {\n      store = window.localStorage;\n    } else {\n      store = window.sessionStorage;\n    }\n    try {\n      store.setItem('_$_', {});\n    } catch (error) {\n      store = this.internalStorage;\n    }\n    return store;\n  }\n\n  getItem(key) {\n    return JSON.parse(this.storage.getItem(this.prefix + key));\n  }\n\n  setItem(key, value) {\n    this.storage.setItem(this.prefix + key, JSON.stringify(value, '', true));\n  }\n\n  clear() {\n    var pattern = new RegExp('^(' + this.prefix + ')');\n\n    for (let key in this.storage) {\n      if(this.storage.hasOwnProperty(key)){\n        if (pattern.test(key)) {\n          this.storage.removeItem(key)\n        }\n      }\n    }\n  }\n}\n","export default class CellsBridgeConnector {\n\n  _get(options, format) {\n    return new Promise(\n      function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        if (!options || !options.url) {\n          reject(new Error('URL not defined'));\n          return;\n        }\n        var method = (options.method || '').toUpperCase() || 'GET';\n        xhr.addEventListener('load', (e) => {\n          let xhr = e.target;\n          let status = xhr.status;\n          if ((status >= 200 && status < 300) || (status == 0 && xhr.responseText.length > 0)) {\n            if (format==='json') {\n              resolve(JSON.parse(xhr.response));\n            } else {\n              resolve(xhr.responseText);\n            }\n          } else {\n            reject(new Error(xhr.statusText));\n          }\n        });\n        xhr.addEventListener('error', () => {\n          reject(new Error('Network Error'));\n        });\n        xhr.open(method, options.url);\n        //\n        let headers = options.headers;\n        for (var header in headers) {\n          if (headers.hasOwnProperty(header)) {\n            xhr.setRequestHeader(header, headers[header]);\n          }\n        }\n        xhr.send(options.body);\n      }\n    );\n  }\n\n  getJSON(options) {\n    return this._get(options, 'json');\n  }\n\n  getHTML(options) {\n    return this._get(options, 'html');\n  }\n}\n","// Taken from string.js npm package\n// https://github.com/jprichardson/string.js\n\nexport const dasherize = str => str.trim().replace(/[_\\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase()\nexport const camelize = str => str.trim().replace(/(-|_|\\s)+(.)?/g, (mathc, sep, c) => c ? c.toUpperCase() : '');\n\nexport default {\n  dasherize,\n  camelize\n};\n","import Utils from './utils';\n\nconst { dasherize } = Utils;\n\n/**\n * Get path for component retrieval based on component definition properties.\n *\n * @param  {Object} componentDefinition Raw component definition.\n * @return {String}                     Path for component retrieval.\n */\nconst getPathFromComponent = componentDefinition => {\n  const { familyPath, tag, tagName } = componentDefinition;\n  const _tag = tag || tagName;\n  const firstPath = familyPath || _tag;\n\n  return `${firstPath}/${_tag}.html`;\n};\n\nexport default class CellsBridgeComposerSanitizer {\n  _buildConfig(component, type = 'UI') {\n    const { type: componentType, tag, tagName, zone, fixed, priority, properties, render, featureFlag } = component;\n    const path = getPathFromComponent(component);\n    const configType = componentType ? componentType.toUpperCase() : type;\n    const config = {\n      type: configType,\n      tagName: tag || tagName,\n      zone,\n      fixed,\n      priority,\n      properties,\n      path,\n      render,\n      featureFlag\n    };\n\n    return this._parseConnections(config);\n  }\n\n  parse(json) {\n    var components = [];\n    const LTRIM_SLASH = /^\\/(\\b)/;\n    components.push(\n      ...this._parseComponentsFromJson(json, 'components', 'UI')\n    );\n    let jsonTemplate = json.template;\n    if (jsonTemplate) {\n      jsonTemplate = this._buildConfig(jsonTemplate, 'TEMPLATE');\n    }\n    let pages = {};\n    let jsonPages = json.pages;\n    /* istanbul ignore if */\n    if (jsonPages) {\n      for (let index = 0; index < Object.keys(jsonPages).length; index++) {\n        const page = Object.keys(jsonPages)[index];\n        pages[page] = '/' + jsonPages[page].url.replace(LTRIM_SLASH, '');\n      }\n    }\n    return {\n      page: json.page,\n      currentPage: json.currentPage || {},\n      template: jsonTemplate,\n      components: components,\n      pages: pages\n    };\n  }\n\n  _parseComponentsFromJson(json, key, type) {\n    const list = [];\n    const components = json[key];\n\n    /* istanbul ignore if */\n    if (Array.isArray(components)) {\n      for (let index = 0; index < components.length; index++) {\n        const component = components[index];\n        list.push(this._buildConfig(component, type));\n      }\n    }\n\n    return list;\n  }\n\n  /**\n   * Extend given component definition object with parsed component connections.\n   *\n   * @private\n   * @method _parseConnections\n   * @param  {Object} rawComponentDefinition  Raw component definition.\n   * @return {Object}                         Component definition including connections.\n   */\n  _parseConnections(rawComponentDefinition) {\n    const componentDefinition = this._normalizeComponentDefinition(rawComponentDefinition);\n    const { properties: { cellsConnections } } = componentDefinition;\n\n    if (!cellsConnections || !Object.keys(cellsConnections).length > 0) {\n      return componentDefinition;\n    }\n\n    const componentDefinitionWithConnections = Object.assign({}, componentDefinition);\n\n    if (cellsConnections.params) {\n      const params = this._parseConnectionsParams(cellsConnections.params);\n\n      /* istanbul ignore if */\n      if (!cellsConnections.in) {\n        cellsConnections.in = {};\n      }\n\n      /* istanbul ignore if */\n      if (!cellsConnections.out) {\n        cellsConnections.out = {};\n      }\n\n      Object.assign(cellsConnections.in, params.in);\n      Object.assign(cellsConnections.out, params.out);\n    }\n\n    componentDefinitionWithConnections.connections = cellsConnections;\n\n    return componentDefinitionWithConnections;\n  }\n\n  /**\n   * Normalizes given raw component definition. Safe-guard method.\n   *\n   * @private\n   * @method _normalizeComponentDefinition\n   * @param  {Object} rawComponentDefinition Raw component definition object.\n   * @return {Object}                        Normalized component definition object.\n   */\n  _normalizeComponentDefinition(rawComponentDefinition) {\n    const DEFAULT_PROPERTIES = { cellsConnections: { in: {}, out: {} } };\n    const componentDefinition = Object.assign({}, rawComponentDefinition);\n\n    componentDefinition.properties = componentDefinition.properties || DEFAULT_PROPERTIES;\n\n    return componentDefinition;\n  }\n\n  /**\n   * Parse params to appropiate connections.\n   *\n   * @private\n   * @method _parseConnectionsParams\n   * @param  {Object} params Params to be parsed.\n   * @return {Object}        Parsed connections.\n   */\n  _parseConnectionsParams(params) {\n    const connections = {\n      in: {},\n      out: {}\n    };\n\n    for (const prop in params) {\n      if(params.hasOwnProperty(prop)){\n        const paramDef = params[prop];\n        const outBind = dasherize(prop) + '-changed';\n  \n        connections.in[paramDef] = this._createConnection(prop);\n        connections.out[paramDef] = this._createConnection(outBind);\n      }\n    }\n\n    return connections;\n  }\n\n  /**\n   * Create connection object based on given parameters.\n   *\n   * @private\n   * @method _createConnection\n   * @param  {String}  bind          Property to bind to.\n   * @param  {Boolean} [global=true] Global flag.\n   * @return {Object}                Connection object.\n   */\n  _createConnection(bind, global = true) {\n    return {\n      bind,\n      global\n    };\n  }\n\n  split(data) {\n    var response;\n    /* istanbul ignore if */\n    if (data) {\n      response = {\n        CC: [],\n        UI: [],\n        DM: []\n      };\n      for (let index = 0; index < data.length; index++) {\n        const item = data[index];\n        response[item.type].push(item);\n      }\n    }\n    return response;\n  }\n}\n","import CellsStorage from './storage';\nimport CellsConnector from '../connector';\nimport CellsSanitizer from '../sanitizer';\nimport eventManager from './events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\n\n/**\n * Class that retrieves pages either from the cache or by fetching them using http requests.\n * This class can handle:\n *  - dynamic pages: the one that are defined in json files.\n *  Also, dynamic pages can be localy located o remotely located.\n *  - static pages: the one that are defined in html files\n *\n * @param {CellsBridge} bridge\n *\n * The constructor receives a CellsBridge that has all the needed configuration:\n *\n * The property 'templatesPath' indicates the path where the local pages are located.\n * It must be defined only if there are local pages.\n *\n * The property 'composerEndpoint' indicates the url where the local pages are located.\n * This url must have the literals '{id}' and '{platform}'. It must be defined only if there are remote pages.\n *\n * The property 'remoteTemplates' is an array that contains the name of the remote templates\n * (just the name, not the extension).\n * It must be defined only if there are remote pages.\n *\n  * The property 'htmlPagesPath' is the path to the folder that contains the html pages.\n *\n * The property 'htmlPages' is an array that contains the name of the static html pages\n * (just the name, not the extension).\n *\n * The property 'appId' is the application's id.\n *\n * The property 'getPlatform' is a function, usually defined in the app.js file, that returns\n * a string indicating the platform that runs the application (for instance: destkop, ios or android).\n */\nlet CellsManagerPage = class CellsManagerPage {\n  constructor(bridge) {\n    this._initCellsPageManager(bridge);\n  }\n\n  _initCellsPageManager(bridge) {\n    const { htmlPagesPath = './pages/', htmlPages, templatesPath, composerEndpoint, remoteTemplates, appId, getPlatform,\n      cache, storagePrefix: prefix,\n      composerEngine, TemplateManager } = bridge;\n    const storage = new CellsStorage({ prefix, persistent: cache });\n    const connector =  new CellsConnector();\n    const sanitizer = new CellsSanitizer();\n\n    Object.assign(this, {\n      storage,\n      htmlPagesPath,\n      htmlPages,\n      templatesPath,\n      composerEndpoint,\n      remoteTemplates,\n      appId,\n      getPlatform,\n      cache,\n      connector,\n      sanitizer,\n      composerEngine,\n      TemplateManager\n    });\n  }\n\n  _remoteTemplate(page) {\n    let replaced = this.composerEndpoint.replace(/{appId}/, this.appId);\n    if (this.getPlatform) {\n      replaced = replaced.replace(/{platform}/, this.getPlatform());\n    }\n    replaced = replaced.replace(/{page}/, page);\n    return replaced;\n  }\n\n  _localTemplate(page) {\n    const endpoint = !this.templatesPath ? this.composerEndpoint : this.templatesPath;\n\n    return `${endpoint}${page}.json`;\n  }\n\n  _isLocalComposer(page) {\n    let result = true;\n    const hasTemplatePath = this.templatesPath && this.templatesPath.length > 0;\n    const hasRemoteTemplates = this.remoteTemplates && this.remoteTemplates.length > 0;\n    // legacy case when there was just composerEndpoint and\n    // it could be a directory or an url\n    const oldWayOnlyCompopserEndpointDefined = this.composerEndpoint && !hasTemplatePath && !hasRemoteTemplates;\n    if (oldWayOnlyCompopserEndpointDefined) {\n      result = this.composerEndpoint.indexOf('http') !== 0;\n    } else {\n      if (this.composerEndpoint && this.remoteTemplates) {\n        result = this.remoteTemplates.indexOf(page) < 0;\n      } else {\n        result = true;\n      }\n    }\n    return result;\n  }\n\n  _renderComposerEndpoint(page) {\n    if (this._isLocalComposer(page)) {\n      return this._localTemplate(page);\n    } else {\n      return this._remoteTemplate(page);\n    }\n  }\n\n  /**\n   * Returns the url needed to retrieve a page. It handles theese cases:\n   *  - page is dynamic (json file) and remote\n   *  - page is dynamic (json file) and local\n   *  - page is static (html file)\n   *\n   * @param {String} page is the name of the page to retrieve\n   */\n  generateRequestUrl(page) {\n    if (this.htmlPages && this.htmlPages.indexOf(page) >= 0) {\n      return this.htmlPagesPath + page + '.html';\n    } else {\n      return this._renderComposerEndpoint(page);\n    }\n  }\n\n  /**\n   * @param {Object} page\n   */\n  // eslint-disable-next-line no-unused-vars\n  onPageDefinitionNotFound(page) {\n    // Overwrite to make something when page definition is not found.\n  }\n\n  clear() {\n    this.storage.clear();\n  }\n\n  /**\n   * Returns a promise that retrieves a dynamic page (json file).\n   * The page may come from the cache or from a http request.\n   *\n   * @param {String} page name\n   * @param {Object} options for http request\n   * @param {Object} configuration\n   */\n  get(page, options, config) {\n    const useComposerEngineForThisPage = this.composerEngine && !this._isLocalComposer(page);\n    let spec;\n\n    if (useComposerEngineForThisPage) {\n      this.TemplateManager.removeTemplate(page);\n      return this._getFromComposerEngine(page, options);\n    } else {\n      spec = this.storage.getItem(page);\n      if (this.cache && spec) {\n        return Promise.resolve(spec);\n      } else {\n        return this._getFromConnector(page, options, config);\n      }\n    }\n  }\n\n  _getFromComposerEngine(page, options) {\n    const response = JSON.parse(this.composerEngine.getPage(page));\n\n    return Promise.resolve(\n      this._onResponse(page, options, response)\n    );\n  }\n\n  _getFromConnector(page, options, config) {\n    const { PAGE_REQUEST } = externalEventsCodes;\n\n    options = options || {};\n    options.url = this.generateRequestUrl(page, options, config);\n\n    eventManager.emit(PAGE_REQUEST, options);\n\n    return this.connector.getJSON(options)\n      .then(response => this._onResponse(page, options, response))\n      .catch(error => {\n        this._onResponseFail(page);\n        console.error(error);\n        return error.message;\n      });\n  }\n\n  /**\n   * Returns a promise that retrieves a static page (html file).\n   * The page comes from a http request.\n   *\n   * @param {String} page name\n   * @param {Object} options for http request\n   */\n  getPage(page, options) {\n    const { PAGE_REQUEST } = externalEventsCodes;\n\n    options = options || {};\n    options.url = this.generateRequestUrl(page);\n\n    eventManager.emit(PAGE_REQUEST, options);\n\n    return this.connector.getHTML(options)\n      .then(response => this._onResponseHTML(page, options, response))\n      .catch(error => {\n        this._onResponseFail(page);\n        console.error(error);\n        return error.message;\n      });\n  }\n\n  //getComponentPage(...)\n\n  _onResponse(page, options, response) {\n    const { PAGE_RESPONSE, DATA_LOAD } = externalEventsCodes;\n\n    response.page = page;\n\n    eventManager.emit(PAGE_RESPONSE, response);\n\n    let sanitizedData = this.sanitizer.parse(response);\n    // sanitizedData = this.bridge.parse('data', sanitizedData);\n\n    this.storage.setItem(page, sanitizedData);\n\n    eventManager.emit(DATA_LOAD, sanitizedData);\n\n    return sanitizedData;\n  }\n\n  _onResponseHTML(page, options, responseText) {\n    const { PAGE_RESPONSE, DATA_LOAD } = externalEventsCodes;\n\n    const response = {\n      page: page,\n      html: responseText\n    };\n\n    eventManager.emit(PAGE_RESPONSE, response);\n\n    const sanitizedData = {\n      page: page,\n      currentPage: {},\n      template: {},\n      components: [],\n      pages: [],\n      html: responseText\n    };\n\n    this.storage.setItem(page, sanitizedData);\n\n    eventManager.emit(DATA_LOAD, sanitizedData);\n\n    return sanitizedData;\n  }\n\n  _onResponseFail(page) {\n    if (this.onPageDefinitionNotFound) {\n      this.onPageDefinitionNotFound(page);\n    }\n\n    return Promise.reject(new Error(`Definition file for page '${page}' not found.`));\n  }\n}\n\nexport default CellsManagerPage;\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map\n","/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\nvar AsyncAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nvar QueueAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction));\nexport { QueueAction };\n//# sourceMappingURL=QueueAction.js.map\n","var Scheduler = /*@__PURE__*/ (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = function () { return Date.now(); };\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map\n","/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        var _this = _super.call(this, SchedulerAction, function () {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        }) || this;\n        _this.actions = [];\n        _this.active = false;\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return _super.prototype.schedule.call(this, work, delay, state);\n        }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar QueueScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler));\nexport { QueueScheduler };\n//# sourceMappingURL=QueueScheduler.js.map\n","/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */\nimport { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\nexport var queue = /*@__PURE__*/ new QueueScheduler(QueueAction);\n//# sourceMappingURL=queue.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nvar ObserveOnOperator = /*@__PURE__*/ (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexport { ObserveOnOperator };\nvar ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        var destination = this.destination;\n        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification.createError(err));\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification.createComplete());\n        this.unsubscribe();\n    };\n    return ObserveOnSubscriber;\n}(Subscriber));\nexport { ObserveOnSubscriber };\nvar ObserveOnMessage = /*@__PURE__*/ (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexport { ObserveOnMessage };\n//# sourceMappingURL=observeOn.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { queue } from './scheduler/queue';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nvar ReplaySubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) {\n            bufferSize = Number.POSITIVE_INFINITY;\n        }\n        if (windowTime === void 0) {\n            windowTime = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._infiniteTimeWindow = false;\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        if (windowTime === Number.POSITIVE_INFINITY) {\n            _this._infiniteTimeWindow = true;\n            _this.next = _this.nextInfiniteTimeWindow;\n        }\n        else {\n            _this.next = _this.nextTimeWindow;\n        }\n        return _this;\n    }\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n        var _events = this._events;\n        _events.push(value);\n        if (_events.length > this._bufferSize) {\n            _events.shift();\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n        this._events.push(new ReplayEvent(this._getNow(), value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _infiniteTimeWindow = this._infiniteTimeWindow;\n        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var len = _events.length;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.isStopped || this.hasError) {\n            subscription = Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n        }\n        if (_infiniteTimeWindow) {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i].value);\n            }\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\nvar ReplayEvent = /*@__PURE__*/ (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n","import { ReplaySubject } from 'rxjs';\n\nconst createChannel = () => {\n  const channel = new ReplaySubject(1);\n\n  const _nextFromSuperClass = channel.next.bind(channel);\n\n  channel.next = function(value) {\n    let generateUUID = function() {\n      let d = new Date().getTime();\n      let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        let r = (d + Math.random()*16)%16 | 0;\n        return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n      });\n      return uuid;\n    };\n    if (!value.uuid) {\n      value.uuid = generateUUID();\n    }\n    if (!value.time) {\n      value.time = (new Date()).getTime();\n    }\n    _nextFromSuperClass(value);\n  }\n\n  channel.hasObservers = function() {\n    if (this.closed) {\n      throw new Error();\n    }\n\n    return this.observers.length > 0;\n  }\n\n  channel.complete = function() {};\n\n  channel.error = function(error) {\n    this.observers.forEach(function(o) {\n      o.isStopped = false;\n      o.onError(error);\n    });\n  };\n\n  channel.unsubscribe = function(index) {\n    this.observers.splice(index, 1);\n  };\n\n  channel.unsubscribeAll = function() {\n    this.observers.splice(0, this.observers.length);\n  };\n\n  channel.clean = function() {\n    this._events = [];\n    this.observers = [];\n  };\n\n  channel.dispose = function() {\n    this.unsubscribe();\n  };\n\n  return channel;\n}\n\nexport default createChannel;\n","import { Subscription } from 'rxjs';\n\nexport default class Subscriptor {\n  constructor(node) {\n    this.node = node;\n    this.subscriptions = [];\n    this.publications = new Subscription();\n  }\n\n  hasSubscription(channel) {\n    return(this.subscriptions.filter(d => d.channel === channel).length > 0);\n  }\n\n  /**\n   * Publish an event.sss\n   *\n   * @param  {Event} event\n   */\n  publish(event) {\n    this.publications.add(event);\n  }\n\n  makeCallbackWithNoReplay(channel, fn) {\n    if (!fn.node.intervals) {\n      fn.node.intervals = [];\n    }\n    if (!fn.node.ids) {\n      fn.node.ids = [];\n    }\n    let getTimeFromNode = function(node) {\n      return node.intervals[channel.name];\n    };\n    let setTimeForNode = function(node, time) {\n      node.intervals[channel.name] = time;\n    };\n    let getTimeFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].time : 1;\n    };\n    let getIdFromNode = function(node) {\n      return node.ids[channel.name];\n    };\n    let setIdForNode = function(node, id) {\n      node.ids[channel.name] = id;\n    };\n    let getIdFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].uuid : null;\n    };\n    let fnReplayOff = function() {\n      let lastInterval = getTimeFromChannel(channel);\n      let nodeInterval = getTimeFromNode(fn.node);\n      let lastId = getIdFromChannel(channel);\n      let nodeId = getIdFromNode(fn.node);\n      if (!nodeInterval || nodeInterval < lastInterval ||\n        (nodeInterval === lastInterval && (nodeId != lastId))) {\n        setTimeForNode(fn.node, lastInterval);\n        setIdForNode(fn.node, lastId);\n        return fn.apply(this, arguments);\n      }\n      setTimeForNode(fn.node, lastInterval);\n    }.bind(this);\n    fnReplayOff.node = fn.node;\n    return fnReplayOff;\n  }\n\n  /**\n   * Subscribe to a channel.\n   *\n   * @param  {Channel}   channel  Channel to subscribe\n   * @param  {Function}  fn       Callback function to run when a value from a channel changed\n   */\n  subscribe(channel, fn, previousState) {\n    if (!this.hasSubscription(channel)) {\n      let callback = fn;\n      let subscription;\n      if (previousState === false) {\n        callback = this.makeCallbackWithNoReplay(channel, fn);\n      }\n\n      let pos = this._firstInstanceOfObserver(callback.node, channel);\n      if(pos === -1) {\n        subscription = channel.subscribe(callback);\n        pos = channel.observers.length - 1;\n      } else {\n        subscription = channel.observers[pos];\n      }\n\n      subscription.node = callback.node;\n\n      const subscriptionDetail = {\n        channel: channel,\n        observer:  subscription,\n        subscription: subscription\n      };\n\n      this.subscriptions.push(subscriptionDetail);\n    }\n  }\n\n  /**\n   * Remove all active subscriptions.\n   */\n  unsubscribe(cleanPrivateChannels) {\n    for(var i = this.subscriptions.length - 1; i >= 0; i--) {\n      var subscription = this.subscriptions[i];\n      var channel = subscription.channel;\n      var observer = subscription.observer;\n      var index = channel.observers.indexOf(observer);\n\n      //if(index >= 0 && !channel.name.match(/\\b__bridge_/)) {\n      if(index >= 0) {\n        if (cleanPrivateChannels===true || !channel.name.match(/\\b__bridge_/)) {\n          channel.unsubscribe(index);\n        }\n      }\n      // if(!channel.hasObservers()) {\n      //   channel.clean();\n      // }\n    }\n\n    this.publications.unsubscribe();\n  }\n\n  /**\n   * Returns the position of the first occurrence of the observer's node in the channel.\n   * If the node has none observer registered to the channel, it returns -1.\n   *\n   * @param {node}\n   * @param {channel}\n   */\n  _firstInstanceOfObserver(node, channel) {\n    var pos = -1;\n\n    for(let index = 0; index < channel.observers.length; index++) {\n      if(channel.observers[index].node === node) {\n        pos = index;\n        break;\n      }\n    }\n    return pos;\n  }\n}\n","\n/**\n * Feature Identifier\n * @typedef {String} CellsFeatureKey\n */\n\n/**\n  * Feature black list\n  * @typedef {Array<CellsFeatureKey>} CellsFeatureBlackList\n  */\n\n/**\n * Feature object\n * @typedef {Object} CellsFeature\n * @property {*} defaultValue  Default value of feature\n * @property {*} value         Current value of feature\n * @property {CellsFeatureKey} key      Feature identifier\n * \n */\n\n/**\n * Feature Collection\n * @typedef {Object.<CellsFeatureKey, CellsFeature>} CellsFeatureCollection\n */\n\n /**\n  * Cells Feature Response\n  * @typedef {Object} CellsFeatureResponse\n  * @property {CellsFeatureCollection} features\n  */\n\n/**\n * Channel name of FeatureFlagCollection. Emit data in this channel when collection of FeatureFlag is updated\n * @constant\n * @type {string}\n */\nexport const BRIDGE_CHANNEL_KEY = '__bridge_ch_featureflag';\n\n/**\n * Name of CustomElement method use to evaluate value of FeatureFlag\n * @constant\n * @type {string}\n */\nexport const BRIDGE_BIND_KEY = 'featureFlagChangedCallback';\n\n/**\n * FeatureFlag last value collection by node\n */\n\n export const lastValue = new Map();\n\nexport default class FeatureFlagCollection {\n\n  constructor (bridge) {\n    this._featureCollection = {};\n    this._conector = bridge.ComponentConnector;\n  }\n\n  /**\n   * Deep copy of collection of features flags\n   * @property\n   */\n  get collection () {\n    return JSON.parse(JSON.stringify(this._featureCollection));\n  }\n\n  /**\n   * Get value of feature if is enabled or null is disabled\n   * @method\n   * @param {CellsFeature} feature   Feature with identifier\n   * @returns {*}               Feature value or null if the feature is disabled\n   */\n  value ({key, defaultValue, value}) {\n    let { _featureCollection } = this;\n    if(_featureCollection.hasOwnProperty(key) && _featureCollection[key].hasOwnProperty('value')){\n      return _featureCollection[key].value;\n    } else if (_featureCollection.hasOwnProperty(key) && _featureCollection[key].hasOwnProperty('defaultValue')) {\n      return _featureCollection[key].defaultValue;\n    } else if (value !== undefined){\n      return value;\n    } else {\n      return defaultValue;\n    }\n  }\n\n  /**\n   * Extend collection; if feature is registered, overwrite values\n   * @method\n   * @param {CellsFeatureCollection} featureCollection \n   * @returns {FeatureFlagCollection} this\n   */\n  extend (featureCollection) {\n    Object.assign(this._featureCollection, featureCollection);\n    return this._publish();\n  }\n\n  /**\n   * Register collection of features and add default value of each feature\n   * @method\n   * @param {CellsFeatureCollection} featureCollection \n   * @returns {FeatureFlagCollection} this\n   */\n  register (featureCollection) {\n    Object.entries(featureCollection)\n      .map(([key, {defaultValue}]) => ({[key]: defaultValue}))\n      .forEach(singleFeatureCollection => Object.assign(this._featureCollection, singleFeatureCollection) );\n    \n    return this._publish();\n  }\n\n  /**\n   * @method\n   * @param {CellsFeatureResponse} featureResponse Response of feature service\n   * @returns {FeatureFlagCollection} this\n   */\n  update (featureResponse) {\n    return this.extend(featureResponse.features);\n  };\n\n  subscribe (callback) {\n    if (typeof callback === 'function') {\n      const channel = this._conector.manager.get(BRIDGE_CHANNEL_KEY);\n      this._conector.getSubscriptor(this).subscribe(channel, () => callback(this));\n    }\n\n    return this;\n  }\n\n\n  /**\n   * @private\n   * @returns {FeatureFlagCollection} this\n   */\n  _publish() {\n    const channel = this._conector.manager.get(BRIDGE_CHANNEL_KEY);\n    channel.next(new CustomEvent(BRIDGE_CHANNEL_KEY, {data: this.collection}));\n    return this;\n  }\n}","import { fromEvent } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport eventManager from './manager/events'\nimport { Subscriptor, createChannel } from './state';\nimport Constants from './constants';\nimport {lastValue as FeatureFlagCollection_lastValue,\n  BRIDGE_CHANNEL_KEY as FEATURE_FLAG_CHANNEL_KEY} from './featureflag/feature-flag-collection';\n\nconst { externalEventsCodes } = Constants;\n\n/**\n * Collection of channels.\n */\nvar ChannelManager = function() {\n  this.channels = {}; //*1prototype mixin clone problem\n};\n\nChannelManager.prototype = {\n  channels: null, //{} //*1prototype mixin clone problem\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  get: function(name) {\n    var channel = this.channels[name];\n\n    if(channel == null) {\n      channel = this.create(name);\n    }\n\n    return channel;\n  },\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  getUnsafe: function(name) {\n    return this.channels[name];\n  },\n\n  /**\n   * Creates a channel.\n   *\n   * @param  {String} name Channel name\n   *\n   * @return {Channel}\n   */\n  create: function(name) {\n    const channel = createChannel();\n\n    channel.name = name;\n    this.channels[name] = channel;\n    return channel;\n  },\n\n  /**\n   * Removes a channel from the collection.\n   *\n   * @param  {String} name Name of the channel to remove.\n   */\n  remove: function(name) {\n    delete this.channels[name];\n  },\n\n\n  unregisterAllSubscriptors() {\n    this.ComponentConnector.subscriptors.forEach((v) => {\n      v.subscriptions.forEach(s => s.subscription.unsubscribe());\n    });\n  },\n\n  cleanAllChannels: function() {\n    for (let channelName in this.channels) {\n      if(this.channels.hasOwnProperty(channelName)){\n        this.channels[channelName].clean();\n      }\n    }\n  },\n\n  removeAllChannels: function() {\n    for (let channelName in this.channels) {\n      if(this.channels.hasOwnProperty(channelName)){\n        delete this.channels[channelName];\n      }\n    }\n  },\n\n  /**\n   * Returns true if there is a channel registered with the given name,\n   *\n   * @param {String} name Channel name,\n   *\n   * @return {Boolean}\n   */\n  has: function(name) {\n    return this.channels[name] != null;\n  }\n};\n\n\nlet ComponentConnector = class ComponentConnector {\n  manager = null;\n  subscriptors = null;\n  bridgeChannelsPrefix = null;\n\n  constructor() {\n    this.manager = new ChannelManager();\n    this.subscriptors = new Map();\n    this.bridgeChannelsPrefix = /__bridge_(?!ch)/;\n  }\n\n  getSubscriptor(node) {\n    var subscriptor = this.subscriptors.get(node);\n\n    if(!subscriptor) {\n      subscriptor = new Subscriptor(node);\n      this.subscriptors.set(node, subscriptor);\n    }\n\n    return subscriptor;\n  }\n\n  /**\n   * Register a node in pubsub\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  register(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._registerInConnections(node, connections.in);\n    }\n  }\n\n  /**\n   * Registesr new connections of a node that may have other connections registered previously.\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  progressiveRegister(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._updateInConnections(node, connections.in);\n    }\n  }\n\n  _registerInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        bindName = inConnections[channelName].bind;\n        previousState = inConnections[channelName].previousState || false;\n        this.addSubscription(channelName, node, bindName, previousState);\n      }\n    }\n  }\n\n  addSubscription(channelName, node, bind, previousState = false) {\n    const callback = this._wrapCallbackWithNode(node, bind);\n    const channel = this.manager.get(channelName); // @TODO ojo!!! CC this.isBridgeChannel(channelName) ? this.manager.getUnsafe(channelName) : this.manager.get(channelName);\n\n    if(channel) {\n      const subscriptor = this.getSubscriptor(node);\n\n      subscriptor.subscribe(channel, callback, previousState);\n    }\n  }\n\n  _updateInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        bindName = inConnections[channelName].bind;\n        previousState = inConnections[channelName].previousState || false;\n        this.updateSubscription(channelName, node, bindName, previousState);\n      }\n    }\n  }\n\n  updateSubscription(channelName, node, bind, previousState = false) {\n    const subscriptor = this.getSubscriptor(node);\n\n    if(this.isActiveBridgeChannel(channelName) ||\n      (!this.isActiveBridgeChannel(channelName) && !this.hasSubscriptions(subscriptor, channelName))\n    ) {\n      const channel = this.manager.get(channelName);\n      const callback = this._wrapCallbackWithNode(node, bind);\n\n      subscriptor.subscribe(channel, callback, previousState);\n    }\n  }\n\n  _wrapCallbackWithNode(node, bindName) {\n    let cb = this.wrapCallback(node, bindName);\n    cb.node = node;\n    return cb;\n  }\n\n  _hasPublisher(subscriptor, node, channelName, bindName) {\n    let hasPublisher = false;\n\n    if (subscriptor.publications._subscriptions) {\n      subscriptor.publications._subscriptions.forEach(function(publication){\n        if (publication.node === node &&\n        publication.channelName === channelName &&\n        publication.eventName === bindName) {\n          hasPublisher = true;\n        }\n      });\n    }\n    return hasPublisher;\n  }\n\n  _registerOutConnections(node, outConnections) {\n    let channelName;\n    let bindName;\n\n    if(outConnections) {\n      for(channelName in outConnections) {\n        bindName = outConnections[channelName].bind;\n\n        this.addPublication(channelName, node, bindName, outConnections[channelName]);\n      }\n    }\n  }\n\n  addPublication(channelName, node, bindName, outConnectionDefinition) {\n    if(this.isBridgeChannel(channelName)) {\n      console.warn(`Forbidden operation. You are trying to write to a private channel (${channelName}).`);\n    } else {\n      let subscriptor = this.getSubscriptor(node);\n      let channel = this.manager.get(channelName);\n      let hasPublisher = this._hasPublisher(subscriptor, node, channelName, bindName);\n\n      if (!hasPublisher) {\n        subscriptor.publish(this.wrapEvent(node, bindName, channel, outConnectionDefinition));\n      }\n    }\n  }\n\n  publish(channelName, value) {\n    if(this.isBridgeChannel(channelName)) {\n      console.warn(`Forbidden operation. You are trying to write to a private channel (${channelName}).`);\n    } else {\n      const channel = this.manager.get(channelName);\n      const customEventName = `${channelName}-publish`;\n\n      channel.next(new CustomEvent(customEventName, { detail: value }));\n    }\n  }\n\n  unsubscribe(channels, node) {\n    if(!channels || !node) {\n      return;\n    }\n\n    const normalizedChannels = Array.isArray(channels) ? channels : [channels];\n    const subscriptor = this.subscriptors.get(node);\n    const { subscriptions } = subscriptor;\n    const byChannelName = (subscription) => normalizedChannels.includes(subscription.channel.name);\n    const targetSubscriptions = subscriptions.filter(byChannelName);\n\n    targetSubscriptions.forEach((subscription) => {\n      // @TODO rename\n      // DO NOT LOOK AT ME!!!\n      subscription.subscription.unsubscribe();\n\n      const index = subscriptor.subscriptions.findIndex((e) => e === subscription);\n\n      subscriptor.subscriptions.splice(index, 1);\n    });\n  }\n\n  /**\n   * Unregister a node from pubsub\n   *\n   * @param  {HTMLElement} node\n   */\n  unregister(node, cleanPrivateChannels) {\n    if(!node) {\n      return;\n    }\n\n    var subscriptor = this.subscriptors.get(node);\n\n    if(subscriptor) {\n      subscriptor.unsubscribe(cleanPrivateChannels);\n      this.subscriptors.delete(node);\n    }\n  }\n\n  unregisterAllSubscriptors(cleanPrivateChannels) {\n    this.subscriptors.forEach((v) => {\n      v.subscriptions.forEach(s => s.subscription.unsubscribe(cleanPrivateChannels));\n    });\n  }\n\n  // @TODO unificar con unregister\n  sleep(node) {\n    if(!node) {\n      return;\n    }\n\n    var subscriptor = this.subscriptors.get(node);\n\n    if(subscriptor) {\n      //subscriptor.unsubscribe();\n    }\n  }\n\n  /**\n   * Wrap a callback.\n   *\n   * @param  {HTMLElement/Object} node\n   * @param  {String} bindName Method or property name\n   *\n   * @return {Function}\n   */\n  wrapCallback(node, bindName) {\n    var wrappedCb = function(event) {\n      if (typeof(bindName) === 'function') {\n        bindName(event.detail);\n      } else {\n        if(typeof node[bindName] === 'function') {\n          node[bindName](event.detail);\n        } else {\n          node[bindName] = event.detail;\n        }\n      }\n    };\n\n    return wrappedCb;\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    const AT_TARGET = Event.AT_TARGET || Event.prototype.AT_TARGET;\n    return event.eventPhase === AT_TARGET;\n  }\n\n  /**\n   * Wrap an event.\n   *\n   * @param  {HTMLElement} node\n   * @param  {String} eventName\n   * @param  {Channel} channel\n   *\n   * @return {Function}\n   */\n  wrapEvent(node, eventName, channel, connection) {\n    const { AFTER_PUBLISH, NAV_REQUEST, ROUTER_BACKSTEP, TRACK_EVENT, LOG_EVENT } = externalEventsCodes;\n\n    var source = fromEvent(node, eventName);\n\n    // this checking is for components with FeatureFlag configuration\n    if(FeatureFlagCollection_lastValue.has(node)){\n      source = source.pipe(filter(() => FeatureFlagCollection_lastValue.get(node)));\n    }\n    var wrappedListener = source.subscribe(function(event) {\n      if(!this._isEventAtTarget(event)) {\n        // If the event bubbles up from a child element:\n        return;\n      }\n\n      channel.next(event);\n      eventManager.emit(AFTER_PUBLISH, event);\n\n      if(connection && connection.link) {\n        const linkObject = Object.assign({}, connection.link);\n\n        if(connection.link.page){\n          if(connection.link.page.hasOwnProperty('bind')){\n            linkObject.page = event.detail[connection.link.page.bind]\n          }\n        }\n\n        eventManager.emit(NAV_REQUEST, {\n          event: event,\n          detail: linkObject\n        });\n      }\n\n      if (connection && connection.backStep) {\n        eventManager.emit(ROUTER_BACKSTEP, {\n          event: event,\n          detail: {}\n        });\n      }\n\n      if(connection && connection.analytics) {\n        eventManager.emit(TRACK_EVENT, {\n          event: event,\n          detail: connection.analytics\n        });\n      }\n\n      if(connection && connection.log) {\n        eventManager.emit(LOG_EVENT, {\n          event: event,\n          detail: connection.log\n        });\n      }\n\n      if (this.wrapEventHandler) {\n        this.wrapEventHandler(event, connection, channel);\n      }\n    }.bind(this));\n\n    wrappedListener.node = node;\n    wrappedListener.eventName = eventName;\n    wrappedListener.channelName = channel.name;\n\n    return wrappedListener;\n  }\n\n  /**\n   * receive a channel name and change old private values.\n   *\n   * @param  {string} name\n   *\n   */\n  createEvent(name, value) {\n    let evt = new Event(name);\n    evt.detail = { value };\n    return evt;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActiveBridgeChannel(name) {\n    return this.isBridgeChannel(name) && this.manager.getUnsafe(name);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isBridgeChannel(name) {\n    return this.bridgeChannelsPrefix.test(name);\n  }\n\n  /**\n   * returns true if the subscriptor has been subscribed to the given channel.\n   *\n   * @param {Subscriptor} subscriptor\n   * @param {String} channelName\n   *\n   * @return {Boolean}\n   */\n  hasSubscriptions(subscriptor, channelName) {\n    return subscriptor.subscriptions.filter(d => d.channel.name === channelName).length > 0;\n  }\n}\n\n/**\n * ComponentConnector definition\n */\nexport default ComponentConnector;\n","export default class Route {\n  static PARAM = /(?::([^/]+))/g;\n  static TRAILING_SLASHES = /\\/*$/;\n  static _404_PAGE_NAME = '404';\n\n  name = '';\n  pattern = '';\n  regexp = null;\n  redirectPage = null;\n  isAccessible = true; // needed to discriminate between 404 and rest of pages with same pattern\n\n  /**\n   * @private\n   * @param {String} routeName\n   * * @param {String} pattern\n   * @return {Object}\n   */\n  constructor(name, pattern) {\n    this.name = name;\n    this.pattern = pattern;\n    var regexp = pattern\n      .replace(Route.PARAM, '([^/]+)')\n      .replace(Route.TRAILING_SLASHES, '/*');\n    this.regexp = new RegExp('^' + regexp + '$');\n    var parts;\n    var keys = [];\n    while ((parts = Route.PARAM.exec(pattern)) !== null) {\n      keys.push(parts[1]);\n    }\n    this.keys = keys;\n  }\n\n  path(params) {\n    params = params || {};\n    this.params = {};\n    var parts;\n    var path = this.pattern;\n    while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n      path = path.replace(parts[0], params[parts[1]]);\n      this.params[parts[1]] = params[parts[1]];\n    }\n    var queryParams = [];\n    for (var param in params) {\n      if (!this.params.hasOwnProperty(param)) {\n        queryParams.push(param + '=' + encodeURIComponent(params[param]));\n      }\n    }\n    if (queryParams.length) {\n      path += '?' + queryParams.join('&');\n    }\n    return path;\n  }\n\n  matchPath(path) {\n    return path.match(this.regexp);\n  }\n\n  parsePath(path) {\n    var match = this.matchPath(path);\n    this.params = {};\n    if (match) {\n      var i = 1;\n      var parts;\n      while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n        this.params[parts[1]] = this._parseParam(match[i]);\n        i++;\n      }\n    }\n  }\n\n  parseQuery(query) {\n    this.query = query;\n    for (var queryParam in this.query) {\n      if(this.query.hasOwnProperty(queryParam)){\n        this.params[queryParam] = this.query[queryParam];\n      }\n    }\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  is404() {\n    return this.name === Route._404_PAGE_NAME;\n  }\n\n  /**\n   * @private\n   * @param {String} value\n   * @return {Boolean}\n   */\n  _isNumber(value) {\n    return parseInt(value) + '' === value || parseFloat(value) + '' === value;\n  }\n\n  /**\n   * @private\n   * @param {String} param\n   * @return {String|Number}\n   */\n  _parseParam(param) {\n    if (this._isNumber(param)) {\n      param = +param;\n    }\n\n    return param;\n  }\n\n  handler() {\n    // Overwrite to make something with the current route\n  }\n\n}\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nvar InnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        _this.index = 0;\n        return _this;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber));\nexport { InnerSubscriber };\n//# sourceMappingURL=InnerSubscriber.js.map\n","import Route from './route';\nimport { Subscription, fromEvent, merge } from 'rxjs';\nimport { distinctUntilChanged, map, startWith } from 'rxjs/operators';\nimport eventManager from './manager/events';\nimport NavigationStack from './navigation-stack';\nimport Constants from './constants';\n\nconst { EMPTY } = Subscription;\nconst { externalEventsCodes } = Constants;\n\nlet instance = null;\n\nlet _useHistory = false;\nlet _routes = {};\nlet _disposables;\nlet _currentRoute;\nlet _404Route;\n\n/**\n * @class SerialSubscription\n * Mimics behavior of SerialDisposable in RxJS v4,\n * allows to add only single subscription. If new subscription's added,\n * existing subscription will be unsubscribed.\n *\n * By design of RxJS v5 it is no longer recommended to manage subscription\n * imperatively vis various kind of subscription, reason it only have single\n * kind of composite subscription. This implementation is for interop between\n * existing codebases.\n * @extends {Subscription}\n */\nclass SerialSubscription extends Subscription {\n  constructor() {\n    super();\n    this._currentSubscription = EMPTY;\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If there's existing subscription, it'll be unsubscribed and\n   * removed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown) {\n    if (this.closed) return;\n    if (typeof(teardown) === 'function') teardown = new Subscription(teardown);\n\n    if (this._currentSubscription) {\n      this.remove(this._currentSubscription);\n      this._currentSubscription.unsubscribe();\n      this._currentSubscription = null;\n    }\n\n    super.add(this._currentSubscription = teardown);\n  }\n}\n\nexport default class Router {\n  static SUPPORTS_HISTORY_API = window.history && 'pushState' in window.history;\n\n  static PARAM = /(?::([^/]+))/g;\n  static LTRIM_SLASH = /^\\/(\\b)/;\n  static EMPTY = /^$/;\n\n  static HASH_PREFIX = /^#!?\\/*/;\n  static PATH_PREFIX = /^\\/*/;\n\n  static isNavigationInProgress = false;\n  static hashIsDirty = false;\n\n  navigationStack;\n\n  constructor() {\n    const { TEMPLATE_TRANSITION_END} = externalEventsCodes;\n\n    if (!instance) {\n      instance = this;\n    }\n\n    this.navigationStack = this._createNavigationStack();\n\n    eventManager.on(TEMPLATE_TRANSITION_END, () => {\n      this.isNavigationInProgress = false;\n    });\n\n    return instance;\n  }\n\n  _createNavigationStack() {\n    return new NavigationStack();\n  }\n\n  /**\n   * @param {Boolean} value\n   */\n  set useHistory(value) {\n    /* istanbul ignore else */\n    if (Router.SUPPORTS_HISTORY_API) {\n      _useHistory = value;\n    }\n  }\n\n  get useHistory() {\n    return _useHistory;\n  }\n\n  set routes(routes) {\n    _routes = routes;\n  }\n\n  get routes() {\n    return _routes;\n  }\n\n  get currentRoute() {\n    return _currentRoute;\n  }\n\n  set currentRoute(route) {\n    _currentRoute = route;\n  }\n  /**\n   * @param {Object} route\n   */\n  // eslint-disable-next-line no-unused-vars\n  handler(route) {\n    // Overwrite to make something after all matched routes\n  }\n\n  addRoute(name, pattern) {\n    this.routes[name] = new Route(name, pattern);\n    return this.routes[name];\n  }\n\n  addRoutes(routes) {\n    var __routes = {};\n    for (var routeName in routes) {\n      if(routes.hasOwnProperty(routeName)) {\n        __routes[routeName] = this.addRoute(routeName, routes[routeName]);\n      }\n    }\n    return __routes;\n  }\n\n  addSkipNavigations(skipNavs) {\n    for (let i = 0; i<skipNavs.length; i++) {\n      this.navigationStack.addSkipNavigation(skipNavs[i]);\n    }\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getHashPath() {\n    return location.hash\n      .replace(Router.HASH_PREFIX, '/')\n      .replace(Router.EMPTY, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeHashChange() {\n    return fromEvent(window, 'hashchange').pipe(\n      map(this._getHashPath),\n      startWith(this._getHashPath())\n    );\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getURLPath() {\n    return location.pathname.replace(Router.PATH_PREFIX, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeStateChange() {\n    return merge(\n      fromEvent(window, 'popstate'),\n      fromEvent(window, 'pushstate')\n    ).pipe(\n      map(this._getURLPath),\n      startWith(this._getURLPath())\n    );\n  }\n\n  /**\n   * @private\n   * @param {String}\n   * @return {Array}\n   */\n  matchRoute(fullPath) {\n    var route;\n    var [path, query] = fullPath.split('?');\n    query = this._parseQuery(query);\n    for (var routeName in this.routes) {\n      if(this.routes.hasOwnProperty(routeName)){\n        route = this.routes[routeName];\n        if ((!route.is404() || route.isAccessible) && route.matchPath(path)) {\n          route.parsePath(path)\n          route.parseQuery(query);\n          return route;\n        }\n      }\n    }\n  }\n\n  _parseQuery(querystr) {\n    const params = {};\n    if (querystr) {\n      // Split into key/value pairs\n      const queries = querystr.split('&');\n      if (queries) {\n        // Convert the array of strings into an object\n        let key, value, i, len = queries.length;\n        for (i = 0; i < len; i++) {\n          [key, value] = queries[i].split('=');\n          params[key] = decodeURIComponent(value);\n        }\n      }\n    }\n    return params;\n  }\n\n  _setup404() {\n    const route404 = this.routes[Route._404_PAGE_NAME];\n\n    // We check if 404 route have a pattern...\n    if (route404 && route404.pattern !== '') {\n      const routeWithSamePattern = this.getRouteWithPattern(route404.pattern);\n\n      // We set redirect page based on, if it's a repeated URL pattern or a unique one.\n      // If it's unique, we set it accesible from the router.\n      // Otherwise, it's going to NOT be accesible from the router (multiple router with same pattern)\n      route404.redirectPage = routeWithSamePattern ? routeWithSamePattern.name : route404.name;\n      route404.isAccessible = !routeWithSamePattern;\n    }\n\n    return route404;\n  }\n\n  getRouteWithPattern(patternToMath) {\n    for (let routeName in this.routes) {\n      if(this.routes.hasOwnProperty(routeName)){\n        let route = this.routes[routeName];\n\n        // we only take care about routes with same patterns that aren't the same\n        if (!route.is404() && route.pattern === patternToMath) {\n          return route;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   *\n   * @return {Subscription}\n   */\n  start() {\n    /* istanbul ignore else */\n    if (!_disposables) {\n      var active = new SerialSubscription();\n\n      _404Route = this._setup404();\n\n      const source = this.useHistory ?\n        this._observeStateChange() :\n        this._observeHashChange();\n\n      const subscription = source.pipe(\n        distinctUntilChanged(),\n        map(this.matchRoute.bind(this)),\n      );\n\n      subscription.forEach(route => {\n        if (!this.hashIsDirty) {\n          if (route) {\n            const currentRouteName = this.currentRoute ? this.currentRoute.name : undefined;\n            const currentRouteParams = this.currentRoute ? this.currentRoute.params : undefined;\n            const routeFrom = this.navigationStack.createRoute(currentRouteName, currentRouteParams);\n            const routeTo = this.navigationStack.createRoute(route.name, route.params);\n            const newRouteName = this.navigationStack.update(routeFrom, routeTo).page;\n            if (newRouteName !== routeTo.page) {\n              this.go(newRouteName, undefined, false);\n              return;\n            }\n            _currentRoute = route;\n            var disposable = new Subscription(() => this.currentRoute);\n            active.add(disposable);\n            this.currentRoute.handler();\n            this.handler(this.currentRoute);\n          } else if (_404Route && _404Route.redirectPage) {\n            this.goReplacing(_404Route.redirectPage);\n          }\n        } else {\n          this.hashIsDirty = false;\n        }\n      });\n\n      _disposables = new Subscription(\n        subscription,\n        active\n      );\n    }\n\n    return _disposables;\n  }\n\n  stop() {\n    if (_disposables) {\n      _disposables.unsubscribe();\n      _disposables = null;\n    }\n    this.isNavigationInProgress = false;\n  }\n\n  destroy() {\n    this.stop();\n    this.routes = {};\n  }\n\n  getPath(routeName, params) {\n    const route = this.routes[routeName];\n    if (route) {\n      return route.path(params);\n    } else {\n      console.error('Wrong route name: %s, valid route names: %s', routeName, Object.keys(this.routes).join(', '));\n    }\n  }\n\n  newNavigation(name) {\n    return {\n      'from': this.currentRoute ? this.currentRoute.name : undefined,\n      'to': name\n    }\n  }\n\n  reverseNavigation(nav) {\n    return {\n      from: nav.to,\n      to: nav.from\n    };\n  }\n\n  go(name, params, replace, skipHistory) {\n    if (this.isNavigationInProgress) {\n      return;\n    }\n\n    if (skipHistory !== undefined) {\n      const newNav = this.newNavigation(name);\n      const reverseNav = this.reverseNavigation(newNav);\n      reverseNav.skipHistory = skipHistory;\n      this.navigationStack.addSkipNavigation(reverseNav);\n    }\n\n    const sanitizedName = name.replace(Router.LTRIM_SLASH, '');\n    const path = this.getPath(sanitizedName, params);\n    if (path !== this._getHashPath()) {\n      this.isNavigationInProgress = true;\n      this.updatePathInBrowser(path, replace);\n    }\n  }\n\n  back() {\n    const navigation = {};\n    if (this.navigationStack.length > 1) {\n      let fromRoute = this.navigationStack.pop();\n      let auxFromRoute = fromRoute;\n      let backRoute = this.getLastRoute();\n\n      while (this.navigationStack.isSkipNavigation({from: auxFromRoute.page, to: backRoute.page}) && this.navigationStack.length>1) {\n        auxFromRoute = this.navigationStack.pop();\n        if (this.navigationStack.length > 0) {\n          backRoute = this.getLastRoute();\n        }\n      }\n\n      const page = backRoute.page;\n      const params = backRoute.params;\n\n      navigation.from = fromRoute;\n      navigation.to = backRoute;\n\n      this.go(page, params);\n    } else {\n      navigation.from = this.getLastRoute();\n      navigation.to = this.getLastRoute();\n    }\n    return navigation;\n  }\n\n  updatePathInBrowser(path, replace) {\n    if (this.useHistory) {\n      if (replace) {\n        this.historyReplaceState(path);\n      } else {\n        this.historyPushState(path);\n      }\n    } else {\n      if (replace) {\n        this.locationReplace(path);\n      } else {\n        this.locationHash(path);\n      }\n    }\n  }\n\n  goReplacing(name, params) {\n    this.go(name, params, true);\n  }\n\n  historyReplaceState(path) {\n    history.replaceState(null, null, path);\n  }\n\n  historyPushState(path) {\n    history.pushState(null, null, path);\n  }\n\n  locationReplace(path) {\n    location.replace('#!' + path);\n  }\n\n  locationHash(path) {\n    location.hash = '#!' + path;\n  }\n\n  /**\n   * Get last route from stack.\n   *\n   * @returns {Object} Last route from stack.\n   */\n  getLastRoute() {\n    return this.navigationStack.top();\n  }\n\n  /**\n   * Initialize router stack.\n   */\n  init() {\n    this._clearStack();\n  }\n\n  /**\n   * Clear the router stack.\n   */\n  _clearStack() {\n    this.navigationStack.clear();\n  }\n\n  /**\n   * Clear the router stack until given page is found on router stack.\n   */\n  clearStackUntil(targetPage) {\n    this.navigationStack.clearUntil(targetPage);\n  }\n}\n","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, hostReportError);\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map\n","/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (!!result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nvar OuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber));\nexport { OuterSubscriber };\n//# sourceMappingURL=OuterSubscriber.js.map\n","export default class NavigationStack {\n  constructor() {\n    this.navStack = [];\n    this.skipNav = {};\n  }\n\n  get length() {\n    return this.navStack.length;\n  }\n\n\n  addSkipNavigation(nav) {\n    if (nav.skipHistory === true || nav.skipHistory === false) {\n      this.skipNav[`${nav.from}:${nav.to}`] = nav.skipHistory;\n    }\n  }\n\n  _reverseNavigation(nav) {\n    return {\n      from: nav.to,\n      to: nav.from\n    };\n  }\n\n  isSkipNavigation(nav) {\n    return this.skipNav[`${nav.from}:${nav.to}`] === true;\n  }\n\n  lastNavigation() {\n    const navCount = this.navStack.length;\n    let from;\n    let to;\n    if (navCount === 1) {\n      to = this.navStack[0];\n    } else if (navCount > 1) {\n      to = this.navStack[navCount-1];\n      from = this.navStack[navCount-2];\n    }\n    return this.createNavigation(from, to);\n  }\n\n  createRoute(page, params = {}) {\n    return {\n      page,\n      params\n    };\n  }\n\n  createNavigation(routeFrom, routeTo) {\n    return {\n      from: routeFrom ? routeFrom.page : undefined,\n      to: routeTo ? routeTo.page : undefined\n    };\n  }\n\n  push(route) {\n    if (!this.top() || this.top().page !== route.page) {\n      this.navStack.push(route);\n    }\n  }\n\n  replace(route) {\n    if (!this.top() || this.top().page !== route.page) {\n      this.navStack[this.navStack.length - 1] = route;\n    }\n  }\n\n  pop() {\n    return this.navStack.pop();\n  }\n\n  top() {\n    return this.navStack.length > 0 ? this.navStack[this.navStack.length - 1] : undefined;\n  }\n\n  isBackwardNavigation(newNav) {\n    const lastNav = this.lastNavigation();\n    return lastNav && newNav.from === lastNav.to && newNav.to === lastNav.from;\n  }\n\n  update(routeFrom, routeTo) {\n    const nav = this.createNavigation(routeFrom, routeTo);\n    if (this.isBackwardNavigation(nav)) {\n      while(this.isSkipNavigation(this._reverseNavigation(this.lastNavigation()))) {\n        this.pop();\n      }\n      this.pop();\n    } else {\n      this.push(routeTo);\n    }\n    return this.top();\n  }\n\n  clear() {\n    this.navStack = [];\n  }\n\n  replaceRoute(route) {\n    if (this.navStack.length > 0) {\n      this.navStack[this.navStack.length - 1] = route;\n    } else {\n      this.push(route);\n    }\n  }\n\n  /**\n   * Clear the router stack until given page is found on router stack.\n   */\n  clearUntil(targetPage) {\n\n    if (this.navStack.find(route=>route.page === targetPage)) {\n      let currentRoute = null;\n      do {\n        currentRoute = this.navStack.pop();\n      } while (currentRoute && currentRoute.page != targetPage);\n    }\n  }\n}\n","import eventManager from './events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\nvar _after = function (times, func) {\n  return function () {\n    if (--times < 1) {\n      return func();\n    }\n  };\n};\n\nlet CellsManagerImport = class CellsManagerImport {\n  _importElement(endPoint, componentPath, callback) {\n    var node = document.createElement('link');\n    node.rel = 'import';\n    node.href = endPoint + componentPath;\n    node.onload = callback;\n    node.onerror = callback;\n    node.setAttribute('async', '');\n\n    document.head.appendChild(node);\n  }\n\n  _importElementPromise(endPoint, componentPath) {\n    return new Promise(resolve => {\n      this._importElement(endPoint, componentPath, resolve);\n    });\n  }\n\n  loadBundleForTemplate(baseUri, pageName, callback) {\n    return new Promise((resolve) => {\n      const finishComponentLoading = () => {\n        if (callback) {\n          callback.call(this);\n        }\n\n        resolve();\n      };\n\n      this._importElement(baseUri, pageName + '.html', finishComponentLoading);\n    });\n  }\n\n  loadComponent(component, baseUri, callback) {\n    const { BEFORE_IMPORT, AFTER_IMPORT } = externalEventsCodes;\n\n    return new Promise((resolve) => {\n      const finishComponentLoading = () => {\n        if (callback) {\n          callback.call(this);\n        }\n\n        resolve();\n      };\n\n      var list = component;\n\n      if (!Array.isArray(list)) {\n        list = [component];\n      }\n\n      if (list.length === 0) {\n        finishComponentLoading();\n        return;\n      }\n\n      eventManager.emit(BEFORE_IMPORT);\n\n      var iCb = _after(list.length, () => {\n        eventManager.emit(AFTER_IMPORT);\n        finishComponentLoading();\n      });\n\n      for (let index = 0; index < list.length; index++) {\n        const item = list[index];\n        this._importElement(baseUri, item.spec.path, iCb);\n      }\n    });\n  }\n\n  loadComponentByPriority(component, baseUri, callback) {\n    const { BEFORE_IMPORT, AFTER_IMPORT } = externalEventsCodes;\n\n    let list = component;\n    if (!Array.isArray(list)) {\n      list = [component];\n    }\n\n    if (list.length === 0) {\n      if (callback) {\n        callback.call(this);\n      }\n      return;\n    }\n\n    let priorityLists = this._createPriorityLists(list);\n\n    eventManager.emit(BEFORE_IMPORT);\n\n    this._chainElementLoading(baseUri, priorityLists, 0).then(() => {\n      eventManager.emit(AFTER_IMPORT);\n      if (callback) {\n        callback.call(this);\n      }\n    });\n  }\n\n  _createSortedArratByPriorityAndUniqueElements(list) {\n    list.sort((a, b) => {\n      let priorityA = (a.priority || 1000);\n      let priorityB = (b.priority || 1000);\n      if (priorityA === priorityB) {\n        return a.spec.path <= b.spec.path ? -1 : 1\n      } else {\n        return priorityA - priorityB;\n      }\n    });\n    return list.filter((elem, pos, arr) => {\n      return pos === 0 || elem.spec.path !== arr[pos - 1].spec.path;\n    });\n  }\n\n  _createPriorityLists(list) {\n    let sortedList = this._createSortedArratByPriorityAndUniqueElements(list);\n    let currentPriority = sortedList[0].priority;\n    let priorityLists = [[]];\n    let pivote = 0;\n    for (let index = 0; index < sortedList.length; index++) {\n      const item = sortedList[index];\n      if (item.priority === currentPriority) {\n        priorityLists[pivote].push(item);\n      } else {\n        currentPriority = item.priority;\n        priorityLists.push([]);\n        pivote = priorityLists.length - 1;\n        priorityLists[pivote].push(item);\n      }\n    }\n    return priorityLists;\n  }\n\n  _chainElementLoading(baseUri, elementPriorityLists, index) {\n    const currentPromises = [];\n\n    if (elementPriorityLists.length === index) {\n      return Promise.resolve();\n    }\n\n    for (let j = 0; j < elementPriorityLists[index].length; j++) {\n      currentPromises.push(this._importElementPromise(baseUri, elementPriorityLists[index][j].spec.path));\n    }\n\n    const count = index + 1; // OJO!!! Si no creamos variable intermedia / scoped, y hacemos count++, siempre coger el valor inicial.\n\n    return Promise.all(currentPromises).then(() => this._chainElementLoading(baseUri, elementPriorityLists, count));\n  }\n}\n\nexport default CellsManagerImport;\n","import CellsBridgeManagerDom from './manager/dom';\nimport Constants from './constants';\n\nconst { renderEngines } = Constants;\n\nexport default class CellsBridgeComponent extends CellsBridgeManagerDom {\n  /**\n   * Componen type. It could be TYPE_UI, TYPE_DM or TYPE_CC.\n   *\n   * @type {String}\n   */\n  type = '';\n\n  spec = null;\n  zone = null;\n  node = null;\n  fixed = null;\n  priority = null;\n  connections = null;\n\n  constructor(spec) {\n    super();\n    // @TODO: Por qu almacenar spec en una propiedad y algunas de sus propiedades en otra.\n    this.spec = spec;\n    this.type = spec.type;\n    this.zone = spec.zone;\n    this.fixed = spec.fixed;\n    this.priority = spec.priority;\n    this.node = this.spec.node ? this.spec.node : this.createElement(this.spec.tagName); // NOT WORKING CellsBridgeComponent\n    this.connections = spec.connections;\n  }\n\n  setProps() {\n    var spec = this.spec;\n    if (spec.connections && spec.connections.ignoreAttr) {\n      for (let index = 0; index < spec.connections.ignoreAttr.length; index++) {\n        const key = spec.connections.ignoreAttr[index];\n        delete spec.properties[key];\n      }\n    }\n\n    this.setAttrs(this.node, spec.properties);\n  }\n\n  isUnresolved() {\n    return this.node.tagName.indexOf('-') > -1 && this.node.constructor === HTMLElement;\n  }\n\n  isLitElement() {\n    return this.spec.render && this.spec.render === renderEngines.litElement;\n  }\n}\n","import CellsComponent from './component';\n\n/**\n * Class for managing templates\n *\n * A template is a component used in Cells apps for managing the components distribution\n *\n * A template has defined zones like app__header or app__main\n * where you can place your components.\n * The property zoneId (in the json page definition file) indicates the zone in wHich the\n * the component is appended.\n *\n * The components added to the template are the template's children. There are two kind of children:\n * the fixed children and the normal children. The normal ones are appended\n * to the asigned zone, the fixed ones are just stored in the fixedChildren property\n * and appended to an especial zone that is fixed.\n *\n * As the class extends from Component it has properties like node which refers to\n * the node the template is attached.\n *\n * The 'state' atributte in the node is used to know the actual state of the template\n * it can be active, cached or inactive.\n */\nexport default class CellsBridgeTemplate extends CellsComponent {\n  /**\n   * children\n   *\n   * a list of all the components in the template (including the fixed ones)\n   *\n   * @type {Array}\n   */\n  children = [];\n  /**\n   * fixedChildren\n   *\n   * a list of the components in the template of type fixed, not attached to the template\n   * but in a special fixed zone\n   *\n   * @type {Array}\n   */\n  fixedChildren = [];\n  /**\n   * type\n   *\n   * indicates the type of this component\n   *\n   * @type {String}\n   */\n  type = 'TEMPLATE';\n\n  /**\n   * returns the zone node in the template identified by the id.\n   *\n   * @param {String} zoneId\n   *\n   * @return {HTMLElement}\n   */\n  getZone(zoneId) {\n    var curTemplate = this.node;\n    var node;\n    if (!zoneId) {\n      node = curTemplate;\n    } else if (curTemplate.$ && curTemplate.$[zoneId]) {\n      node = curTemplate.$[zoneId];\n    } else {\n      node = curTemplate.querySelector('#' + zoneId);\n    }\n    return node || curTemplate;\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'cached'\n   * for not loading the template again the next time the template is used\n   */\n  cache() {\n    this._setAttribute('state', 'cached');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'active'\n   * so you can know which of the templates in html is the actual one\n   */\n  activate() {\n    this._setAttribute('state', 'active');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'inactive'\n   * so you can know which of the templates in html are not the actual one\n   */\n  deactivate() {\n    this._setAttribute('state', 'inactive');\n  }\n\n  native() {\n    this._setAttribute('state', 'native');\n  }\n\n  resetNextNavigation() {\n    this._getTemplate(this.node)._nextNavigation = undefined;\n  }\n\n  /**\n   * Set given value to corresponding attribute name of current template.\n   *\n   * @private\n   * @method _setAttribute\n   * @param {String} name  Attribute name.\n   * @param {String} value Attribute value.\n   */\n  _setAttribute(name, value) {\n    const template = this._getTemplate(this.node);\n\n    template.setAttribute(name, value);\n  }\n\n  /**\n   * Returns current template based on node type.\n   * If it's a routable component (page), we retrieve the first child element that matchs with cells-template.\n   * Otherwise, we return directly the node (cells-template).\n   *\n   * @private\n   * @method _getTemplate\n   * @param  {HTMLElement} node Node for template retrieval.\n   * @return {HTMLElement}      Associate template from given node.\n   */\n  _getTemplate(node) {\n    const { tagName } = node;\n    const isPage = tagName.toLowerCase().endsWith('-page');\n\n    return isPage ? this._getCellsTemplateFromShadowRootChildNodes(node) : node;\n  }\n\n  /**\n   * Returns first element from shadowRoot child nodes that matchs 'cells-template'.\n   *\n   * @private\n   * @method _getCellsTemplateFromShadowRootChildNodes\n   * @param  {HTMLElement} node First level component that contains cells-template inside shadowRoot childNodes.\n   * @return {HTMLElement}      Cells template.\n   */\n  _getCellsTemplateFromShadowRootChildNodes(node) {\n    return Array.from(node.shadowRoot.childNodes).find(el => el && el.tagName && el.tagName.toLowerCase().indexOf('cells-template') !== -1);\n  }\n\n  /**\n   * recieves one component or a list of them, gets the new ones and append\n   * them as child in the selected zone of the template\n   *\n   * @param {Array}/{Object} components\n   *\n   * @return {Boolean}\n   */\n  append(components) {\n    /* istanbul ignore else */\n    if (!components) {\n      return;\n    }\n    /* istanbul ignore else */\n    if (components.length === undefined) {\n      components = [components];\n    }\n\n    let newContentComponents = components.filter(component => component.fixed !== true);\n    let newFixedChildren = components.filter(component => component.fixed === true);\n    this.fixedChildren = this.fixedChildren.concat(newFixedChildren);\n    this.children = this.children.concat(components);\n    let zoneCache = [];\n\n\n    for (let index = 0; index < newContentComponents.length; index++) {\n      const component = newContentComponents[index];\n      // for backward compatibility with Polymer 1\n      component.node.setAttribute('data-select', component.zone);\n      // for the use of slots required by Polymer 2\n      component.node.setAttribute('slot', component.zone);\n      if (typeof zoneCache[component.zone] !== 'object') {\n        zoneCache[component.zone] = this.getZone(component.zone);\n      }\n      zoneCache[component.zone].appendChild(component.node);\n    }\n  }\n\n  config(cellsTemplateConfig) {\n    const {\n      name,\n      template: { id: templateId, name: templateName }\n    } = cellsTemplateConfig;\n\n    this.name = name;\n    this.node.id = templateId;\n    this.node.name = templateName;\n\n    this.setProps();\n  }\n}\n","import CellsTemplate from '../template';\nimport eventManager from './events';\nimport Constants from '../constants';\n\nconst { bindingCodes, externalEventsCodes } = Constants;\n\nlet CellsManagerTemplate = class CellsManagerTemplate {\n  cache = {};\n  templates = {};\n  selected = '';\n  locations = [];\n  size = 0;\n  fixedTemplates = ['__cross'];\n\n  constructor(options) {\n    const config = options || {};\n    const persistentPages = config.persistentPages || [];\n\n    this.viewLimit = (config.viewLimit && config.viewLimit >= 1 ? config.viewLimit : 3);\n    this.fixedTemplates = this.fixedTemplates.concat(persistentPages);\n    this.maxSize = this.viewLimit + this.fixedTemplates.length;\n  }\n\n  create(name, spec, isPrerendering = false) {\n    let template = this.get(name);\n\n    if (!template) {\n      template = this._createFromJSON(name, spec);\n      this._storeTemplate(name, template, isPrerendering);\n    }\n\n    return template;\n  }\n\n  /**\n   * Create Bridge Template based on Polymer component.\n   *\n   * @param  {String}       name    [description]\n   * @param  {HTMLElement}  element [description]\n   * @return {CellsBridgeTemplate}         [description]\n   */\n  createFromComponent(name, componentName) {\n    const template = this._createCellsTemplate(name, {tagName: componentName});\n\n    this._storeTemplate(name, template);\n    return template;\n  }\n\n  /**\n   * Register template from existing HTMLElement and stores it on memory.\n   *\n   * @param  {String}               name    Template name.\n   * @param  {HTMLElement}          element Template element (existing DOM element)\n   * @return {CellsBridgeTemplate}          Cells bridge template object.\n   */\n  register(name, element) {\n    const template = this._createFromHTMLElement(name, element);\n\n    this._storeTemplate(name, template);\n    return template;\n  }\n\n  /**\n   * Store given template on memory.\n   *\n   * @param  {String}               name     Template name.\n   * @param  {CellsBridgeTemplate}  template Cells bridge template object.\n   * @paran  {Boolean}              isPrerendering indicate if the page is being pre-rendering\n   */\n  _storeTemplate(name, template, isPrerendering) {\n    const { node } = template;\n\n    if (isPrerendering) {\n      const templateIsNotInFixedTemplates = this.fixedTemplates.indexOf(name) === -1;\n      if (templateIsNotInFixedTemplates) {\n        this.fixedTemplates.push(name);\n        this.maxSize++;\n        const cacheRanOutOfSpaceForNotFixedTemplates = this.maxSize === this.fixedTemplates.length;\n        if (cacheRanOutOfSpaceForNotFixedTemplates) {\n          this.maxSize += this.viewLimit;\n        }\n      }\n    }\n\n    if (this.size >= this.maxSize) {\n      const olderTemplateToDeallocate = this._getOlderRemovableTemplate();\n      if (olderTemplateToDeallocate) {\n        this.removeTemplate(olderTemplateToDeallocate);\n      } else {\n        console.warn('No space left in template cache for template ', name);\n      }\n    }\n\n    this.locations.push(name);\n    this.cache[name] = template;\n    this.templates[name] = node;\n    this.size++;\n  }\n\n  _getOlderRemovableTemplate() {\n    let found = false;\n    let olderRemovableTemplate;\n\n    for(let i=0; !found && i < this.locations.length; i++) {\n      const isNotPersistantPage = this.fixedTemplates.indexOf(this.locations[i]) == -1;\n\n      if (isNotPersistantPage) {\n        olderRemovableTemplate = this.locations[i];\n        found = true;\n      }\n    }\n\n    return olderRemovableTemplate;\n  }\n\n  /**\n   * Create Bridge Template based on existing HTML Element.\n   *\n   * @param  {String}       name    [description]\n   * @param  {HTMLElement}  element [description]\n   * @return {CellsBridgeTemplate}         [description]\n   */\n  _createFromHTMLElement(name, element) {\n    const template = this._createCellsTemplate(name, {node: element});\n\n    return template;\n  }\n\n  _createFromJSON(name, spec) {\n    let template = this._createCellsTemplate(name, spec);\n\n    return template;\n  }\n\n  // OJO!!!!\n  // Debido a a la jerarqua de clases, esto debera ser implementado por cada manager\n  _createCellsTemplate(name, spec) {\n    return new CellsTemplate(name, spec);\n  }\n\n  get(name) {\n    return this.cache[name];\n  }\n\n  getNode(name) {\n    return this.templates[name];\n  }\n\n  parseTemplateName(name) {\n    return name;\n  }\n\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  select(name, bridgeChannelManager = undefined, binding = 'always') {\n    const { TEMPLATE_TRANSITION_END } = externalEventsCodes;\n    const { CURRENTVIEW, UI } = bindingCodes;\n    var template = this.get(name);\n    let cache = this.cache;\n    let oldPageName;\n\n    for (let tplName in cache) {\n      if(cache.hasOwnProperty(tplName)){\n        if (tplName === this.selected) {\n          oldPageName = tplName;\n          cache[tplName].deactivate();\n        } else if (name !== tplName) {\n          cache[tplName].cache();\n        }\n      }\n    }\n\n    this.selected = name;\n    template.activate();\n\n    if(bridgeChannelManager && binding !== CURRENTVIEW && binding !== UI){\n      bridgeChannelManager.updateAppContext(oldPageName, name);\n      bridgeChannelManager.initPrivateChannel(oldPageName, name);\n    }\n\n    eventManager.emit(TEMPLATE_TRANSITION_END, template);\n  }\n\n  /**\n   *\n   * remove one template by name.\n   * it remove the template from html and from the templates and cache nodes\n   *\n   * @param String templateName the name of the  template to remove\n   */\n  removeTemplate(templateName) {\n    if (this.templates[templateName]) {\n      const node = document.querySelector('#' + this.templates[templateName].id);\n      const pos = this.locations.indexOf(templateName);\n      this.locations.splice(pos, 1);\n      node.parentNode.removeChild(node);\n      delete this.templates[templateName];\n      delete this.cache[templateName];\n      this.size--;\n    }\n  }\n\n  /**\n   *\n   * remove all templates except initial one and cross component one.\n   *\n   * @param String initialTemplate the name of the initial template\n   * @param String crossContainerId the name of the cross component template\n   */\n  removeTemplates(initialTemplate, crossContainerId) {\n    for (let templateName in this.templates) {\n      if(this.templates.hasOwnProperty(templateName)){\n        if (templateName !== initialTemplate && templateName !== crossContainerId) {\n          this.removeTemplate(templateName);\n        }\n      }\n    }\n  }\n\n  /**\n   *\n   * remove all children of a template,\n   * it is used, for example, for clear cross component template.\n   *\n   * @param String templateName the name of the  template\n   */\n  removeTemplateChildrens(templateName){\n    let template = this.templates[templateName];\n    if(template && template.children){\n      for (let i = template.children.length - 1; i >= 0; i-- ) {\n        template.removeChild(template.children[i]);\n      }\n    }\n  }\n}\n\nexport default CellsManagerTemplate;\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar EmptyErrorImpl = /*@__PURE__*/ (function () {\n    function EmptyErrorImpl() {\n        Error.call(this);\n        this.message = 'no elements in sequence';\n        this.name = 'EmptyError';\n        return this;\n    }\n    EmptyErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return EmptyErrorImpl;\n})();\nexport var EmptyError = EmptyErrorImpl;\n//# sourceMappingURL=EmptyError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ArgumentOutOfRangeErrorImpl = /*@__PURE__*/ (function () {\n    function ArgumentOutOfRangeErrorImpl() {\n        Error.call(this);\n        this.message = 'argument out of range';\n        this.name = 'ArgumentOutOfRangeError';\n        return this;\n    }\n    ArgumentOutOfRangeErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ArgumentOutOfRangeErrorImpl;\n})();\nexport var ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map\n","import { Observable, fromEvent } from 'rxjs';\nimport { first } from 'rxjs/operators';\n\nlet BridgeChannelManager = class BridgeChannelManager {\n  constructor(bridge) {\n    this.componentConnector = bridge.ComponentConnector;\n    this.privateChannels = new Set();\n  }\n\n  /**\n   * Returns the name of the application context channel.\n   */\n  getAppContextChannelName() {\n    return '__bridge_app';\n  }\n\n  /**\n   * Returns the name of the channels that has cancelations of back navigations.\n   */\n  getCancelledBackNavigationChannelName() {\n    return '__bridge_cancelled_back_navigation';\n  }\n\n  /**\n   * Returns the prefix for private channels.\n   */\n  getPrivateChannelPrefix() {\n    return '__bridge_page_';\n  }\n\n  /**\n   * Returns the prefix for event channels.\n   */\n  getEventChannelPrefix() {\n    return '__bridge_evt_';\n  }\n\n  /**\n   * Returns the prefix for generic channels.\n   */\n  getBridgeChannelPrefix() {\n    return '__bridge_ch_';\n  }\n\n  /**\n   * Returns the prefix for generic channels.\n   */\n  getPostMessageChannelPrefix() {\n    return '__bridge_post_message_';\n  }\n\n  /**\n   * Gets a channel that is for exclusive use of the bridge.\n   * If the channel doesn't exist, it creates one channel with.\n   *\n   * @param name of the channel to retrieve/create\n   *\n   * @return {Channel}\n   *\n   */\n  getBridgeChannel(channelName) {\n    return this.componentConnector.manager.get(this.getBridgeChannelPrefix() +  channelName);\n  }\n\n  getIdleCallbackChannel() {\n    const iddleChannel$ = Observable.create(observer => observer.next(true));\n\n    return iddleChannel$.pipe(first());\n  }\n\n  /**\n   * Gets the application context channel.\n   *\n   * @return {Channel}\n   */\n  getAppContextChannel() {\n    return this.componentConnector.manager.get(this.getAppContextChannelName());\n  }\n\n  /**\n   * Gets the cancelled back navigations channel.\n   *\n   * @return {Channel}\n   */\n  getCancelledBackNavigationChannel() {\n    return this.componentConnector.manager.get(this.getCancelledBackNavigationChannelName());\n  }\n\n  /**\n   * Gets the private channel that corresponds to a page.\n   *\n   * @param  {String} pageName\n   *\n   * @return {Channel}\n   */\n  getPrivate(pageName) {\n    let newName = this.getPrivateChannelPrefix() + pageName;\n    let channel = this.componentConnector.manager.get(newName);\n    this.privateChannels.add(newName);\n    return channel;\n  }\n\n  getPostMessageChannel(eventName){\n    let newName = this.getPostMessageChannelPrefix() + eventName;\n\n    return this.componentConnector.manager.get(newName);\n  }\n\n  /**\n   * Creates and initializes the application context channel.\n   *\n   */\n  initAppContextChannel() {\n    this.getAppContextChannel();\n  }\n\n  /**\n   * Creates and initializes the cancelled back navigation channel.\n   *\n   */\n  initCancelledBackNavigationChannel() {\n    this.getCancelledBackNavigationChannel();\n  }\n\n  /**\n   * Initializes the private chanel for the given page.\n   *\n   * @param {String} pageName\n   *\n   */\n  initPrivateChannel(oldPageName, newPageName) {\n    this.publishPrivatePageStatus(newPageName, true);\n\n    if (oldPageName) {\n      this.publishPrivatePageStatus(oldPageName, false);\n    }\n  }\n\n  /**\n   * Publish the status of a page in its private channel\n   *\n   * @param {String} pageName\n   * @param {Boolean} status is true if the page is active, and false if it is inactive\n   */\n  publishPrivatePageStatus(pageName, status) {\n    const channel = this.getPrivate(pageName);\n    const evt = this.componentConnector.createEvent('page-load', status);\n\n    channel.next(evt);\n  }\n\n  /**\n   * Updates the application context.\n   * Puts in context the information of the current page and previous active page.\n   *\n   * @param {String} oldPage was the previous current page\n   * @param {String} newPage is the page that becomes the current page\n   *\n   */\n  updateAppContext(oldPage, newPage) {\n    const evt = this.componentConnector.createEvent('app-context', {\n      currentPage: newPage,\n      fromPage: oldPage\n    });\n\n    this.getAppContextChannel().next(evt);\n  }\n\n  publishCancelledBackNavigation(navigation) {\n    const evt = this.componentConnector.createEvent('back-nav-cancelled', navigation);\n\n    this.getCancelledBackNavigationChannel().next(evt);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isPrivateChannel(name) {\n    return name.indexOf(this.getPrivateChannelPrefix()) === 0;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActivePrivateChannel(name) {\n    return this.privateChannels.has(name);\n  }\n\n  /**\n   * resets all channels, including the private channels.\n   * It removes all observers and publications.\n   *\n   */\n  resetBridgeChannels(mainNode, cleanPrivateChannels) {\n    let bridgeChannels = Object.keys(this.componentConnector.manager.channels);\n\n    bridgeChannels.forEach(function(chnlName) {\n      let chnl = this.componentConnector.manager.get(chnlName);\n      chnl.clean();\n      chnl.unsubscribeAll();\n    }.bind(this));\n\n    this.componentConnector.unregister(mainNode, cleanPrivateChannels);\n    this.componentConnector.unregisterAllSubscriptors(cleanPrivateChannels);\n    this.componentConnector.manager.cleanAllChannels();\n  }\n\n  initEventChannels(node, externalEvents) {\n    externalEvents.forEach(function(eventName) {\n      let prefix = this.getEventChannelPrefix();\n      let channelName = prefix + eventName;\n      let channel = this.componentConnector.manager.get(channelName);\n      let source = fromEvent(node, eventName);\n      source.subscribe(function(event) {\n        channel.next(event);\n      });\n    }.bind(this));\n  }\n\n  subscribeToEvent(node, eventName, callback) {\n    let prefix = this.getEventChannelPrefix();\n    let channelName = prefix + eventName;\n    let subscriptor = this.componentConnector.getSubscriptor(node);\n    let channel = this.componentConnector.manager.get(channelName);\n    callback.node = node;\n    subscriptor.subscribe(channel, callback);\n  }\n}\n\n/**\n * BridgeChannelManager definition\n */\nexport default BridgeChannelManager;\n","import eventManager from '../manager/events';\nimport Constants from '../constants';\n\nconst { externalEventsCodes } = Constants;\n\n/**\n * Class to define core private channels behavior\n */\nlet ActionChannelManager = class ActionChannelManager {\n  constructor(bridge) {\n    this.bridge = bridge;\n    this.PageManager = bridge.PageManager;\n    this.ChannelManager = bridge.BridgeChannelManager;\n    this.TemplateManager = bridge.TemplateManager;\n  }\n\n  subscribeAll() {\n    this.ChannelManager.getBridgeChannel('config').subscribe(evt => this._configSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('locales').subscribe(evt => this._localesSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('logout').subscribe(evt => this._logoutSubscriptor(evt));\n  }\n\n  _isAllowedProperty(prop) {\n    return typeof this.bridge[prop] !== 'function';\n  }\n\n  _configSubscriptor(evt) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const selected = this.TemplateManager.selected;\n\n    if (evt.detail) {\n      for (let prop in evt.detail) {\n        if(evt.detail.hasOwnProperty(prop)) {\n          if(this._isAllowedProperty(prop)) {\n            this.bridge[prop] = evt.detail[prop];\n          }\n        }\n      }\n\n      if (evt.detail.app || evt.detail.pagesPath) {\n        this.PageManager.clear();\n        this.TemplateManager.removeTemplates(selected, this.bridge.crossContainerId);\n        eventManager.once(TEMPLATE_REGISTERED, () => this.TemplateManager.removeTemplate(selected));\n      }\n    }\n  }\n\n  _localesSubscriptor(evt) {\n    if (window.I18nMsg && evt.detail && evt.detail.lang) {\n      window.I18nMsg.lang = evt.detail.lang;\n    }\n  }\n\n  _logoutSubscriptor() {\n    this.bridge.logout();\n    this.subscribeAll();\n  }\n};\n\nexport default ActionChannelManager;\n","let ComposerEngineProxy = class ComposerEngineProxy {\n\n  /**\n   * Creates an instance of ComposerPageBuilder.\n\n   * @param {ComponentConnector} componentConnector\n   */\n  constructor(componentConnector, composerEngine) {\n    this.componentConnector = componentConnector;\n    this.composerEngine = composerEngine;\n    this.segments = [];\n    this.customGroups = [];\n    this.normalizedCustomGroups = [];\n  }\n\n  /**\n   * Initializes the composerEngine setting the initial parameters\n   * and subscribing to the channel that will receive the parameters.\n   *\n   * @param {Object} initialParams has this structure:\n   *  {\n   *    segments: [ segmentId1, segmentId2, ..., segmentIdN],\n   *    customGroups: [ {name: n1, value: v1}, ..., {name: n2, value: v2}]\n   *  }\n   *\n   */\n  init(initialParams) {\n    this.initialParams = initialParams || {};\n    this.addParams(this.initialParams);\n    this.componentConnector.get(this.getComposerEngineChannelName()).subscribe((evt) => this.handleFeatureFlags(evt));\n  }\n\n  /**\n   * @returns {String} the name of the channel used to pass the parameters to the composerEngine\n   */\n  getComposerEngineChannelName() {\n    return '__composer_engine';\n  }\n\n  /**\n   * It processes the new parameters that are placed in the composerEngine's channel\n   *\n   * @param {Event} evt\n   */\n  handleFeatureFlags(evt) {\n    const params = evt.detail;\n    this.addParams(params);\n  }\n\n  /**\n   * Adds parameters to use with composerEngine\n   *\n   * @param {Object} params has this structure:\n   * {\n   *  segments: [ segmentId1, segmentId2, ..., segmentIdN],\n   *  customGroups: [ {name: n1, value: v1}, ..., {name: n2, value: v2}]\n   * }\n   */\n  addParams(params) {\n    this.addSegments(params.segments);\n    this.addCustomGroups(params.customGroups);\n  }\n\n  /**\n   * Adds the segment ids passed in segmentList.\n   * It only adds the new segments.\n   *\n   * @param {Array<String>} segmentList\n   */\n  addSegments(segmentList) {\n    if (segmentList) {\n      segmentList.forEach(segmentId => {\n        if (this.segments.indexOf(segmentId)===-1) {\n          this.segments.push(segmentId);\n        }\n      });\n    }\n  }\n\n  /**\n   * Adds the custom groups passed in customGroupList\n   * It only adds the new groups.\n   *\n   * @param {Array<{name, value}>} customGroupList\n   */\n  addCustomGroups(customGroupList) {\n    if (customGroupList) {\n      customGroupList.forEach(aCustomGroup => {\n        const existingGroup = this.customGroups.find(element => element.name === aCustomGroup.name);\n        if (!existingGroup) {\n          this.customGroups.push(aCustomGroup);\n        } else {\n          if (!existingGroup.isConstant) {\n            existingGroup.value = aCustomGroup.value;\n          }\n        }\n      });\n    }\n    this.normalizedCustomGroups = this.normalizeCustomGroups(this.customGroups);\n  }\n\n  /**\n   * It converts the key/value pair of a customGroup into a String with the format\n   * used by Composer Engine\n   *\n   * @param {Array<{name, value}>} customGroups\n   * @returns\n   */\n  normalizeCustomGroups(customGroups) {\n    return customGroups.map(group => this.composerEngine.customGroup(group.name, JSON.stringify(group.value)));\n  }\n\n  /**\n   * It gets the page using the feature flag parameters\n   *\n   * @param {String} pageName\n   */\n  getPage(pageName) {\n    return this.composerEngine.getPageForAll(\n      pageName,\n      this.segments,\n      this.normalizedCustomGroups\n    );\n  }\n\n  /**\n   * Clears all parameters and sets the initial ones.\n   *\n   */\n  reset() {\n    this.segments = [];\n    this.customGroups = [];\n    this.init(this.initialParams);\n  }\n}\n\nexport default ComposerEngineProxy;\n","import SEMaaS from 'cells-semaas-adapter';\nimport Constants from './constants';\nimport dotProp from 'es5-dot-prop';\n\nconst { get, set } = dotProp;\nconst {\n  monitoring: {\n    SEMAAS: {\n      mrId, nameSpace, identifier, consumerId, policy,\n    },\n  },\n  externalEventsCodes\n} = Constants;\n\n// const flattenObject = (object, separator = '=', join = ', ') => Object.keys(object).map(key => `${key}${separator}${object[key]}`).join(join);\n\nconst {\n  PAGE_READY,\n  PARSE_ROUTE,\n  AFTER_PUBLISH,\n  NAV_REQUEST,\n  BEFORE_SET_ATTR_TO_NODE,\n  AFTER_SET_ATTR_TO_NODE,\n  BEFORE_CREATE_NODE,\n  AFTER_CREATE_NODE,\n  BEFORE_IMPORT,\n  AFTER_IMPORT,\n  PAGE_REQUEST,\n  PAGE_RESPONSE,\n  DATA_LOAD,\n  TEMPLATE_TRANSITION_END,\n  TRACK_EVENT,\n  TEMPLATE_REGISTERED,\n  ROUTER_BACKSTEP,\n  LOG_EVENT\n} = externalEventsCodes;\n\nexport default class Monitoring {\n  bridge = null;\n\n  application = null;\n\n  constructor(bridge) {\n    const { semaas = {}, logs } = bridge;\n\n    if (logs) {\n      const monitorArchitecture = false; // Boolean(semaas && semaas.architecture);\n      const applicationSemaasConfiguration = this.getApplicationConfiguration(semaas);\n\n      this.application = this.initilizeSEMaaSAdapter(applicationSemaasConfiguration);\n\n      if (monitorArchitecture) {\n        const bridgeSemaasConfiguration = this.getBridgeConfiguration(semaas);\n\n        this.bridge = this.initilizeSEMaaSAdapter(bridgeSemaasConfiguration);\n      }\n    }\n  }\n\n  getBridgeConfiguration(semaasConfiguration) {\n    const { tsec2JWTEndpoint, region, dnsTld, version } = semaasConfiguration;\n\n    return {\n      policy,                     // bridge constant\n      mrId,                       // bridge constant\n      nameSpace,                  // bridge constant\n      identifier,                 // bridge constant\n      consumerId,                 // bridge constant\n      tsec2JWTEndpoint,           // configuration object,\n      region,                     // configuration object\n      dnsTld,                     // configuration object\n      version,                    // configuration object\n    };\n  }\n\n  getApplicationConfiguration(semaasConfiguration) {\n    const { tsec2JWTEndpoint, policy, mrId, nameSpace, consumerId, region, dnsTld, version } = semaasConfiguration;\n\n    return {\n      policy,                     // configuration object\n      mrId,                       // configuration object\n      nameSpace,                  // configuration object\n      identifier: 'application',  // application constant\n      consumerId,                 // configuration object\n      tsec2JWTEndpoint,           // configuration object\n      region,                     // configuration object\n      dnsTld,                     // configuration object\n      version,                    // configuration object\n    };\n  }\n\n  initilizeSEMaaSAdapter(configuration) {\n    return new SEMaaS(configuration);\n  }\n\n  logBridge(log) {\n    this.bridge.log(log);\n  }\n\n  logApplication(log) {\n    this.application.log(log);\n  }\n\n  ingest(spans) {\n    this.application.ingest(spans);\n  }\n\n  createSpan(data) {\n    return this.application && this.application.createSpan(data);\n  }\n\n  createUUID() {\n    return this.application && this.application.createUUID();\n  }\n\n  hasBridgeLoggingEnabled() {\n    return !!this.bridge;\n  }\n\n  hasApplicationLoggingEnabled() {\n    return !!this.application;\n  }\n\n  buildLog(eventName, data) {\n    const { detail } = data;\n    const DEFAULT_LOG = {\n      message: `cells-bridge::${eventName}`,\n      properties: {}\n    };\n    const log = Object.assign({}, detail, DEFAULT_LOG);\n\n    switch (eventName) {\n    case PAGE_READY: {\n      const { page, components } = data;\n\n      log.properties = {\n        page,\n        components,\n      };\n      break;\n    }\n    case PARSE_ROUTE: {\n      const { name, params, pattern } = data;\n      //const normalizedParams = flattenObject(params);\n\n      log.properties = {\n        route: name,\n        //params: normalizedParams,\n        params,\n        pattern,\n      };\n      break;\n    }\n    case NAV_REQUEST: {\n      const { event, detail } = data;\n      const { page } = detail;\n      const params = event.detail;\n      //const normalizedParams = flattenObject(params);\n\n      //trace.description = `Page: ${page}, params: ${normalizedParams}`;\n      log.properties = {\n        page,\n        params\n      };\n      break;\n    }\n    case PAGE_REQUEST: {\n      const { params, url } = data;\n\n      log.properties = {\n        params,\n        url\n      };\n\n      break;\n    }\n    case PAGE_RESPONSE: {\n      log.properties = Object.assign({}, data);\n      break;\n    }\n    // Special case.\n    // We canalize the log message through the rest of bridge events - as we need to deflate data from channels\n    case LOG_EVENT: {\n      const { detail, event } = data;\n      const { message, properties } = detail;\n      const { detail: eventDetail } = event;\n\n      log.message = message;\n      log.properties = this.unflattenData(properties, eventDetail); // unflatten(properties, event)\n      break;\n    }\n    case AFTER_PUBLISH:\n    case BEFORE_SET_ATTR_TO_NODE:\n    case AFTER_SET_ATTR_TO_NODE:\n    case BEFORE_CREATE_NODE:\n    case AFTER_CREATE_NODE:\n    case BEFORE_IMPORT:\n    case AFTER_IMPORT:\n    case DATA_LOAD:\n    case TEMPLATE_TRANSITION_END:\n    case TRACK_EVENT:\n    case TEMPLATE_REGISTERED:\n    case ROUTER_BACKSTEP:\n      break;\n    }\n\n    return log;\n  }\n\n  isBridgeLoggableEvent(eventName) {\n    const LOGGABLE_EVENTS = [\n      PAGE_READY,\n      PARSE_ROUTE,\n      NAV_REQUEST,\n      PAGE_REQUEST,\n      PAGE_RESPONSE,\n    ];\n\n    return LOGGABLE_EVENTS.includes(eventName);\n  }\n\n  unflattenData(properties, values) {\n    const result = {};\n\n    Object.keys(properties).forEach(key => {\n      const property = properties[key];\n      let value = null;\n\n      if (property instanceof Object) {\n        const { bind: valuePath } = property;\n\n        value = get(values, valuePath);\n      } else {\n        value = property;\n      }\n\n      set(result, key, value);\n    });\n\n    return result;\n  }\n}\n","let PostMessageManager = class PostMessageManager {\n  constructor(bridge){\n    if (!bridge.postMessageTargetOrigin) {\n      this.enabled = false;\n    } else {\n      if(bridge.postMessageTargetOrigin === '*'){\n        this.enabled = false;\n        console.warn(\"For security reasons postMessageTargetOrigin can't be the wildcard '*'. See docs for more info. \");\n      } else {\n        this.enabled = true;\n        this.postMessageTargetOrigin = bridge.postMessageTargetOrigin;\n      }\n    }\n    this.componentConnector = bridge.ComponentConnector;\n    this.bridgeChannelManager = bridge.BridgeChannelManager;\n  }\n\n  /**\n   * Handles the postMessage events sent to this window from its parent.\n   * It transforms them into channels __bridge_post_message_{your-event-name} including the payload, to do so the postMessage must be:\n   * {\n   *  \"event\" : \"your-event-name\",\n   *  \"detail\" : <any>\n   * }\n   * Creates and listens to the private channel __bridge_ch_send_post_message to send postMessages to parent window.\n   */\n  setupPostMessages() {\n    if(this.enabled) {\n      window.addEventListener('message', ({data}) => {\n        if(data.event){\n          let channel = this.bridgeChannelManager.getPostMessageChannel(data.event);\n          const evt = this.componentConnector.createEvent(data.event, data.detail);\n          channel.next(evt);\n        }\n      });\n      this._sendPostMessage({ event: '__bridge-ready' });\n      this.bridgeChannelManager.getBridgeChannel('send_post_message').subscribe(evt => this._sendPostMessage(evt.detail));\n    }\n  }\n\n  _sendPostMessage(evt) {\n    window.parent && window.parent.postMessage({ eventName: evt.event, eventDetail: evt.detail }, this.postMessageTargetOrigin);\n  }\n}\n\nexport default PostMessageManager;","// eslint-disable-next-line no-unused-vars\nimport ManagerDom from './manager/dom';\nimport ManagerPage from './manager/page';\nimport ComponentConnector from './component-connector';\nimport Router from './router';\nimport Sanitizer from './sanitizer';\nimport eventManager from './manager/events';\nimport ImportManager from './manager/import';\nimport TemplateManager from './manager/template';\nimport Component from './component';\nimport BridgeChannelManager from './manager/bridge-channels';\nimport ActionChannelManager from './manager/action-channels';\nimport Utils from './utils';\nimport Constants from './constants';\nimport ComposerEngineProxy from './composer/composer-engine-proxy';\nimport Monitoring from './monitoring';\nimport FeatureFlagCollection from './featureflag/feature-flag-collection';\nimport FeatureFlagComponent from './featureflag/feature-flag-component';\nimport PostMessageManager from './manager/post-message';\n\nconst { dasherize, camelize } = Utils;\nconst { bindingCodes, binding, componentsPath, composerEndpoint, externalEvents, externalEventsCodes, initialTemplate: DEFAULT_INITIAL_TEMPLATE, pagesPath: DEFAULT_PAGES_PATH, prplCodes, prpl, preRenderState, renderEngines } = Constants;\n\nconst { DEFAULT: ALWAYS } = binding;\nconst { DEFAULT: DEFER } = prpl;\n\nvar coreInstances = 0;\nvar globalChannel = {};\n\n// @TODO: Agregar los imports y eliminar los `new this.*`\n// @TODO: Revisar los mtodos que manipulan templates. Quizs deban ser responsabilidad del TemplateManager\n\nlet CellsBridge = class CellsBridge {\n  ComponentConnector = null;\n  DomManager = null;\n  ImportManager = null;\n  PageManager = null;\n  Router = null;\n  TemplateManager = null;\n  Sanitizer = null;\n  BridgeChannelManager = null;\n\n  /**\n\t * Binding Type\n\t *\n\t * 'always'      => Register all components of all views. Never unregister them.\n\t * 'delayed'     => Like 'always' but waits for idle to start the animation.\n\t * 'ui'          => Register only ui and cross components of all views. Never\n\t *                  unregister them. Datamanagers are only connected when the\n\t *                  animation of the current view finishes.\n\t * 'currentview' => Register all components of the current view when the\n\t *                  animation finishes.\n\t *\n\t * @type {String}\n\t */\n  binding = ALWAYS;\n  /**\n   *\n   * @type {sting}\n   *\n   *  none => Don't use bundled pages\n   *  defer => Use bundled pages. It renders the page once every component has been loaded.\n   *  progressive => Use bundled pages. It renders the page inmediatelly while its component are loading.\n   *  hero => Use bundled pages. It renders the page inmediatelly while its component are loading using priorities.\n   */\n  prplLevel = DEFER;\n  /**\n\t * Pages Cache\n\t *\n\t * Saves page definitions into localstorage.\n\t *\n\t * @type {Boolean}\n\t */\n  cache = true;\n  /**\n\t * PubSub Context\n\t *\n\t * 'global'   => Notifies all components of all bridge instances.\n\t * 'local'    => Notifies components created by the current bridge instance.\n\t *\n\t * @type {String}\n\t */\n  channel = 'global';\n  /**\n   * URL Components Path\n   *\n   * URL path to load components.\n   *\n   * @type {String}\n   */\n  componentsPath = componentsPath;\n  /**\n\t * URL templates Path\n\t *\n\t * URL path to load templates.\n\t *\n\t * @type {String}\n\t */\n  templatesPath = '';\n  /**\n\t * Cross container node Id\n\t *\n\t * @type {String}\n\t */\n  crossContainerId = '__cross';\n  /**\n\t * Prints debug info\n\t *\n\t * @type {Boolean}\n\t */\n  debug = true;\n  /**\n\t * Proactive Cache.\n\t * Loads future pages definition.\n\t *\n\t * @type {Boolean}\n\t */\n  preCache = false;\n  /**\n\t * Proactive Render\n\t * Render future pages.\n\t *\n\t * @type {Boolean}\n\t */\n  preRender = false;\n  /**\n\t * Prefix for LocalStorage keys\n\t *\n\t * @type {String}\n\t */\n  storagePrefix = '__bridge-';\n  /**\n\t * Lib version.\n\t *\n\t * @type {string}\n\t */\n  version = '3.12.0';\n  /**\n\t * Max number of views\n\t *\n\t * Keeps this number of template alive.\n\t *\n\t * @type {Number}\n\t */\n  viewLimit = 1000;\n  /**\n   * The name of the initial template that gets rendered\n   *\n   * @type {String}\n   */\n  initialTemplate = DEFAULT_INITIAL_TEMPLATE;\n  /**\n   *  The node where the template will be rendered\n   */\n  __mainNodeElement = null;\n\n  /**\n\t * Events to expose\n\t *\n\t *\n\t * @type {Array}\n\t */\n  externalEvents = externalEvents;\n\n  /**\n   * The lists of routes that are rendered through a WebComponent.\n   *\n   * @type {Array}\n   */\n  pages = [];\n\n  /**\n   * The path to the folder that contains the components that renders a route.\n   *\n   * @type {String}\n   */\n  pagesPath = DEFAULT_PAGES_PATH;\n\n  /**\n   * The list of templates that are remote and need to be fetched from a remote server\n   * @type {Array}\n   */\n  remoteTemplates = [];\n\n  /**\n   * If it is true, the Bridge will use the Composer Engine to get the json\n   * pages (composer mocks)\n   * @type {Boolean}\n   */\n  useComposerEngine = false;\n\n  /**\n   * Json that contains the App definition.\n   * This is required by Composer Engine.\n   *\n   * @type {JSON}\n   */\n  appJson = '';\n\n  appId = '';\n  composerEndpoint = composerEndpoint;\n  templatesPath = '';\n\n  monitoring = null;\n\n  logs = false;\n  navRequestListener = null;\n\n  constructor(config) {\n    const { NAV_REQUEST, ROUTER_BACKSTEP } = externalEventsCodes;\n\n    if (!config || typeof config !== 'object') {\n      config = {};\n    }\n\n    config.prplLevel = this._normalizePrplLevel(config.prplLevel);\n    this.preRenderingPages = {};\n\n    let dependencies = config.dependencies;\n    delete config.dependencies;\n    Object.assign(this, config);\n\n    this._initDependencies(dependencies);\n\n    if (this.channel === 'global') {\n      this.ComponentConnector.manager.channels = globalChannel;\n    }\n\n    if (this.useComposerEngine) {\n      this._initComposerEngine();\n    }\n\n    if (!this.mainNode) {\n      console.warn('You should indicate the main node of your app');\n    } else {\n      this._plugExternalEvents();\n    }\n\n    if(config.featureFlag) {\n      if(config.featureFlag.subscribe) {\n        this.featureFlagCollection.subscribe(config.featureFlag.subscribe)\n      }\n\n      if(config.featureFlag.defaultChangedCallback) {\n        FeatureFlagComponent.defaultChangedCallback(config.featureFlag.defaultChangedCallback);\n      }\n\n      if(config.featureFlag.defaultFeatures) {\n        this.featureFlagCollection.update({features: config.featureFlag.defaultFeatures})\n      }\n\n      if(config.featureFlag.src) {\n        fetch(config.featureFlag.src)\n          .then(response => response.json())\n          .then(response => this.featureFlagCollection.update(response))\n      }\n    }\n    this.id = coreInstances++;\n    this._initCrossComponents();\n\n    if (this.cache) {\n      this.PageManager.persistent = true;\n    }\n    if (this.generateRequestUrl) {\n      console.assert(\n        typeof this.generateRequestUrl === 'function',\n        'generateRequestUrl has to be a function'\n      );\n      this.PageManager.generateRequestUrl = this.generateRequestUrl;\n    }\n    if (this.onPageDefinitionNotFound) {\n      console.assert(\n        typeof this.onPageDefinitionNotFound === 'function',\n        'onPageDefinitionNotFound has to be a function'\n      );\n      this.PageManager.onPageDefinitionNotFound = this.onPageDefinitionNotFound;\n    }\n\n    window.$core = window.$core || [];\n    /* istanbul ignore else */\n    if (this.debug) {\n      window.$core.push(this);\n      this.printDebugInfo();\n    } else {\n      window.$core.push(\n        {\n          // monitoring\n          log: (log) => this.log(log),\n          ingest: (spans) => this.ingest(spans),\n          createSpan: (data) => this.createSpan(data),\n          createUUID: () => this.createUUID(),\n\n          // bridge\n          logout: () => this.logout(),\n          subscribeToEvent: (eventName, callback) => this.subscribeToEvent(eventName, callback),\n          registerInConnection: (channel, node, callback) => this.registerInConnection(channel, node, callback),\n          unsubscribe: (channels, node) => this.unsubscribe(channels, node),\n          registerOutConnection: (channelName, node, bindName) => this.registerOutConnection(channelName, node, bindName),\n          publish: (channelName, value, options) => this.publish(channelName, value, options),\n          navigate: (page, params) => this.navigate(page, params),\n\n          // analytics\n          trackEvent: (data) => this.trackEvent(data),\n\n          // native\n          navigateToNative: (page, params) => this.navigateToNative(page, params),\n          backStep: () => this.backStep(),\n        }\n      );\n    }\n    window.cells = window.$core[0];\n\n    this.BridgeChannelManager.initAppContextChannel();\n    this.BridgeChannelManager.getCancelledBackNavigationChannel();\n    this.ActionChannelManager.subscribeAll();\n\n    // Bridge is ready - execute queued bridge commands\n    this._executePendingBridgeQueue();\n\n    if (this.logs) {\n      this._logBridgeReady();\n    }\n\n    // 1. Listen for route changes\n    // @TODO: Revisar este binding de un mtodo de otro objeto a otro objeto\n    this.Router.handler = () => this.routeHandler();\n    this.Router.addRoutes(this.routes);\n    this._initSkipNavigations();\n    this.Router.start();\n\n    this.navRequestListener = (info) => {\n      if (this.Router.hashIsDirty) {\n        window.location.hash = \"#!\";\n      }\n      var event = info.event;\n      var navigationDetail = info.detail;\n      var page = navigationDetail.page;\n      var params = navigationDetail.params;\n      var skipHistory = navigationDetail.skipHistory;\n      var cleanUntil = navigationDetail.cleanUntil;\n      var replace = navigationDetail.replace || false;\n      var p = {};\n\n\n      if (!page && navigationDetail.paramPage && event.detail) {\n        page = event.detail[navigationDetail.paramPage];\n      }\n      if (event.detail && params) {\n        for (var param in params) {\n          if (params.hasOwnProperty(param)) {\n            p[params[param]] = event.detail[param];\n          }\n        }\n      }\n\n      if (cleanUntil) {\n        this.Router.clearStackUntil(cleanUntil);\n      }\n\n      this.Router.go(page, p, replace, skipHistory);\n      Object.assign(this, config);\n    }\n\n    eventManager.on(NAV_REQUEST, this.navRequestListener);\n\n    eventManager.on(ROUTER_BACKSTEP, (evt) => this.handleBack(evt));\n\n    this.PostMessageManager.setupPostMessages();\n  }\n\n  /**\n   * Performs the go back action. This method is overriden by the CellsNativeBridge\n   *\n   * @return {Object} the executed navigation, an object with properties:\n   *  - from\n   *  - to\n   */\n  goBack() {\n    return this.Router.back();\n  }\n\n  /**\n   * This method is executed when the event router-backstep is fired.\n   * It calls the hook method for handling backward navigations and if that method\n   * allows the continuation, it does the navegation. Otherwise it will cancel the navigation\n   * and publish the response in the channel __bridge_cancelled_back_navigation.\n   */\n  handleBack() {\n    this.goBack();\n  }\n\n  /**\n   * Execute queued bridge commands due to delayed instance of bridge and\n   * premature execution of commands.\n   *\n   * @method\n   * @private\n   */\n  _executePendingBridgeQueue() {\n    if (!window.cellsBridgeQueue || !window.cellsBridgeQueue.length) {\n      return;\n    }\n\n    for (var i = 0; i < window.cellsBridgeQueue.length; i++) {\n      const queuedItem = window.cellsBridgeQueue[i];\n      const { command, parameters } = queuedItem;\n      const queuedCommand = this[command];\n\n      if (!queuedCommand) {\n        console.log(`WARNING: Invalid cells bridge command execution: ${command} (QUEUE).`);\n        return;\n      }\n\n      console.log(`Executing queued command ${command}.`);\n      queuedCommand.apply(this, parameters);\n    }\n\n    delete window.cellsBridgeQueue;\n  }\n\n  _logBridgeReady() {\n    const { appId, version, binding, prplLevel, cache, preCache, preRender } = this;\n    const message = `cells-bridge::ready`;\n    const properties = {\n      appId,\n      version,\n      binding,\n      href: window.location.href,\n      prplLevel,\n      cache,\n      preCache,\n      preRender\n    };\n    const log = { message, properties };\n\n    this.logBridge(log);\n  }\n\n  _initSkipNavigations() {\n    if (this.skipNavigations && this.skipNavigations.length>0) {\n      for (let i=0; i<this.skipNavigations.length; i++) {\n        this.skipNavigations[i].skipHistory = true;\n      }\n      this.Router.addSkipNavigations(this.skipNavigations);\n    }\n  }\n\n  _normalizePrplLevel(prplLevelCode) {\n    const { VALUES: prplList } = prpl;\n    let normalizedCode;\n\n    if (prplList.indexOf(prplLevelCode) > -1) {\n      normalizedCode = prplLevelCode;\n    } else {\n      normalizedCode = prplList[prplLevelCode] || DEFER;\n    }\n    return normalizedCode;\n  }\n\n  _dispatchEvent(name, payload) {\n    const mainNode = this.getMainNode();\n    const event = (payload) ? new CustomEvent(name, { detail: payload }) : new CustomEvent(name);\n\n    mainNode.dispatchEvent(event);\n  }\n\n  _plugExternalEvents() {\n    let len = this.externalEvents.length;\n    let mainNode = this.getMainNode();\n\n    if (mainNode) {\n      for (let i = 0; i < len; i++) {\n        const eventName = this.externalEvents[i];\n\n        eventManager.on(eventName, (data) => {\n          this._dispatchEvent(eventName, data);\n\n          if (this.logs) {\n            this.monitor(eventName, data);\n          }\n        });\n      }\n      this._initEventChannels();\n    } else {\n      console.warn('The defined main node does not exist');\n    }\n  }\n\n  /**\n   * Send analytics data event to main node.\n   * Cells Analytics Collector (Adobe / Target) are listening for main node event's and interept & process them.\n   *\n   * @param {Object} data Analytics info.\n   */\n  trackEvent(data) {\n    const { TRACK_EVENT } = externalEventsCodes;\n\n    // We just emit a TRACK_EVENT event, modeled as an out connection (we respect normal analytics flow)\n    eventManager.emit(TRACK_EVENT, { detail: data });\n  }\n\n  monitor(eventName, data) {\n    const { LOG_EVENT } = externalEventsCodes;\n    const isApplicationLogEvent = eventName === LOG_EVENT;\n    const isLoggable = isApplicationLogEvent || this.isBridgeLoggableEvent(eventName);\n\n    if (isLoggable) {\n      const log = this.monitoring.buildLog(eventName, data);\n      const method = isApplicationLogEvent ? 'log' : 'logBridge';\n\n      this[method](log);\n    }\n  }\n\n  isBridgeLoggableEvent(eventName) {\n    return this.monitoring.isBridgeLoggableEvent(eventName);\n  }\n\n  log(log) {\n    this.hasApplicationLoggingEnabled() && this.monitoring.logApplication(log);\n  }\n\n  logBridge(log) {\n    this.hasBridgeLoggingEnabled() && this.monitoring.logBridge(log);\n  }\n\n  ingest(spans) {\n    this.hasApplicationLoggingEnabled() && this.monitoring.ingest(spans);\n  }\n\n  createSpan(data) {\n    if (!this.hasApplicationLoggingEnabled()) {\n      return {\n        start() {},\n        finish() {}\n      };\n    }\n\n    return this.monitoring.createSpan(data);\n  }\n\n  createUUID() {\n    return this.monitoring.createUUID();\n  }\n\n  hasBridgeLoggingEnabled() {\n    return this.monitoring.hasBridgeLoggingEnabled();\n  }\n\n  hasApplicationLoggingEnabled() {\n    return this.monitoring.hasApplicationLoggingEnabled();\n  }\n\n  _initEventChannels() {\n    let mainNode = this.getMainNode();\n    this.BridgeChannelManager.initEventChannels(mainNode, this.externalEvents);\n    this._addInitialSubscribersToEvents();\n  }\n\n  _addInitialSubscribersToEvents() {\n    if (this.eventSubscriptions && this.eventSubscriptions.length > 0) {\n      this._subscribeToEvents(this.eventSubscriptions);\n    }\n  }\n\n  _subscribeToEvents(eventSubscriptions) {\n    eventSubscriptions.forEach((subscription) => {\n      const { event, callback } = subscription;\n\n      this.subscribeToEvent(event, callback);\n    });\n  }\n\n  /**\n   * Initialization of cross components container.\n   * Check if cross component container exists. Otherwise, it will be created.\n   *\n   * @private\n   */\n  _initCrossComponents() {\n    const crossContainerTemplateId = this.TemplateManager.parseTemplateId(this.crossContainerId);\n    let crossContainer = this.TemplateManager.get(crossContainerTemplateId);\n    const crossContainerElement = document.getElementById(crossContainerTemplateId);\n\n    // no cross container registered on memory\n    if (!crossContainer) {\n      if (!crossContainerElement) {\n        // no html element for cross container, we build it from scratch\n        crossContainer = this.TemplateManager.create(this.crossContainerId, { tagName: 'div' });\n        document.body.appendChild(crossContainer.node);\n      } else {\n        // html element found. we register it\n        this.TemplateManager.register(this.crossContainerId, crossContainerElement);\n      }\n    }\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: ComponentConnector,\n        DomManager: ManagerDom,\n        ImportManager: ImportManager,\n        TemplateManager: TemplateManager,\n        PageManager: ManagerPage,\n        Router: Router,\n        Sanitizer: Sanitizer,\n        BridgeChannelManager: BridgeChannelManager,\n        ActionChannelManager: ActionChannelManager,\n        monitoring: Monitoring,\n        featureFlagCollection: FeatureFlagCollection,\n        PostMessageManager: PostMessageManager\n      },\n      dependencies\n    );\n    for (let dependence in dependencies) {\n      if (dependencies.hasOwnProperty(dependence)) {\n        this[dependence] = new dependencies[dependence](this);\n      }\n    }\n  }\n\n  _initComposerEngine() {\n    /* global composerEngine */\n    this.composerEngine = new ComposerEngineProxy(this.ComponentConnector.manager, composerEngine);\n    this.composerEngine.init();\n    this.PageManager.composerEngine = this.composerEngine;\n  }\n\n  _createCellsComponent(spec, context) {\n    let cmp = new Component(spec, context);\n    if(spec.featureFlag) {\n      FeatureFlagComponent.extend(cmp, this);\n    }\n    return cmp;\n  }\n\n  createCCComponent(spec) {\n    var container = this.TemplateManager.get(this.crossContainerId);\n    var node = container.node.querySelector(spec.tagName);\n    if (!node) {\n      var cmp = this._createCellsComponent(spec, this);\n      cmp.__parentTemplate = container;\n      this.ComponentConnector.register(cmp.node, cmp.spec.connections);\n      return cmp;\n    } else {\n      this.ComponentConnector.progressiveRegister(node, spec.connections);\n    }\n  }\n\n  createUIComponent(spec) {\n    const { ALWAYS, DELAYED, UI } = bindingCodes;\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n\n    if (bindingType === ALWAYS || bindingType === DELAYED || bindingType === UI) {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  createDMComponent(spec) {\n    const { ALWAYS, DELAYED } = bindingCodes;\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n\n    if (bindingType === ALWAYS || bindingType === DELAYED) {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  _createLocalComponent(type, items, template) {\n    var collection = [];\n    for (var i = 0, l = items.length; i < l; i++) {\n      var spec = items[i];\n      var cmp = this['create' + type + 'Component'](spec);\n      if (cmp) {\n        cmp.__parentTemplate = cmp.__parentTemplate || template;\n        collection.push(cmp);\n      }\n    }\n    return collection;\n  }\n\n  createComponentsByType(collection, template) {\n    var itemsToInject = [];\n    var sortedList = ['CC', 'UI', 'DM'];\n    for (var j = 0, k = sortedList.length; j < k; j++) {\n      var type = sortedList[j];\n      var items = collection[type];\n      itemsToInject = itemsToInject.concat(this._createLocalComponent(type, items, template));\n    }\n    return itemsToInject;\n  }\n\n  _createComponents(response, template, isPreRendering = false) {\n    const { PAGE_READY } = externalEventsCodes;\n    const { page } = response;\n\n    var options = this;\n    var collection = this.Sanitizer.split(response.components);\n    var components = this.createComponentsByType(collection, template);\n    var unresolvedComponents = [];\n    var templateParents = [];\n\n    for (var i = 0, l = components.length; i < l; i++) {\n      // 9. Sets default attributes\n      components[i].setProps();\n      var component = components[i];\n      var parentName = component.__parentTemplate.name;\n      if (!templateParents[parentName]) {\n        templateParents[parentName] = this.TemplateManager.get(parentName);\n      }\n      // 9.1 Append components to template\n      templateParents[parentName].append(component);\n\n      if (component.isUnresolved()) {\n        unresolvedComponents.push(component);\n      }\n    }\n\n    eventManager.emit(PAGE_READY, { page, components: response.components.map(c => c.tagName).join(', ')});\n\n    switch(this.prplLevel) {\n    case prplCodes.NONE:\n    case prplCodes.DEFER:\n      this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath).then(() => {\n        this.selectTemplate(page, isPreRendering);\n      });\n      break;\n    case prplCodes.PROGRESSIVE:\n      this.ImportManager.loadComponent(unresolvedComponents, options.componentsPath);\n      break;\n    case prplCodes.HERO:\n      this.selectTemplate(page, isPreRendering);\n      this.ImportManager.loadComponentByPriority(unresolvedComponents, options.componentsPath);\n      break;\n    }\n  }\n\n  createPageFromWebComponent(name) {\n    const componentName = `${name}-page`;\n    let node = this.TemplateManager.getNode(name);\n\n    this.BridgeChannelManager.getPrivate(name);\n\n    if (!node) {\n      node = this.TemplateManager.createFromComponent(name, componentName);\n\n      if (node.isUnresolved() && node.node.updateComplete===undefined) {\n        // is not LitElement so it must be a PolymerElement\n        return this.loadPolymerWebComponent(name);\n      }\n    }\n    return Promise.resolve();\n  }\n\n  _isLocalTemplate(templateName) {\n    let isLocal = true;\n    if (this.composerEndpoint && this.remoteTemplates) {\n      isLocal = this.remoteTemplates.indexOf(templateName) === -1;\n    }\n    return isLocal;\n  }\n\n  createTemplate(response, isPreRendering = false) {\n    let spec = response;\n    let name = response.page;\n    let node = this.TemplateManager.getNode(name);\n    let useComposerEngineForThisPage = this.composerEngine && !this.PageManager._isLocalComposer(name);\n    this.BridgeChannelManager.getPrivate(name);\n\n    if (!isPreRendering && this.preRenderingPages[name]) {\n      this.preRenderingPages[name] = preRenderState.REQUESTED;\n      return;\n    }\n\n    // Template is cached\n    if (node && !useComposerEngineForThisPage) {\n      this.selectTemplate(name, isPreRendering);\n    } else {\n      // Template not cached and has definition\n      if (spec && spec.template) {\n        if (this.prplLevel === prplCodes.DEFER && this._isLocalTemplate(name)) {\n          // Review this: need check if template is LitElement to avoid load html bundle\n          if(this.onlyLitElements) {\n            this._createTemplateFromSpec(name, spec, isPreRendering)\n          } else {\n            this.ImportManager.loadBundleForTemplate(this.componentsPath, name).then(() => {\n              this._createTemplateFromSpec(name, spec, isPreRendering)\n            });\n          }\n        } else {\n          this._createTemplateFromSpec(name, spec, isPreRendering);\n        }\n      }\n    }\n    this._preRender(response, isPreRendering);\n  }\n\n  _preRender(response, isPreRendering) {\n    if ((this.preCache === true || this.preRender === true) && response.pages) {\n      for (var page in response.pages) {\n        if(response.pages.hasOwnProperty(page)) {\n          let pageAlreadyLoaded = (page === name || this.TemplateManager.cache[page]);\n          if (pageAlreadyLoaded) {\n            continue;\n          }\n          if (this.preRender && isPreRendering === false) {\n            this.preRenderingPages[page] = preRenderState.WORKING;\n          }\n          this.loadTemplate(page).then(templateResponse => {\n            if (this.preRender && isPreRendering === false) {\n              let doPreRender = true;\n              if (templateResponse.page) {\n                this._idleCallback(() => this.createTemplate(templateResponse, doPreRender));\n              } else {\n                console.warn('Missing page. ', templateResponse);\n              }\n            }\n          });\n        }\n      }\n    }\n  }\n\n  _createTemplateFromSpec(name, spec, isPreRendering = false) {\n    // 4. Creates the new template\n    var template = this.TemplateManager.create(name, spec.template, isPreRendering);\n\n    if (this.prplLevel === prplCodes.PROGRESSIVE) {\n      this.selectTemplate(name, isPreRendering);\n    }\n    this.ComponentConnector.register(template.node, template.connections);\n    // Add new routes in router\n    if (spec.pages) {\n      this.Router.addRoutes(spec.pages);\n    }\n    // 5. Import it when doesn't exists\n    if (template.isUnresolved()) {\n      switch(this.prplLevel) {\n      case prplCodes.NONE:\n      case prplCodes.DEFER:\n        this.ImportManager.loadComponent(template, this.componentsPath).then(() => {\n          this._createComponents(spec, template, isPreRendering);\n        });\n        break;\n      case prplCodes.PROGRESSIVE:\n      case prplCodes.HERO:\n        this._createComponents(spec, template, isPreRendering);\n        break;\n      }\n    } else {\n      this._createComponents(spec, template, isPreRendering);\n    }\n\n  }\n\n  /**\n\t * Id for template node\n\t *\n\t * @param  {String} name Template name\n\t *\n\t * @return {String}\n\t */\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  parse(name, value) {\n    name = camelize('parse-' + name);\n    return typeof this[name] === 'function' ?\n      this[name](value) :\n      value;\n  }\n\n  printDebugInfo() {\n    var getColor = function (option, color) {\n      var hexColor = option ?\n        color :\n        '#b0bec5';\n      return `background:${hexColor}; color:#fff; padding:2px 4px; margin-right: 5px;`;\n    };\n    console.log(\n      `%cbridge version: ${this.version} %cbinding: ${this.binding} %cprplLevel: ${this.prplLevel} %ccache: ${this.cache} %cpreCache: ${this.preCache} %cpreRender: ${this.preRender} %clogs: ${this.logs}`,\n      getColor(this.version, '#003f8d'),\n      getColor(this.binding, '#0065ba'),\n      getColor(this.prplLevel, '#008ff2'),\n      getColor(this.cache, '#0093e2'),\n      getColor(this.preCache, '#00aeeb'),\n      getColor(this.preRender, '#41cef8'), //#00aeeb\n      getColor(this.logs, '#0025ad') //#00aeeb\n    );\n\n    if (this.id > 0) {\n      console.log(`%cWARNING: There are ${this.id + 1} simultaneous instances of the Bridge running.`,\n        getColor(this.id, '#FF0000'));\n    }\n  }\n\n  routeHandler() {\n    const { PARSE_ROUTE } = externalEventsCodes;\n    var route = this.Router.currentRoute;\n\n    eventManager.emit(PARSE_ROUTE, route);\n\n    // 2. Load a new page when route changes\n    this._handleRouteLoading(route);\n\n    // 3. Publish URL params to global params.\n    for (let param in route.params) {\n      if (route.params.hasOwnProperty(param)) {\n        let eventData = {\n          detail: {\n            value: route.params[param]\n          },\n          type: dasherize(param) + '-changed'\n        };\n\n        this.ComponentConnector.manager.get(param).next(eventData);\n      }\n    }\n  }\n\n  /**\n   * Determines if given route maps to a component.\n   *\n   * @param  {Object}  route  Route object.\n   * @return {Boolean}\n   */\n  isRoutableComponent(route) {\n    return this.pages.indexOf(route.name) >= 0;\n  }\n\n  loadTemplate(name, params) {\n    const { cache, method, body, headers, app, templatesPath: templates } = this;\n    const options = { cache, params, method, body, headers };\n    const config = { app, templates };\n\n    return this.PageManager.get(name, options, config);\n  }\n\n  // @TODO DRY -> sanitizer lo usa tambin\n  loadPolymerWebComponent(name) {\n    const path = Array(2).fill(`${name}-page`).join('/');\n    const component = { spec: { path: `${path}.html` } };\n\n    return this.ImportManager.loadComponent(component, this.pagesPath);\n  }\n\n  _handleRouteLoading(route) {\n    if (this.isRoutableComponent(route)) {\n      this.createPageFromWebComponent(route.name).then(() => this.selectPage(route.name, route.params));\n    } else {\n      this.loadTemplate(route.name, route.params).then(response => this.createTemplate(response));\n    }\n  }\n\n  registerCurrentTemplate(currentTemplate, previousTemplate) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const { UI } = bindingCodes;\n    var options = this;\n\n    if (previousTemplate && previousTemplate !== currentTemplate) {\n      this.unregisterChildren(previousTemplate, options.binding === UI ? 'DM' : null);\n    }\n    this.registerChildren(currentTemplate, options.binding === UI ? 'DM' : null);\n\n    this._updateChannels(previousTemplate, currentTemplate);\n    eventManager.emit(TEMPLATE_REGISTERED, { template: currentTemplate.name });\n  }\n\n  // this function MAY BE OVERRIDE on native bridge - not required due to internal router updateing the context\n  _updateChannels(previousTemplate, currentTemplate) {\n    if (this.BridgeChannelManager) {\n      var oldName = previousTemplate ? previousTemplate.name : undefined;\n      this.BridgeChannelManager.updateAppContext(oldName, currentTemplate.name);\n      this.BridgeChannelManager.initPrivateChannel(oldName, currentTemplate.name);\n    }\n  }\n\n  registerChildren(template, type) {\n    for (let index = 0; index < template.children.length; index++) {\n      const component = template.children[index];\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.register(component.node, component.connections);\n      }\n    }\n  }\n\n  unregisterChildren(template, type) {\n    for (let index = 0; index < template.children.length; index++) {\n      const component = template.children[index];\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.unregister(component.node);\n      }\n    }\n  }\n\n  registerInConnection(channelName, node, callback) {\n    this.ComponentConnector.addSubscription(channelName, node, callback);\n  }\n\n  registerOutConnection(channelName, htmlElement, bindName) {\n    this.ComponentConnector.addPublication(channelName, htmlElement, bindName);\n  }\n\n  unsubscribe(channels, node) {\n    this.ComponentConnector.unsubscribe(channels, node);\n  }\n\n  publish(channelName, value, options) {\n    this.ComponentConnector.publish(channelName, value);\n  }\n\n  navigate(page, params) {\n    this.Router.go(page, params);\n  }\n\n  // dummy methods only for native override\n  navigateToNative(page, params) {\n\n  }\n\n  backStep() {\n\n  }\n\n  _waitRenderComplete(template) {\n    return template.node.updateComplete || Promise.resolve();\n  }\n\n  selectPage(name, params) {\n    const { TEMPLATE_REGISTERED } = externalEventsCodes;\n    const template = this.TemplateManager.get(name);\n    const currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n    const oldTemplateName = currentTemplate ? currentTemplate.name : null;\n\n    if (this.onRender) {\n      this.onRender(template.node);\n    }\n\n    (async () => {\n      await this._waitRenderComplete(template);\n      this._handleParams(template.node, params);\n      this.TemplateManager.select(name, this.BridgeChannelManager, this.binding);\n\n      if (this.BridgeChannelManager) {\n        this.BridgeChannelManager.updateAppContext(oldTemplateName, name);\n        this.BridgeChannelManager.initPrivateChannel(oldTemplateName, name);\n      }\n\n      eventManager.emit(TEMPLATE_REGISTERED, { template: name });\n    })();\n  }\n\n  _handleParams(node, params) {\n    const shouldBindParams = node.params && Object.keys(params).length > 0;\n\n    if (shouldBindParams) {\n      node.params = params;\n    }\n  }\n\n  selectTemplate(name, isPreRendering = false) {\n    const { TEMPLATE_TRANSITION_END } = externalEventsCodes;\n    const { CURRENTVIEW, UI, DELAYED } = bindingCodes;\n    let options = this;\n    let template = this.TemplateManager.get(name);\n    const shouldRender = isPreRendering !== true || this.preRenderingPages[name] === preRenderState.REQUESTED;\n\n    if ((options.binding === CURRENTVIEW || options.binding === UI) && shouldRender) {\n      // COMPROBAR 5 VECES\n      const currentTemplate = this.TemplateManager.get(this.TemplateManager.selected);\n      const onTemplateAnimationFinishes = () => this.registerCurrentTemplate(template, currentTemplate);\n\n      if (template.node.animationCompleteEvent) {\n        eventManager.listenToOnce(template.node, template.node.animationCompleteEvent, onTemplateAnimationFinishes);\n      } else {\n        eventManager.once(TEMPLATE_TRANSITION_END, onTemplateAnimationFinishes);\n      }\n    }\n    if (options.onRender) {\n      if (template.fixedChildren.length>0) {\n        options.onRender(template.node, template.fixedChildren);\n      } else {\n        options.onRender(template.node);\n      }\n    }\n    // 10. Shows the template created if it is not pre rendering or\n    // if it's a pre-rendered page that has been requested\n    if (isPreRendering) {\n      delete this.preRenderingPages[name];\n    }\n\n    if (shouldRender) {\n      const animateTemplate = () => this.TemplateManager.select(name, this.BridgeChannelManager, options.binding);\n\n      if (options.binding === DELAYED) {\n        this._idleCallback(animateTemplate);\n      } else {\n        animateTemplate();\n      }\n    }\n  }\n\n  _idleCallback(fn) {\n    this.BridgeChannelManager.getIdleCallbackChannel().subscribe(fn);\n  }\n\n  /**\n   *\n   * It subscribe the main node to an event channel.\n   *\n   * @param {*} eventName is the name of the event to subscribe\n   * @param {*} callback is the function to call when the event channel is activated with a new value\n   */\n  subscribeToEvent(eventName, callback) {\n    if (this.externalEvents.indexOf(eventName)<0) {\n      console.warn('Trying to subscribe to a non existing event: ', eventName);\n      return;\n    }\n    if (typeof callback !== 'function') {\n      console.warn('You must provide a function callback to subscribe to the event: ', eventName);\n      return;\n    }\n    let mainNode = this.getMainNode();\n    this.BridgeChannelManager.subscribeToEvent(mainNode, eventName, callback);\n  }\n\n  getMainNode() {\n    if (!this.__mainNodeElement) {\n      this.__mainNodeElement = document.querySelector('#' + this.mainNode);\n    }\n    return this.__mainNodeElement;\n  }\n\n  _resetBridgeChannels() {\n    const cleanPrivateChannels = true;\n    this.BridgeChannelManager.resetBridgeChannels(this.getMainNode(), cleanPrivateChannels);\n  }\n\n  /**\n   *\n   * Performs a logout action. It resets all channels, removes templates from DOM\n   * and redirects to the initial page\n   *\n   */\n  logout() {\n    if (this.TemplateManager.selected === this.initialTemplate) {\n      return;\n    }\n\n    // clean up current page\n    this.BridgeChannelManager.publishPrivatePageStatus(this.TemplateManager.selected, false);\n\n    this._resetBridgeChannels();\n\n    this.TemplateManager.removeTemplateChildrens(this.crossContainerId);\n    this.TemplateManager.removeTemplates(undefined, this.crossContainerId);\n\n    this._initEventChannels();\n\n    if (this.composerEngine) {\n      this.composerEngine.reset();\n    }\n\n    this.Router.init();\n    this.Router.go(this.initialTemplate);\n  }\n}\n\nexport default CellsBridge;","import CellsComponentConnector from '../core/component-connector';\n\nconst _dashToCamelCase = input => {\n  return input.toLowerCase().replace(/-(.)/g, function(match, group1) {\n    return group1.toUpperCase();\n  });\n}\n\nconst _getProperyChangedName = function (name) {\n  let propertyName;\n  const EVENT_CHANGED = '-changed';\n\n  if (name.indexOf(EVENT_CHANGED, name.length - EVENT_CHANGED.length) !== -1) {\n    propertyName = name.slice(0, - EVENT_CHANGED.length);\n    propertyName = _dashToCamelCase(propertyName);\n  }\n\n  return propertyName;\n};\n\n// Hell to test:\nvar _parseActionInEvent = function(evt, targetPath, target, litElement) {\n  var path;\n  var value;\n\n  // Check if event is because of property changed.\n  var propertyName = _getProperyChangedName(evt.type);\n\n  if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n    value = evt.detail.value;\n    targetPath = targetPath || propertyName;\n\n    if (evt.detail.path) {\n      path = evt.detail.path.replace(propertyName, targetPath);\n    } else {\n      path = targetPath;\n    }\n  } else {\n    path = targetPath;\n    value = evt.detail;\n  }\n\n  if (target !== undefined && target.is === undefined && typeof(value) === 'object') {\n    if (Polymer && Polymer.Element === undefined && !litElement) {\n      value = JSON.stringify(value);\n    } else {\n      /* istanbul ignore else */\n      if ((Polymer && Polymer.Element && target instanceof Polymer.Element) === false && !litElement) {\n        value = JSON.stringify(value);\n      }\n    }\n  }\n\n  return {\n    path: path,\n    value: value,\n    property: targetPath\n  };\n};\n\nexport default class CellsPolymerComponentConnector extends CellsComponentConnector {\n\n  wrapCallback(node, bindName) {\n    return function(evt) {\n      var _idleCallback = function(fn) {\n        setTimeout(\n          function () {\n            if ('requestIdleCallback' in window) {\n              window.requestIdleCallback(fn);\n            } else {\n              setTimeout(fn, 1);\n            }\n          }, 100\n        );\n      }\n\n      var checkDispatchActionType = function(mutations, observerObject) {\n        var isPolymerElement = this._isPolymerElement(node);\n        var isLitElement = this._isLitElement(node);\n\n        /* istanbul ignore else */\n        if (isPolymerElement || isLitElement) {\n          if (typeof(bindName) === 'function') {\n            this._dispatchActionFunction(evt, node, bindName);\n          } else {\n            if (typeof node[bindName] === 'function') {\n              this._dispatchActionFunction(evt, node, bindName);\n            } else {\n              this._dispatchActionProperty(evt, node, bindName, isLitElement);\n            }\n          }\n\n          /* istanbul ignore else */\n          if (observerObject) {\n            observerObject.disconnect();\n          }\n        } else {\n          _idleCallback(checkDispatchActionType);\n        }\n      }.bind(this);\n\n      if (this._isPolymerElement(node) || this._isLitElement(node)) {\n        checkDispatchActionType();\n      } else {\n        var observer = new MutationObserver(checkDispatchActionType);\n        var config = { attributes: false, childList: true, characterData: true };\n        observer.observe(node, config);\n\n        _idleCallback(checkDispatchActionType, 100);\n      }\n    }.bind(this);\n  }\n\n  /**\n   * Return the version of Polymer instance if the node is a Polymer element.\n   * Return -1 if if the node is not a Polymer element.\n   *\n   * @param {Element} node\n   */\n  _whichPolymerVersion(node) {\n    let version = -1;\n    if (Polymer && Polymer.Element !== undefined && (node instanceof Polymer.Element || node instanceof Polymer.LegacyElementMixin)) {\n      version = 2;\n    } else {\n      /* istanbul ignore else */\n      if (node.__isPolymerInstance__ !== undefined) {\n        version = 1;\n      }\n    }\n    return version;\n  }\n\n  /**\n   * Return true if the node is instance of a Polymer element, otherwise return false.\n   *\n   * @param {Element} node\n   */\n  _isPolymerElement(node) {\n    return this._whichPolymerVersion(node) > 0;\n  }\n\n  _isLitElement(node) {\n    const { tagName } = node;\n    const normalizedTagName = tagName.toLowerCase();\n    const { customElements } = window;\n\n    return customElements && !!customElements.get(normalizedTagName);\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    var atTarget;\n    if (/** For Polymer 2 **/ Polymer && Polymer.Settings && ( Polymer.Settings.hasShadow === false || /** For Polymer 2 **/ Polymer.Settings.useShadow === false) ) {\n      var normalizedEvent = Polymer.dom(event);\n      atTarget = normalizedEvent.localTarget === event.currentTarget;\n    } else {\n      atTarget = super._isEventAtTarget(event);\n    }\n    return atTarget;\n  }\n\n  _dispatchActionFunction(evt, target, method) {\n    var propertyName = _getProperyChangedName(evt.type);\n    var payload;\n\n    if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n      if (Polymer && Polymer.dom(evt).rootTarget) {\n        payload = Polymer.dom(evt).rootTarget[propertyName];\n      } else {\n        payload = evt.detail.value;\n      }\n    } else {\n      payload = evt.detail;\n    }\n\n    //TODO: Review to see if we actually want to show this warning.\n    if (this.bridge && this.bridge.debug && this.bridge.parsePayload && ('' + target[method]).indexOf('.data') > -1) {\n      payload = this.bridge.parsePayload(evt.detail);\n      console.warn('%c' + target.tagName + '%c is using an incompatible payload data in ' + method, 'background: #ff9800; color: white; padding: 4px 4px 4px 10px', 'background: #ff9800; color: rgba(255,255,255,0.9); padding: 4px 10px 4px 0');\n    }\n\n    if (typeof(method) === 'function') {\n      method(payload);\n    } else {\n      target[method](payload);\n    }\n  }\n\n  _getTargetProperties(target) {\n    let props;\n\n    if (target.constructor.config) {\n      props = target.constructor.config.properties;\n    } else if (target.constructor._properties) {\n      props = target.constructor._properties\n    }\n\n    return props;\n  }\n\n  _dispatchActionProperty(evt, target, property, litElement) {\n    var info;\n    var data = _parseActionInEvent(evt, property, target, litElement);\n\n    //check if it's a LitElement\n    if (target.updateComplete instanceof Promise && typeof target.render === 'function') {\n      //return target[data.property] = target.constructor._classProperties.get(data.property).type(data.value);\n      return target[data.property] = data.value;\n    }\n\n    if (target && target.constructor._finalize) {\n      var isProperty = target.constructor.properties[data.property];\n\n      if (isProperty) {\n        target[data.property] = data.value;\n        return;\n      } else {\n        return this._handleAttribute(target, data);\n      }\n    }\n\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      if (target.getPropertyInfo) {\n        info = target.getPropertyInfo(data.property)\n      } else {\n        info = this._getTargetProperties(target)[data.property];\n      }\n\n      /* istanbul ignore else */\n      if (info && info.defined && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n    }\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo === undefined || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      info = this._getTargetProperties(target) !== undefined ? this._getTargetProperties(target)[data.property] : undefined;\n\n      /* istanbul ignore else */\n      if (info && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n\n    }\n\n    return this._handleAttribute(target, data);\n  }\n\n  _handleAttribute(target, {value, path}) {\n    // check if target property is a boolean one and current value is false.\n    // it expects to remove the attribute (as it's a boolean one)\n    if (typeof(value) === 'boolean' && !value) {\n      return target.removeAttribute(path);\n    }\n\n    return target.setAttribute(path, value);\n  }\n\n  register(node, connections) {\n    super.register(node, connections);\n\n    if (!node || !connections) {\n      return;\n    }\n\n    if (node.__isCellsConnected) {\n      return;\n    }\n\n    /* istanbul ignore else */\n    if (connections.in) {\n      for (let action in connections.in) {\n        if(connections.in.hasOwnProperty(action)){\n          /* istanbul ignore else */\n          if (this.manager.get(action)._events[0]) {\n            /* istanbul ignore else */\n            if (connections.ignoreAttr) {\n              connections.ignoreAttr.push(connections.in[action].bind);\n            } else {\n              connections.ignoreAttr = [connections.in[action].bind];\n            }\n          }\n        }\n      }\n    }\n\n    /* istanbul ignore else */\n    if (connections.out) {\n      for (let _action in connections.out) {\n        if(connections.out.hasOwnProperty(_action)){\n          let attrName = _getProperyChangedName(connections.out[_action].bind);\n\n          let polymerVersion = this._whichPolymerVersion(node);\n          if (polymerVersion === 2 ) {\n            /* istanbul ignore else */\n            if (attrName && node.__data && !this.manager.get(_action)._events[0]) {\n              /* istanbul ignore else */\n              if (node && node._hasReadOnlyEffect) {\n                /* istanbul ignore else */\n                if (!node._hasReadOnlyEffect(attrName) && !node._hasComputedEffect(attrName)) {\n                  let oldValue = node[attrName];\n                  node.__data[attrName] = undefined;\n                  node[attrName] = oldValue;\n                }\n              }\n            }\n          } else {\n            /* istanbul ignore else */\n            if (attrName && node.__data__ && !this.manager.get(_action)._events[0]) {\n              /* istanbul ignore else */\n              if (node && node.getPropertyInfo) {\n                var info = node.getPropertyInfo(attrName);\n\n                /* istanbul ignore else */\n                if (info.defined && !info.readOnly && !info.computed) {\n                  let oldValue = node[attrName];\n                  // remove polymer internal current value to trigger model changes\n                  node.__data__[attrName] = undefined;\n                  node[attrName] = oldValue;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    node.__isCellsConnected = true;\n  }\n\n}\n","import CellsBridgeTemplate from '../core/template';\nimport { isPolymerElementUnresolved } from './resolution-checker';\n\nexport default class PolymerTemplate extends CellsBridgeTemplate {\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n","import CellsManagerTemplate from '../../core/manager/template';\nimport PolymerTemplate from '../template';\n\nexport default class PolymerTemplateManager extends CellsManagerTemplate {\n  _createCellsTemplate(name, spec) {\n    const cellsTemplate = new PolymerTemplate(spec);\n    const cellsTemplateConfig = this._createCellsTemplateConfig(name);\n\n    cellsTemplate.config(cellsTemplateConfig);\n    return cellsTemplate;\n  }\n\n  _createCellsTemplateConfig(name) {\n    return {\n      name,\n      template: {\n        id: this.parseTemplateId(name),\n        name: this.parseTemplateName(name)\n      }\n    };\n  }\n}\n","import CellsBridgeComponent from '../core/component';\nimport { isPolymerElementUnresolved } from './resolution-checker';\n\nexport default class PolymerComponent extends CellsBridgeComponent {\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n","import CellsBridge from '../core/bridge';\nimport PolymerComponentConnector from './component-connector';\nimport PolymerTemplateManager from './manager/template';\nimport PolymerComponent from './component';\nimport FeatureFlagComponent from '../core/featureflag/feature-flag-component';\n\nexport default class CellsPolymerBridge extends CellsBridge {\n\n  constructor(config) {\n    super(config);\n\n    if (Polymer && config.avoidPolymerEventCache === true) {\n      var origGetEvent = Polymer.Base._getEvent;\n      Polymer.Base._getEvent = function(type, bubbles, cancelable) {\n        return origGetEvent(type, bubbles, cancelable, false);\n      }\n    }\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: PolymerComponentConnector,\n        TemplateManager: PolymerTemplateManager\n      },\n      dependencies\n    );\n    super._initDependencies(dependencies);\n  }\n\n  _createCellsComponent(spec, context) {\n    let cmp = new PolymerComponent(spec, context);\n    if(spec.featureFlag) {\n      FeatureFlagComponent.extend(cmp, this);\n    }\n    return cmp;\n  }\n}\n","// BUILD_TARGET import statement is replaced by NormalModuleReplacementPlugin at build time with desireed target.\n// Possible values: core, native, polymer.\nimport './polyfills';\nimport Bridge from './BUILD_TARGET/bridge';\nimport * as metadata from './core/constants';\n\n// TARGETS and BUILD_TARGET are injected through Webpack DefinePlugin,\nconst TARGET_NAMESPACE = TARGETS[BUILD_TARGET] || TARGETS['core'];\nconst { windowExport } = TARGET_NAMESPACE;\n\n// We expose Bridge to Browsers\nwindow[windowExport] = Bridge;\n"],"sourceRoot":""}